/* FMM-TMS - 28/09/2022 16:22 - f24_fr */
var tmsVersion='3.10.2-3b4f3b';
var tms=function(e){"use strict";const t=(e,t)=>{if(!e||Array.isArray(e)||["string","function"].includes(typeof e))throw new Error(`COMMON :: BASE :: DATA LAYER :: assignTuple :: obj is not valid : ${e}`);if(!t||!Array.isArray(t)||t.length<2)throw new Error(`COMMON :: BASE :: DATA LAYER :: assignTuple :: tuple is not valid : ${t}`);return{...e,[t[0]]:t[1]}},n=(e,t,n)=>e.length>=t?e:e.concat(Array(t-e.length).fill(n)),a=e=>n(e.split("?"),2,"")[1].split("&").reduce(((e,a)=>t(e,n(a.split("=").map(decodeURIComponent),2,""))),{});let i={},r={};const o=e=>i[e]||!1,s=e=>r[e]&&r[e](i)||!1,l=e=>{r=e},c=(e,t)=>{r[e]=t},d=e=>{i=e};var u=Object.freeze({__proto__:null,getUrlVars:a,get:o,is:s,setRuntimeHelpers:l,addRuntimeHelper:c,setData:d});const p={},g=e=>{if(e&&"string"!=typeof e)throw new Error(`List :: getValue :: key is not valid : ${e}`);return p[e]},f=e=>{if(e&&"string"!=typeof e)throw new Error(`List :: hasKey :: key is not valid : ${e}`);return!!p[e]},m=(e,t)=>{if("string"!=typeof e)throw new Error(`List :: addValue :: key is not valid : ${e}`);p[e]=t},v="àáäâèéëêìíïîòóöôùúüûñç",h="aaaaeeeeiiiioooouuuunc",b="·/_,:;",y="------",_=/^\s+|\s+$/g,w=/[\.\[\]\(\)\{\}]/g,T=/[\s-_]+/g,k=e=>void 0===e||Boolean(e),A=e=>e.replace(_,""),P=e=>e[0].toLocaleUpperCase()+e.slice(1),x=(e,t,n)=>[...t].reduce(((e,t,a)=>e.replace(new RegExp(t,"g"),[...n][a])),e),C=(e,t)=>e.replace(w,"").replace(T,t||""),I=e=>C(x(e,b,y),"-"),S=e=>x(e,v,h),O=e=>I(S(A(e).toLowerCase())),E=(e,t,n)=>Object.keys(t).reduce(((e,n)=>e.replace(new RegExp(n,"g"),t[n])),k(n)?O(e):e),$=(e,t)=>void 0!==t.find((t=>-1!==e.indexOf(t))),U=(e,t,n)=>{if(e.toString().length>t)return e.toString();let a=e.toString();for(;a.length<t;)a=n.toString()+a;return a},R=e=>U(e,2,"0");var L={transliterate:S,slugify:O,replaceAll:E,isFoundInArray:$,lpad:U,addZero:R,ucfirst:P,trim:A};const M=()=>{const e=window.navigator.language||navigator.userLanguage||"en";return/^fr|en|es|pt|ha|fa|sw|zh|km|ro|ru|uk|vi|ps|prs|bn|bm|ff/gi.test(e)?e:"en"};var j=e=>{const t=window,n=t.location,a=t.document.documentElement,i=new Date;return{authors:[],canonical(){const e=new URL(n.href.replace(n.search,"").replace(n.hash,""));return/fastly/.test(e.host)&&(e.host=e.host.replace(".global.ssl.fastly.net","").replace("rfi","www.rfi.fr").replace("f24","www.france24.com")),e.href},cat1:()=>"homepage"===e("page_name")?"accueil":"",cat2:"",cat3:"",content_id:"",content_title:()=>document.title,content_type:"service",deeplink(){let t="";const a=e,i=`${a("site_brand")}://${a("site_locale")}/`,r=a("content_id");switch(a("content_type")){case"homepage":t=i;break;case"section":t=`${i}section/${n.pathname.replace(/\/$/g,"").split("/").reverse()[0]}`;break;case"article":case"depeche":t=`${i}article/${r}`;break;case"video":case"edition":t=`${i}show/${r}`;break;case"emission":t=`${i}show_list/${r}`;break;case"tag":t=`${i}tag/${r}`;break;default:t=""}return t},device_type(){const e=t.innerWidth,n=t.innerHeight,a=navigator.userAgent.match(/Android|BlackBerry|Mobile|iPhone|iPod|Opera Mini/i);let i=e<=1024&&e>=n&&e/n<2.4||n<=1024&&n>=e&&n/e<2.4?"tablette":"desktop";return(e<640&&n>=e&&n/e<2.4&&a||n<640&&e>=n&&e/n<2.4&&a)&&(i="mobile"),i},fb_locale:()=>({fr:"fr_FR",en:"en_US",ar:"ar_AR",es:"es_LA",pt:"pt_PT",br:"pt_BR",cn:"zh_CN",tw:"zh_TW",km:"km_KH",ha:"ha_NG",fa:"fa_IR",sw:"sw_KE",ma:"fr_FR",ff:"ff_NG",ps:"ps_AF",prs:"fa_IR",bn:"bn_IN",ro:"ro_RO",ru:"ru_RU",uk:"uk_UA",vi:"vi_VN"}[e("site_locale")]||"fr_FR"),http_code:200,main_media_type:"texte",page_name:"",publication_date:()=>`${i.getFullYear().toString()}-${R(i.getMonth()+1)}-${R(i.getDate())}`,publication_time:()=>`${R(i.getHours())}:${R(i.getMinutes())}`,site_brand:(()=>{const e=n.host.split("."),t=e.reverse();let a=(t[1]||"").replace(/f(rance)?(24-mcd-rfi|mediasmonde)/,"fmm").replace(/france24/,"f24").replace(/mc-doualiya/,"mcd");return t.length>2&&"francaisfacile"===t[2]?a="fle":"fmm"===a&&n.pathname.indexOf("infomigrants")>-1?a="infomigrants":"fastly"===a&&([a]=e),a})(),site_context:"interne",site_dir:()=>a.getAttribute("dir")||"ltr",site_env:(()=>{const e=n.host.match(/(priv|local|p(re)?pr|rec)/gi)||[];let a="prod";return e.length>0?[a]=e:/local/.test(t.tmsVersion)&&(a="local"),a})(),site_locale:()=>(a.getAttribute("data-locale")||a.lang||M()).replace(/bm/gi,"ma").replace(/zh-Hans/gi,"cn").replace(/zh-Hant/gi,"tw").replace(/pt-BR/gi,"br").substring(0,3).replace(/-+$/g,""),site_medium:"",site_type(){const e=t.innerWidth,n=t.innerHeight,a=navigator.userAgent.match(/Android|BlackBerry|Mobile|iPhone|iPod|Opera Mini/i);return e<640&&n>=e&&n/e<2.4&&a||n<640&&e>=n&&e/n<2.4&&a?"site-mobile":"site"},site_version:"1.0",special_event:"",tags:[],tms_version:t.tmsVersion}};const D=j(F),V=e=>{let t=o(e);if(null!=t&&t){if("object"==typeof t&&t.length>0){const e={name:[],name_clean:[],name_slug:[],id:[]},n=t=>{const n=t[0].replace("title","name");e[n]=e[n]||[],e[n].push(t[1])};for(let e=0;e<t.length;e+=1)Object.entries(t[e]).map((e=>n(e)));t=e}}else t="function"==typeof D[e]?D[e]():void 0!==D[e]&&D[e];return(t||""===t)&&m(e,t),t};function F(e){return void 0===e||""===e?(Object.keys(D).map((e=>V(e))),p):V(e)}const N=["site_dir","site_locale","site_type","fb_locale"];var H=e=>f(e)&&$(e,N)?g(e):F(e),B=e=>{try{const t={homepage:()=>"homepage"===H("page_name"),section:()=>"section"===H("content_type")&&"homepage"!==H("page_name"),brand_content:()=>"object"==typeof H("brand_content"),article:()=>"article"===H("content_type"),depeche:()=>"depeche"===H("content_type"),emission:()=>"emission"===H("content_type"),edition:()=>"edition"===H("content_type"),tag:()=>"tag"===H("content_type"),service:()=>"service"===H("content_type"),error:()=>"erreur"===H("content_type"),iOS:()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,desktop:()=>"site"===H("site_type"),mobile:()=>"site-mobile"===H("site_type"),embed:()=>/(embed|articles)\./.test(window.location.hostname),ia:()=>"ia"===H("site_medium"),f24:()=>"f24"===H("site_brand"),rfi:()=>"rfi"===H("site_brand"),mcd:()=>"mcd"===H("site_brand"),fle:()=>"fle"===H("site_brand"),obs:()=>H("site_brand").indexOf("obs")>-1,academie:()=>H("site_brand").indexOf("academie")>-1,rfi_musique:()=>H("site_brand").indexOf("rfi-musique")>-1,rfi_savoirs:()=>H("site_brand").indexOf("rfi-savoirs")>-1,graphics:()=>/(graphics|webdoc|static)\./.test(window.location.hostname),ltr:()=>"ltr"===H("site_dir"),rtl:()=>"rtl"===H("site_dir"),ppr:()=>"prod"!==H("site_env"),test:()=>"prod"!==H("site_env"),mirror:()=>/fastly\./.test(window.location.hostname),save_data:()=>"connection"in navigator&&!0===navigator.connection.saveData,pwa:()=>["fullscreen","standalone","minimal-ui"].some((e=>window.matchMedia(`(display-mode: ${e})`).matches))||navigator.standalone||!1,offline:()=>!navigator.onLine};return e in t&&t[e]()}catch(t){return console.log("%c ERROR.TMS.IS ","background:#f00;color:#fff;line-height:20px;font-weight:bold;","IS - Critical error",{n:e,e:t}),!1}};const q=a(document.location.href).tms_debug||"0",z=e=>`\n  background: #${e};\n  color: #fff;\n  line-height: 20px;\n  font-weight: bold;\n  text-transform: uppercase;\n`,Q=(e,...t)=>{console.log(`%c ${e} `,z("009900"),...t)},K=(e,...t)=>{console.log(`%c ${e} `,z("FF0000"),...t)},Y=(e,...t)=>{console.log(`%c ${e} `,z("9900EE"),...t)},G=(e,t,...n)=>{let a=Q;if(e.indexOf("error.")>-1?a=K:e.indexOf("consent.")>-1&&(a=Y),B("ppr")||"1"===q){const i=[`${e}`,`${t}${n.length>=1?"\n ":""}`];1===n.length?a(...i,n[0]):n.length>1?a(...i,{...n}):a(...i)}},W=e=>{const t={b:H("site_brand"),l:H("site_locale"),s:H("site_version"),t:H("tms_version"),u:window.location.href+(e?"":"?xmlhttprequest=1"),r:document.referrer};e&&(console.log(`%c ${t.b} ${t.l} `,z("0055BB"),`vSite: ${t.s} - vTms: ${t.t}\n\t© ${(new Date).getFullYear()} Copyright France Médias Monde - All rights reserved`),console.log("%c 💻 ",z("009688"),"Join the team: https://fmm.io/jobs"));try{const e=`https://fmm.io/br?i=${encodeURIComponent(btoa(JSON.stringify(t)))}`;console.log("%c 🕷️ ",z("8B4513"),`Report a bug: ${e}`)}catch(e){G("error.tms.log.openingLog","Log - Unable to create bug report URL")}},J=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let n=t.length;for(;--n>=0&&t.item(n)!==this;);return n>-1},X=(e,t)=>J.call(e,t),Z={defer:"defer",type:"text/javascript"},ee={rel:"stylesheet",type:"text/css"},te=(e,t)=>({...t,...e||{}}),ne=(e,t)=>(t||document).querySelectorAll(e),ae=(e,t)=>[].filter.call(ne(e),(e=>RegExp(t).test(e.textContent))),ie=(e,t)=>Array.from(e).filter((e=>X(e,t))),re=(e,t)=>t.appendChild(e),oe=(e,t)=>t.parentElement.insertBefore(e,t),se=(e,t)=>t.firstChild?oe(e,t.firstChild):re(e,t.parentElement),le=(e,t)=>t.nextElementSibling?oe(e,t.nextElementSibling):re(e,t.parentElement),ce=e=>e.parentElement.removeChild(e),de=(e,t,n,a)=>{const i=document.createElement(e);return i.innerHTML=t,[...Object.keys(n||{})].forEach((e=>{i.setAttribute(e,n[e])})),[...Object.keys(a||{})].forEach((e=>{i[e]=a[e]})),i},ue=(e,t,n,a)=>re(de("script","",te(t,Z),{src:e,onload:n,onerror:a}),document.head),pe=(e,t)=>re(de("script",e,te(t,Z)),document.head),ge=(e,t)=>re(de("link","",te(t,ee),{href:e}),document.head),fe=(e,t)=>re(de("style",e,te(t,ee)),document.head),me=e=>e?(e.setAttribute("id",`tms-block-${Math.random().toString().substring(2)}`),e.id):(G("tms.dom.unifyBlock","Element is undefined"),null);var ve={select:ne,contains:ae,filter:ie,append:re,before:oe,prepend:se,after:le,remove:ce,create:de,importScript:ue,execute:pe,importStyle:ge,addStyle:fe,unifyBlock:me};const he=(e,t,n)=>{const a=e=>{let{target:a}=e;for(;a.parentElement;a=a.parentElement)if(X(a,t))return n(e,a);return!1};return window.addEventListener(e,a),a},be=(e,t)=>window.removeEventListener(e,t);let ye=[],_e=!1,we=!1;function Te(){if(!_e){_e=!0;for(let e=0;e<ye.length;e++)ye[e].fn.call(window,ye[e].ctx);ye=[]}}function ke(){"complete"===document.readyState&&Te()}function Ae(e,t){if("function"!=typeof e)throw new TypeError("callback for onDomReady(fn) must be a function");_e?setTimeout((()=>{e(t)}),1):(ye.push({fn:e,ctx:t}),"complete"===document.readyState?setTimeout(Te,1):we||(document.addEventListener?(document.addEventListener("DOMContentLoaded",Te,!1),window.addEventListener("load",Te,!1)):(document.attachEvent("onreadystatechange",ke),window.attachEvent("onload",Te)),we=!0))}const Pe=e=>function(e){const t=Date.now();return new Promise((function n(a,i){void 0!==window.PubSub?a():e&&Date.now()-t>=e?i(new Error("PubSub not available")):setTimeout(n.bind(this,a,i),100)}))}(1e4).then(e),xe=(e,t=(()=>{}))=>window.PubSub.subscribe(e,t),Ce=(e,t={})=>window.PubSub.publish(e,t),Ie={all:"navigation",init_env:"navigation.init_env",request:"navigation.request",finished:"navigation.request.finished",start:"navigation.request.start",process:"navigation.request.process",done:"navigation.request.finished.success",failed:"navigation.request.finished.failure"},Se=()=>{Pe((()=>Ce(Ie.done)))},Oe=e=>{window.addEventListener("beforeunload",e)},Ee=e=>{Pe((()=>xe(Ie.done,e)))},$e=e=>{Pe((()=>xe(Ie.start,e)))},Ue=e=>{Pe((()=>xe(Ie.process,e)))},Re=e=>{Pe((()=>xe(Ie.finished,e)))},Le=e=>{Pe((()=>xe("tms.event.pageDataRefreshed",e)))},Me=e=>{Pe((()=>xe("tms.event.userJourneyRefreshed",e)))},je=e=>{Pe((()=>xe("player.state",e)))},De=e=>{Pe((()=>xe("player.playlist.updated",e)))},Ve=e=>{Pe((()=>xe("player.playlist.show",e)))},Fe=e=>{Pe((()=>xe("player.playlist.toggle",e)))},Ne=e=>{Pe((()=>xe("player.playlist.add",e)))},He=e=>{Pe((()=>xe("player.playlist.reordered",e)))},Be=e=>{Pe((()=>xe("video_player.state",e)))},qe=e=>{Pe((()=>xe("ad.rendered",e)))},ze=e=>{Pe((()=>xe("ad.seen",e)))},Qe=e=>{Pe((()=>xe("tms.event.onBeforeAdsFilled",e)))},Ke=e=>{Pe((()=>xe("tms.event.onAfterAdsFilled",e)))},Ye=(e,t)=>{Pe((()=>xe("gdpr.consent_available",e))),G("consent.tms.event.onConsentAvailable",`Event - onConsentAvailable - Tag ${t} waiting for consent`,{cb:e})},Ge=e=>{Pe((()=>xe("gdpr.consent_changed",e)))},We=e=>{Pe((()=>xe("gdpr.cmp_ready",e)))};let Je=[];const Xe=()=>{for(let e=0;e<Je.length;e+=1)Je[e].fn.call(window,Je[e].ctx);Je=[]},Ze=e=>{"onLine"in navigator&&!navigator.onLine?Je.push(e):e()},et=e=>{Pe((()=>xe("tms.event.online",e)))},tt=e=>{Pe((()=>xe("tms.event.offline",e)))};window.addEventListener("offline",(()=>{G("tms.event.offline","Event - Offline - Internet connection lost"),Ce("tms.event.offline")})),window.addEventListener("online",(()=>{G("tms.event.online",`Event - Online - Internet connection back online, running ${Je.length} action${Je.length>1?"s":""} waiting in queue`),Ce("tms.event.online"),Xe()}));const nt=e=>{Pe((()=>window.PubSub.unsubscribe(e)))};var at={pageLoaded:Se,onPageLoaded:Ee,onPageLoading:$e,onPageProcessing:Ue,onPageRequestFinished:Re,onPageDataRefreshed:Le,onUserJourneyRefreshed:Me,onAudioPlayerStateChanged:je,onAudioPlayerPlaylistUpdated:De,onAudioPlayerPlaylistItemsReordered:He,onAudioPlayerPlaylistItemAdded:Ne,onVideoPlayerStateChanged:Be,onAdRendered:qe,onAdSeen:ze,onBeforeAdsFilled:Qe,onAfterAdsFilled:Ke,onConsentAvailable:Ye,onConsentChanged:Ge,onCmpReady:We,removeEventListener:nt,bind:he,unbind:be,onDomReady:Ae,onPubSubReady:Pe,pubSubSubscribe:xe,pubSubPublish:Ce,waitForOnline:Ze,onOnline:et,onOffline:tt};let it;const rt=()=>{void 0!==it?(d(it.getData()),F(),G("tms.data.updateData",`Data - Data from provider ${it.getName()} received and refreshed`)):G("error.tms.data.updateData","Data - Invalid data provider")},ot=e=>{void 0!==e?(it=e,rt()):G("error.tms.data.init","Data - Invalid data provider")};Ee((()=>{rt(),Pe((()=>Ce("tms.event.pageDataRefreshed",p)))}));var st={list:p,...u,defaultValues:j(F),readVar:H,refresh:F};class lt{getData(){throw new Error("Not implemented!")}getName(){throw new Error("Not implemented!")}}G("tms.data.provider","Data - Provider - Loading FOV data strategy");class ct extends lt{getData(){try{const e=JSON.parse(document.querySelector("#datalayer").innerHTML),t=window.location;if("canonical"in e&&"/"===e.canonical.substring(0,1)){const n=t.host.replace(".global.ssl.fastly.net","").replace("rfi","www.rfi.fr").replace("f24","www.france24.com");e.canonical=`${t.protocol}//${n}${e.canonical}`}return e}catch(e){return G("error.tms.data.provider","Data - Provider - Error while loading FOV data strategy",e),{}}}getName(){return"FOV"}}var dt=new ct;const ut=e=>{const t=a(B("ia")&&"undefined"!=typeof ia_document?ia_document.shareURL:document.location.href);let n=t.xtor||!1,i=!1;if(!n){if(void 0!==t.ns_campaign&&void 0!==t.ns_source&&"aggregator"===t.ns_campaign){let e=302,a="média";/(google|apple|yahoo|msn|news|digest|feed|rss)/gi.test(t.ns_source)&&(e=301,a="plateforme"),n=`CS3-${e}-[${t.ns_source}]`,i={utm_campaign:`${H("site_brand")}_${H("site_locale")}`,utm_medium:"syndication",utm_source:t.ns_source.toLowerCase(),utm_content:a}}let e=void 0!==t.ref&&t.ref;if(e||""!==document.referrer||(/FBAV/gi.test(window.navigator.userAgent)?e="fb_a":/twitter/gi.test(window.navigator.userAgent)&&(e="tw_a")),e){const t=e.match(/^(fb|tw|li|wa|me|4sq|re|ba|mr|tg|vi|vk|in|yt)(_[iwa])?$/),n={fb:["Facebook",(B("ia")?"ia.":"")+"facebook.com"],tw:["Twitter","twitter.com"],li:["LinkedIn","linkedin.com"],mr:["Mail.ru","mail.ru"],vk:["VKontakte","vkontakte.com"],ba:["Balatarin","balatarin.com"],in:["Instagram","instagram.com"],re:["Reddit","reddit.com"],wa:["Whatsapp","whatsapp.com"],me:["FB Messenger","messenger.com"],"4sq":["Foursquare","foursquare.com"],tg:["Telegram","telegram.org"],vi:["Viber","viber.com"],yt:["YouTube","youtube.com"]};if(t){const e=`https://${"_i"===t[2]?"internal":"user"}.shorty.${n[t[1]][1]}/`;try{delete window.document.referrer}catch(e){}Object.defineProperty(window.document,"referrer",{value:e,writable:!0}),i={utm_campaign:`${H("site_brand")}_${H("site_locale")}`,utm_medium:"social",utm_source:n[t[1]][0].toLowerCase(),utm_content:"_i"===t[2]?"internal":"user"}}}}return"parsely"===e?i:n},pt="Storage",gt=()=>{(function(){var e={};ATInternet.Tracker.Plugins.Storage=function(t){var n=this,a=!1,i=null;t.configPlugin("Storage",e||{},(function(e){"localStorage"===e.storageMode&&(a=ATInternet.Utils.isLocalStorageAvailable())}));var r={},o=function(e){return t.getConfig("base64Storage")?ATInternet.Utils.Base64.encode(e):encodeURIComponent(e)},s=function(e){return t.getConfig("base64Storage")?ATInternet.Utils.Base64.decode(e):decodeURIComponent(e)};i=a?new function(){var e=function(e){var t,n=+new Date,a=!1;return e.options&&(void 0!==e.options.expires?t=e.options.expires:"function"==typeof(e=e.options.end||{}).getTime?t=e.getTime():"number"==typeof e&&(t=n+1e3*e)),"number"==typeof t&&n>=t&&(a=!0),{itemToDelete:a,timestamp:t}},t=function(e){var t=!1;try{localStorage.removeItem(e),t=!0}catch(e){}return t};this.getData=function(n){var a=null;if(i=localStorage.getItem(n)){var i=s(i),r=ATInternet.Utils.jsonParse(i);r&&"object"==typeof r?e(r).itemToDelete&&t(n)||(delete r.options.expires,a=ATInternet.Utils.jsonSerialize(r)):a=i}return a},this.setData=function(n){var a=!1;if(n.name&&"string"==typeof n.name){var i=e(n);"number"==typeof i.timestamp&&(n.options.expires=i.timestamp);var r=ATInternet.Utils.jsonSerialize(n);if(i.itemToDelete)a=t(n.name);else try{localStorage.setItem(n.name,o(r)),a=!0}catch(e){}}return a}}:new function(){this.getData=function(e){var t=null;return(e=RegExp("(?:^| )"+e+"=([^;]+)").exec(document.cookie)||null)&&(t=s(e[1])),t},this.setData=function(e){var n=!1;if(e.name&&"string"==typeof e.name){var a=e.options||{},i=a.end||{},r=a.domain||t.getConfig("cookieDomain"),s=a.secure||t.getConfig("cookieSecure"),l=a.samesite||t.getConfig("sameSiteStrict"),c=ATInternet.Utils.jsonSerialize(e);c=(c=(c=(c=e.name+"="+o(c))+(a.path&&"string"==typeof a.path?";path="+a.path:""))+(r&&"string"==typeof r?";domain="+r:"")+(s&&"boolean"==typeof s?";secure":""))+(l&&"boolean"==typeof l?";samesite=strict":"");"function"==typeof i.toUTCString?c+=";expires="+i.toUTCString():"number"==typeof i&&(c+=";max-age="+i.toString()),document.cookie=c,this.getData(e.name)&&(n=!0)}return n}};var l=function(e,n){var a=!1;return e&&"object"==typeof e&&(n||ATInternet.Utils.consent&&!t.getConfig("disableCookie")&&!t.getConfig("disableStorage"))&&(a=i.setData(e)),a},c=function(e,t,n){return e={name:e,val:t},n&&n.session&&"number"==typeof n.session&&(n.end=n.session),e.options=n||{},e},d=function(e){var n=null,a=null;return t.getConfig("disableCookie")||t.getConfig("disableStorage")||!e||"string"!=typeof e||(a=i.getData(e)),(e=a)&&(n=ATInternet.Utils.jsonParse(e)),n},u=function(e,t){var n=ATInternet.Utils.cloneSimpleObject(e);return l(n,t)?ATInternet.Utils.jsonParse(ATInternet.Utils.jsonSerialize(e)):null},p=function(e,t,n){return!n&&r[e]?n=r[e]:(n=d(e))&&(n.options=n.options||{},n.options.session&&"number"==typeof n.options.session&&(n.options.end=n.options.session,u(n,!1)),r[e]=n),n?t?(e=null,!n||"object"!=typeof n.val||n.val instanceof Array||void 0===n.val[t]||(e=n.val[t]),e):n.val:null},g=function(e,t,n,a,i){return t?(i=d(e))&&(!i||"object"!=typeof i.val||i.val instanceof Array?i=null:void 0===n?delete i.val[t]:i.val[t]=n,i&&(i=u(i,a))):(i=c(e,n,i=i||{}),i=u(i,a)),i?(r[e]=i,i.val):null},f=function(e,t){if(t)g(e,t,void 0,!0,null);else{r[e]=void 0;var n=c(e,"",{end:new Date("Thu, 01 Jan 1970 00:00:00 UTC"),path:"/"});l(n,!0)}};t.storage={},t.storage.getAll=function(){return r},t.storage.get=n.get=function(e,t){return t=!!t,e instanceof Array?p(e[0],e[1],t):p(e,"",t)},t.storage.getPrivate=n.getPrivate=function(e,a){return e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.get(e,a)},t.storage.set=n.set=function(e,t,n,a){var i;return e instanceof Array?(i=e[0],e=e[1],n=null):(i=e,e=null),ATInternet.Utils.privacy.testStorageParam(i,e).toSetInStorage||a?g(i,e,t,a,n):null},t.storage.setPrivate=n.setPrivate=function(e,a,i){return e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.set(e,a,i)},t.storage.del=n.del=function(e){e instanceof Array?f(e[0],e[1]):f(e,"")},t.storage.delPrivate=n.delPrivate=function(e){e instanceof Array?e[0]+=t.getConfig("site"):e+=t.getConfig("site"),n.del(e)},t.storage.cacheInvalidation=n.cacheInvalidation=function(){r={}}},ATInternet.Tracker.addPlugin("Storage")}).call(window)};var ft={name:pt,load:gt};const mt="TechClicks",vt=()=>{(function(){var e={clicksAutoManagementEnabled:!0,clicksAutoManagementTimeout:500};ATInternet.Tracker.Plugins.TechClicks=function(t){var n,a,i=this,r=["Tracker:Hit:Sent:Ok","Tracker:Hit:Sent:Error","Tracker:Hit:Sent:NoTrack"],o=!1;t.configPlugin("TechClicks",e||{},(function(e){n=e.clicksAutoManagementEnabled,a=e.clicksAutoManagementTimeout}));var s=function(e){switch(o=!1,e.target){case"_top":window.top.location.href=e.url;break;case"_parent":window.parent.location.href=e.url;break;default:window.location.href=e.url}},l=function(e){e.mailto?i.timeout=setTimeout((function(){window.location.href=e.mailto}),e.timeout):e.form?i.timeout=setTimeout((function(){e.form.submit()}),e.timeout):e.url&&(i.timeout=setTimeout((function(){s({url:e.url,target:e.target})}),e.timeout))},c=function(e){for(var n=0;n<r.length;n++)t.onTrigger(r[n],(function(t,n){e&&e(n)}))},d=function(e){for(var t,n="_self";e;){if(e.href&&0===e.href.indexOf("http")){t=e.href.split('"').join('\\"'),n=e.target?e.target:n;break}e=e.parentNode}t&&!o&&(o=!0,c((function(e){e.details.isMultiHit||e.details.elementType!==ATInternet.Utils.CLICKS_REDIRECTION||(i.timeout&&clearTimeout(i.timeout),s({url:t,target:n}))})),l({url:t,target:n,timeout:a}))},u=function(e){for(var t=e;t&&"FORM"!==t.nodeName;)t=t.parentNode;t&&(c((function(e){e.details.isMultiHit||e.details.elementType!==ATInternet.Utils.CLICKS_FORM||(i.timeout&&clearTimeout(i.timeout),t.submit())})),l({form:t,timeout:a}))},p=function(e){for(var t=e;t&&!(t.href&&0<=t.href.indexOf("mailto:"));)t=t.parentNode;t&&(c((function(e){e.details.isMultiHit||e.details.elementType!==ATInternet.Utils.CLICKS_MAILTO||(i.timeout&&clearTimeout(i.timeout),window.location.href=t.href)})),l({mailto:t.href,timeout:a}))};i.isFormSubmit=function(e){for(;e;){if("FORM"===e.nodeName)return!0;e=e.parentNode}return!1},t.techClicks={},t.techClicks.manageClick=i.manageClick=function(e,t){var a=!0,i="";if(n&&e){var r;e:{for(i=e;i;){if("function"==typeof i.getAttribute&&("_blank"===i.getAttribute("target")||"no"===i.getAttribute("data-atclickmanagement"))){r=!0;break e}i=i.parentNode}i=e,r=window.location.href;for(var o;i;){if((o=i.href)&&0<=o.indexOf("#")&&r.substring(0,0<=r.indexOf("#")?r.indexOf("#"):r.length)===o.substring(0,o.indexOf("#"))){r=!0;break e}i=i.parentNode}r=!1}if(i=function(e){for(var t=e;t;){if(t.href){if(0<=t.href.indexOf("mailto:"))return ATInternet.Utils.CLICKS_MAILTO;if(0===t.href.indexOf("http"))return ATInternet.Utils.CLICKS_REDIRECTION}else if("FORM"===t.nodeName){var n=e;if(e=!1,n&&("form"===(t=(t=n.tagName||"").toLowerCase())?e=!0:(n=(n=n.getAttribute("type")||"").toLowerCase(),"button"===t?"reset"!==n&&"button"!==n&&(e=!0):"input"===t&&"submit"===n&&(e=!0))),e)return ATInternet.Utils.CLICKS_FORM;break}t=t.parentNode}return""}(e),!r&&i){switch(i){case ATInternet.Utils.CLICKS_MAILTO:p(e),a=!1;break;case ATInternet.Utils.CLICKS_FORM:u(e),a=!1;break;case ATInternet.Utils.CLICKS_REDIRECTION:d(e),a=!1}t&&(r=t.defaultPrevented,"function"==typeof t.isDefaultPrevented&&(r=t.isDefaultPrevented()),r||t.preventDefault&&t.preventDefault())}}return{preservePropagation:a,elementType:i}},t.techClicks.deactivateAutoManagement=function(){n=!1}},ATInternet.Tracker.addPlugin("TechClicks")}).call(window)};var ht={name:mt,load:vt};const bt="Utils",yt=()=>{(function(){ATInternet.Tracker.Plugins.Utils=function(e){var t=this,n={};e.utils={},e.utils.getQueryStringValue=t.getQueryStringValue=function(e,t){var a=ATInternet.Utils.hashcode(t).toString();if(!n[a]){n[a]={};for(var i=RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),r=i.exec(t);null!==r;)n[a][r[1]]=r[2],r=i.exec(t)}return n[a].hasOwnProperty(e)?n[a][e]:null},e.utils.manageChapters=t.manageChapters=function(t,n,a){var i="";if(t)for(var r=e.getConfig("ignoreEmptyChapterValue"),o="",s=1;s<parseInt(a,10)+1;s++)o=t[n+s]||"",i=r?i+(o?o+"::":""):i+(t.hasOwnProperty(n+s)?o+"::":"");return i},e.utils.getDocumentLevel=t.getDocumentLevel=function(){var t=e.getConfig("documentLevel");return t?0>t.indexOf(".")?window[t]||document:(t=t.split("."),window[t[0]][t[1]]||document):document},e.utils.getLocation=t.getLocation=function(){return t.getDocumentLevel().location.href},e.utils.getHostName=t.getHostName=function(){return t.getDocumentLevel().location.hostname},e.dispatchIndex={},e.dispatchStack=[],e.dispatchEventFor={};var a=0;e.dispatchSubscribe=function(t){return!e.dispatchIndex[t]&&(e.dispatchStack.push(t),e.dispatchIndex[t]=!0)},e.dispatchSubscribed=function(t){return!0===e.dispatchIndex[t]},e.addSpecificDispatchEventFor=function(t){return!e.dispatchEventFor[t]&&(e.dispatchEventFor[t]=!0,a++,!0)},e.processSpecificDispatchEventFor=function(t){e.dispatchEventFor[t]&&(e.dispatchEventFor[t]=!1,0===--a&&(e.dispatchEventFor={},e.emit("Tracker:Plugin:SpecificEvent:Exec:Complete",{lvl:"INFO"})))},e.dispatch=function(t,n){var i=function(){for(var a="",i=null;0<e.dispatchStack.length;)a=e.dispatchStack.pop(),0===e.dispatchStack.length&&(i=t),e[a].onDispatch(i,n);e.dispatchIndex={},e.delContext(void 0,"customObject")},r=function(){e.plugins.isExecWaitingLazyloading()?e.onTrigger("Tracker:Plugin:Lazyload:Exec:Complete",(function(){i()}),!0):i()};0===a?r():e.onTrigger("Tracker:Plugin:SpecificEvent:Exec:Complete",(function(){r()}),!0)},e.dispatchRedirect=function(t){var n=!0,a="",i=null;return t&&(!ATInternet.Utils.isTabOpeningAction(t.event)&&t.elem&&e.plugins.exec("TechClicks","manageClick",[t.elem],(function(e){n=e.preservePropagation,a=e.elementType})),i=t.callback),e.dispatch(i,a),n},e.manageSend=function(t){ATInternet.Utils.isPreview()&&!e.getConfig("preview")||ATInternet.Utils.isPrerender((function(e){t(e)}))||t()},e.processTagObject=function(t,n,a){if((t=e.getParam(t,!0))&&t._options.permanent){for(var i=!1,r=t._options.hitType||[],o=0;o<r.length;o++)if(-1!==ATInternet.Utils.arrayIndexOf(n.concat("all"),r[o])){i=!0;break}i&&(a=ATInternet.Utils.completeFstLevelObj(t._value||{},a,!0))}return a},e.processContextObjectAndSendHit=function(t,n,a,i){var r={hitType:n.hitType,encode:n.encode,separator:n.separator,truncate:n.truncate},o=e.getParam(t,!0);if(o){for(var s=!1,l=o._options.hitType||[],c=0;c<l.length;c++)if(-1!==ATInternet.Utils.arrayIndexOf(n.hitType.concat("all"),l[c])){s=!0;break}s?((s=ATInternet.Utils.cloneSimpleObject(o))._value=ATInternet.Utils.completeFstLevelObj(s._value||{},a,!0),e.setParam(t,s._value,r),e.manageSend((function(){e.sendHit(null,[["hitType",n.hitType]],i,n.requestMethod,n.elementType)})),o._options.permanent&&e.setParam(t,o._value,o._options)):(e.setParam(t,a,r),e.manageSend((function(){e.sendHit(null,[["hitType",n.hitType]],i,n.requestMethod,n.elementType)})),e.setParam(t,o._value,o._options))}else e.setParam(t,a,r),e.manageSend((function(){e.sendHit(null,[["hitType",n.hitType]],i,n.requestMethod,n.elementType)}))}},ATInternet.Tracker.addPlugin("Utils")}).call(window)};var _t={name:bt,load:yt};const wt="EventRoot",Tt=()=>{(function(){var e={hitParameter:"col",hitValue:"2"};ATInternet.Tracker.Plugins.EventRoot=function(t){var n={},a=function(e){for(var t,n=[],a=0;a<e.length;a++)for(var i in e[a])e[a].hasOwnProperty(i)&&(t=ATInternet.Utils.isObject(e[a][i])?ATInternet.Utils.objectToLowercase(e[a][i]):e[a][i],n.push({name:i.toLowerCase(),data:t}));return ATInternet.Utils.jsonSerialize(n)},i=function(e,n){var i=n||"event";t.setParam("events",a(e),{hitType:[i],encode:!0,truncate:!0,separator:","})},r=function(e,n,a){var i="",r={},o={};if(void 0!==e){r={},e.name&&(r.$=e.name);o=t.getConfig("ignoreEmptyChapterValue");for(var s="",l="",c=1;3>=c;c++)s=e[l="chapter"+c]||"",(o&&s||!o&&e.hasOwnProperty(l))&&(r[l]=s);e.url&&(r.url=e.url),o={},"string"==typeof e.level2?0<(e=ATInternet.Utils.trim(e.level2)).length&&(isNaN(e)?o.level2=e:o.level2_id=Number(e)):"number"==typeof e.level2&&(o.level2_id=e.level2)}return e={},ATInternet.Utils.isEmptyObject(r)||(e.page=r),ATInternet.Utils.isEmptyObject(o)||(e.site=o),void 0!==n&&(e.src=n),void 0!==a&&(e.utm=a),ATInternet.Utils.isEmptyObject(e)||(i=ATInternet.Utils.jsonSerialize([{data:e}])),i},o=function(e,n,a,i){i=i||"event",""!==(e=r(e,n,a))&&t.setParam("context",e,{truncate:!0,hitType:[i],encode:!0})},s=function(e,t){return e instanceof Array&&t instanceof Array?e.concat(t):ATInternet.Utils.isObject(e)&&ATInternet.Utils.isObject(t)?ATInternet.Utils.completeFstLevelObj(e,t,!0):t};t.event={},t.event.reset=function(e){e=e||"event",t.getContext(e),t.delContext(e)},t.event.send=function(e,i,o){var s=!0,l="",c="event";o&&o.origin&&(c=o.origin);var d={};d[e]=i;var u={};u[n.hitParameter]={_value:n.hitValue,_options:{multihit:!0}},e=t.getContext("page"),i=t.getContext("campaigns_events");var p=t.getContext("campaigns_utm_events");return void 0===e&&void 0===i&&void 0===p||(u.context={_value:r(e,i,p),_options:{truncate:!0,encode:!0}}),u.events={_value:a([d]),_options:{encode:!0,truncate:!0,separator:","}},ATInternet.Utils.isPreview()&&t.getConfig("preview")&&(u.pvw=1),o&&!ATInternet.Utils.isTabOpeningAction(o.event)&&o.elem&&(s=(d=t.techClicks.manageClick(o.elem)).preservePropagation,l=d.elementType),t.manageSend((function(){var e;o&&(e=o.callback),t.sendHit(u,[["hitType",[c]]],e,null,l)})),s},t.event.set=function(e,a,i,r){r=r||"event",t.setParam(n.hitParameter,n.hitValue,{multihit:!0,hitType:[r]}),t.dispatchSubscribe(r);for(var o=t.getContext(r)||[],l=!1,c=0;c<o.length;c++)o[c][e]&&(l=!0,i?ATInternet.Utils.isObject(o[c][e])&&(o[c][e][i]=s(o[c][e][i],a)):o[c][e]=s(o[c][e],a));l||(l={},i?(l[e]={},l[e][i]=a):l[e]=a,o.push(l)),t.setContext(r,o)},t.event.add=function(e,n,a){a=a||"event";var i=t.getContext(a)||[],r={};r[e]=n,i.push(r),t.setContext(a,i)},t.event.onDispatch=function(e,n,a){var r=a||"event";a=t.getContext("page");var s=t.getContext("campaigns_events"),l=t.getContext("campaigns_utm_events");void 0===a&&void 0===s&&void 0===l||o(a,s,l,r),void 0!==(a=t.getContext(r))&&i(a,r),t.delContext(r),ATInternet.Utils.isPreview()&&t.getConfig("preview")&&t.setParam("pvw",1,{hitType:[r]}),t.manageSend((function(){t.sendHit(null,[["hitType",[r]]],e,null,n)}))},t.plugins.waitForDependencies(["Utils"],(function(){t.configPlugin("EventRoot",e||{},(function(e){n=e}))}))},ATInternet.Tracker.addPlugin("EventRoot")}).call(window)};var kt={name:wt,load:Tt},At={storage:ft,techClicks:ht,utils:_t,eventRoot:kt};const Pt=(e,t,n,a,i,r,o)=>{let s="";if(n)switch(n.constructor){case Number:s=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":`; max-age=${n}`;break;case Date:s=`; expires=${n.toUTCString()}`;break;case String:default:s=`; expires=${n}`}let l="; samesite=strict";return o&&"no_restriction"!==o.toString().toLowerCase()?"lax"===o.toString().toLowerCase()||1===Math.ceil(o)||!0===o?l="; samesite=lax":("none"===o.toString().toLowerCase()||o<0)&&(l="; samesite=none"):l="",`${encodeURIComponent(e)}=${encodeURIComponent(t)}${s}${i?`; domain=${i}`:""}${a?`; path=${a}`:""}${r?"; secure":""}${l}`},xt=/[-.+*]/g,Ct=/^(?:expires|max-age|path|domain|secure|samesite|httponly)$/i,It={getItem:e=>e&&decodeURIComponent(document.cookie.replace(new RegExp(`(?:(?:^|.*;)\\s*${encodeURIComponent(e).replace(xt,"\\$&")}\\s*=\\s*([^;]*).*$)|^.*$`),"$1"))||null,setItem:(e,t,n,a,i,r,o)=>!(!e||Ct.test(e))&&(document.cookie=Pt(e,t,n,a,i,r,o),!0),removeItem(e,t,n,a,i){return!!this.hasItem(e)&&(document.cookie=Pt(e,"","Thu, 01 Jan 1970 00:00:00 GMT",t,n,a,i),!0)},hasItem:e=>!(!e||Ct.test(e))&&new RegExp(`(?:^|;\\s*)${encodeURIComponent(e).replace(xt,"\\$&")}\\s*\\=`).test(document.cookie),keys(){const e=document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/);for(let t=e.length,n=0;n<t;n+=1)e[n]=decodeURIComponent(e[n]);return e},clear(e,t,n,a){for(let i=this.keys(),r=i.length,o=0;o<r;o+=1)this.removeItem(i[o],e,t,n,a)}};let St={},Ot=!1;window.didomiEventListeners=window.didomiEventListeners||[],window.didomiOnReady=window.didomiOnReady||[];const Et=(e,t)=>{const n=window.Didomi;let a=!0;return n&&"getUserConsentStatus"in n&&(a=Boolean(n.getUserConsentStatus(e,`${t}`))),a},$t=()=>{const e=window.Didomi;return e&&"shouldConsentBeCollected"in e?!e.shouldConsentBeCollected():"ro"===H("site_locale")||B("academie")||B("error")||B("ia")||It.hasItem("cookies_consent")},Ut=(e,t,n,...a)=>{G(`consent.tms.tags.${e}`,`GDPR - Consent prevented ${t} tag from ${n}`,...a)},Rt=()=>St,Lt=(e,t)=>{!t||"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus?G("error.consent.tms.gdpr.updateTcfData","GDPR - Unable to update TCF Data"):(St=e,G("consent.tms.gdpr.updateTcfData","GDPR - Updated consent copy",{consent:St}))},Mt=()=>{document.addEventListener("click",(e=>{e.target.matches('script[type="didomi/html"]')&&window.Didomi.notice.show()})),didomiEventListeners.push({event:"notice.hidden",listener(){Pe((()=>{Ot||(Ce("gdpr.consent_available"),Ot=!0,G("consent.tms.gdpr.consent_changed","GDPR - Consent now available for tags"))}))}}),didomiEventListeners.push({event:"consent.changed",listener(){Pe((()=>{Ce("gdpr.consent_changed"),G("consent.tms.gdpr.consent_changed","GDPR - Consent change detected"),!Ot&&$t()&&(Ce("gdpr.consent_available"),Ot=!0)}))}}),didomiOnReady.push((()=>{Pe((()=>{Ce("gdpr.cmp_ready"),G("consent.tms.gdpr.cmp_ready","GDPR - CMP successfully loaded"),$t()&&(Ce("gdpr.consent_available"),Ot=!0,G("consent.tms.gdpr.consent_available","GDPR - Consent already available for tags at CMP load"))}))})),"__tcfapi"in window?__tcfapi("addEventListener",2,Lt):G("error.consent.tms.gdpr.init","GDPR - TCF API not detected")};Mt();var jt={init:Mt,canUse:Et,consentAvailable:$t,getConsent:Rt,prevented:Ut,updateTcfData:Lt};let Dt=!1,Vt=!1,Ft={};const Nt={ids:{},buffering:{},metadataSet:{},index:1};let Ht,Bt,qt;const zt=()=>Ht,Qt=()=>Ht,Kt=()=>Bt,Yt=()=>qt,Gt=e=>e.replace(/,\s+/gm,",").replace(/[&#=/_\s:"'。！¡!？¿?؟()[\]،;；：（）【】［］“”‘’「」『』﹃﹄﹁﹂、‧«»《》〈〉︽︾︿﹀…—～.﹏︴︳]+/g,"_").replace(/[-]+/gm,"-").replace(/^[\s_-]+|[\s_-]+$/gm,"").toLocaleLowerCase(),Wt=e=>E(e,{"[?]":"%3F","=":"%3D","&":"%26","#":"%23","\\[":"(","]":")","\\s+":"_"},!1),Jt=e=>{const t={"[?]":"%3F","=":"%3D","&":"%26","#":"%23",",*$":""};if(void 0!==e){const n=e.length;let a=!1;if(n>0)for(let t=0;t<n;t+=1)a="string"==typeof e[t]&&(a||0===t);if(a){const n=e.join(",");return E(n,t,!1).replace(/[\s]+/gm,"_").split(",")}return e}return[]},Xt=()=>{let e="francemediasmonde.com";const t=H("site_brand"),n=B("mirror");return"f24"===t||"obs"===t?e=n?"f24":"france24.com":-1!==t.indexOf("rfi")||"fle"===t?e=n?"rfi":"rfi.fr":"mcd"===t?e="mc-doualiya.com":"infomigrants"===t&&(e="infomigrants.net"),n?`${e}.global.ssl.fastly.net`:`wvvw.${e}`},Zt=()=>{let e=0,t={};const n=H("site_brand"),a=H("site_locale"),i=B("ppr");return"f24"===n?(t={fr:[588391,588363],en:[588393,588365],es:[588375,588343],ar:[588390,588367]},e=(t[a]||t.en)[i?0:1]):"rfi"===n?(t={fr:[588329,588396],en:[588332,588386],es:[588331,588397],pt:[588337,588364],br:[588339,588366],km:[588342,588356],cn:[588340,588368],tw:[588341,588369],ha:[588334,588358],sw:[588335,588360],ma:[588336,588362],ff:[604145,604144],fa:[588379,588370],ro:[588382,588357],ru:[588383,588359],uk:[629637,629636],vi:[588333,588371]},e=(t[a]||t.fr)[i?0:1]):"rfi-musique"===n?e=i?588381:588361:"fle"===n||"rfi-savoirs"===n?e=i?588384:588349:"rfi-mondoblog"===n?e=i?588389:588351:"rfi-instrumental"===n?e=i?588385:588350:"rfi-advertising"===n?e=i?628162:628163:"mcd"===n?e=i?588354:588353:"obs"===n?e=i?588395:588346:"fmm"===n?e=i?588355:588347:"infomigrants"===n?e=i?588392:588345:"academie"===n&&(e=i?588378:588348),e},en=()=>B("mobile")&&$(H("site_brand"),["f24","rfi","mcd","obs","fle"])?2:1,tn=e=>{try{let t=qt;"media"===e?t=Bt:"av"===e&&(t=Ht);const n=$t();let a="cnil";n&&Et("measure_content_performance","c:at-internet")&&Et("cookies","c:at-internet")?(ATInternet.Utils.consentReceived(!0),t.privacy.setVisitorOptin(),a="optIn"):(ATInternet.Utils.consentReceived(!1),t.privacy.setVisitorMode("cnil","exempt")),t.privacy.extendIncludeBuffer(["x1","x2","x3","x4","x6","x7","x8","x9","x10","x11","x13","x14","x15","x16","x17","tag","stc","xto","s2","context","events","bc_advertiser","bc_advertiser_id"]),G("tms.tags.stats.atInternet.updateTrackerPrivacy",`Analytics - AT Internet - Updated ${e} tracker privacy settings`,{type:e,tracker:t,consentAvailable:n,atMode:a})}catch(t){G("error.tms.tags.stats.atInternet.updateTrackerPrivacy","Analytics - AT Internet - No privacy module available on this site",{type:e,e:t})}},nn=(e,t,n=!1)=>{const a={ClientSideUserId:{clientSideMode:"always",userIdExpirationMode:"relative"}};switch(n&&(a.Offline={storageMode:"required"}),e){case"av":Ht=new window.ATInternet.Tracker.Tag(a);break;case"media":Bt=new window.ATInternet.Tracker.Tag(a);break;case"page":default:{const e={};if(t){const t=ut("xtor");t&&(e.forcedCampaign=t)}else{document.referrer?e.forcedReferer=document.referrer:B("ia")&&"undefined"!=typeof ia_document&&(e.forcedReferer=ia_document.referrer);const t=Yt(),{instances:n}=window.ATInternet.Tracker;for(let e=0;e<n.length;e+=1)if(t===n[e]){n.splice(e,1);break}}qt=new window.ATInternet.Tracker.Tag(a,e)}}tn(e)},an=()=>{const e=e=>""===H(e)||void 0===H(e)||"object"==typeof H(e)&&0===H(e).length,t=H("canonical"),n=/[\s_]*,[\s_]* /,a={1:`[${H("site_locale").toUpperCase()}]`,2:B("mobile")?2:1,3:`[${t}]`};if(e("main_media_type")||(a[4]=`[${H("main_media_type")}]`),e("content_type")||(a[6]=`[${H("content_type")}]`),e("content_id")||(a[7]=`[${H("content_id")}]`),!e("publication_date")){const e=H("publication_date").replace(/[-_]*/gi,""),t=H("publication_time");a[8]=`${e.substring(0,4)}-${e.substring(4,6)}-${e.substring(6,8)}T${""!==t?t:"00:00"}:00`}if(H("authors")&&!e("authors")){const e=H("authors");let t=[],i=[];"object"==typeof e&&void 0!==H("authors").name_clean?t=H("authors").name_clean.slice(0,20):"string"==typeof e&&(t=Gt(H("authors")).split(n,20)),a[9]=`[${Jt(t).join(",")}]`,"object"==typeof e&&void 0!==H("authors").id&&(i=H("authors").id.slice(0,20)),a[13]=`[${i.join(",").replace(/,+$/gm,"")}]`}if(B("embed")?a[10]="[embed]":B("ia")?a[10]="[instant-articles]":B("pwa")?a[10]=`[pwa-${B("offline")?"offline":"online"}]`:B("mirror")&&(a[10]="[mirror]"),e("content_title")||(a[14]=`[${Wt(H("content_title"))}]`),e("site_brand")||(a[15]=`[${H("site_brand").replace("f24","france24")}]`),a[16]=H("http_code")||200,e("site_context")||(a[17]=`[${H("site_context")}]`),a[18]=Vt?1:0,H("tags")&&!e("tags")){const e=H("tags");let t=[];"object"==typeof e&&void 0!==H("tags").name_clean?t=H("tags").name_clean.slice(0,20):"string"==typeof e&&(t=Gt(H("tags")).split(n,20)),a[11]=`[${Jt(t).join(",")}]`}return a},rn=e=>""===H(e)||void 0===H(e)||"object"==typeof H(e)&&0===H(e).length,on=()=>{const e=/[\s_]*,[\s_]* /;Ft={};const t=ut("xtor");t&&(Ft.xtor=t);const n={name:Gt(H("page_name")),chapter1:""!==H("cat1")&&"defaut"!==H("cat1")?Gt(E(H("cat1"),{"[-\\s&\\/]+":"_","(emissions*|emisiunile_rfi_ro)$":"emissions","[_]+":"_"},!1)):"",chapter2:""!==H("cat2")&&"defaut"!==H("cat2")?Gt(H("cat2")):"",chapter3:""!==H("cat3")&&"defaut"!==H("cat3")?Gt(H("cat3")):"",customObject:{device:B("mobile")?"smartphone":"desktop"},level2:en()};qt.page.set(n),n.level1=Zt(),Ft.base_tracking=n,""!==document.referrer?Ft.referrer=document.referrer:B("ia")&&"undefined"!=typeof ia_document&&(Ft.referrer=ia_document.referrer);const a=an();if(B("brand_content")){const e=H("brand_content");qt.setProps({"s:bc_advertiser":e.name,"s:bc_advertiser_id":e.id},!1)}if(qt.setProps({"b:save_data":B("save_data")},!1),H("tags")&&!rn("tags")){const t=H("tags");let n=[];"object"==typeof t&&void 0!==H("tags").name_clean?n=H("tags").name_clean.slice(0,20):"string"==typeof t&&(n=Gt(H("tags")).split(e,20)),B("article")||B("depeche")||B("edition")?qt.tags.set({keywords:Jt(n)}):qt.tags.set({}),Ft.tags=n}else qt.tags.set({});qt.customVars.set({site:a}),Ft.customVars={};const i={1:"langue",2:"device",3:"url_canonique",4:"type_article",5:"",6:"type_de_contenu",7:"id_contenu",8:"date_de_publication",9:"auteur",10:"type_representation",11:"mots_cles_article",12:"",13:"id_auteur",14:"titre_du_contenu",15:"marque",16:"code_http_erreur",17:"perimetre_de_diffusion",18:"adblock_actif"};Object.entries(a).forEach((e=>{void 0!==a[e[0]]&&(Ft.customVars[`x${e[0]}_${i[e[0]]}`]=e[1])})),qt.dispatch(),G("tms.tags.stats.atInternet.hitPage","Analytics - AT Internet - Hit - Page",Ft)},sn=(e,t,n="audio")=>{const a=e.replace(/(video_)?player\.state\./i,"").replace(/cued|canplay(through)?/i,"metadata").replace("ended","stopped");if("resetAll"===a)Bt.richMedia.removeAll(),G("tms.tags.stats.atInternet.hitRichMedia","Analytics - AT Internet - Hit - Rich Media - ResetAll");else if(void 0!==t){const i={playerId:1,mediaLabel:"",mediaTheme1:"",mediaTheme2:""};let r=-1,o={};if("audio"===n)o={sourceUrl:t.media.sources[0].url,live:"live"===t.media.type,emission:""!==t.media.diffusion.title&&""!==t.media.emission.title,type:n,dernier_journal:-1!==t.media.sources[0].url.indexOf("/last/"),tranche:t.media.sources[0].url.match(/(tranche|_gmt_|_tu_)/gi),duration:t.duration,selector:t.options.selector},i.mediaLabel=""!==t.media.diffusion.title?Gt(t.media.diffusion.title):o.sourceUrl.split("/").pop().replace(/\.mp3$/gi,""),""!==t.media.emission.title&&(i.mediaLabel=Gt(t.media.emission.title)),o.live?(i.mediaLabel=o.sourceUrl.split("/").pop(),i.mediaTheme1="direct",i.mediaTheme2=t.mediaId||""):o.dernier_journal||o.tranche?(i.mediaTheme1="sessions_info",i.mediaTheme2=Gt(t.media.emission.title)):o.emission&&(i.mediaTheme1="emissions",i.mediaTheme2=Gt(t.media.emission.title));else if("video"===n)if(i.mediaTheme1="videos",i.mediaTheme2=t.videoType,"videojs"===t.videoType);else if(/youtube/i.test(t.videoType)){const e=t.player,a=e.getVideoData(),s=e.getDuration()<=e.getMediaReferenceTime();e.getDuration()&&e.getDuration()>1&&!s&&(r=parseInt(e.getDuration(),10)),o={sourceUrl:e.getVideoUrl(),live:s,type:n,duration:r,mediaId:a.video_id,selector:e.getIframe().id,title:""!==a.title?a.title:a.video_id},i.mediaLabel=Gt(a.video_id)}void 0===Nt.ids[o.selector]?(Nt.ids[o.selector]=Nt.index,Nt.metadataSet[o.selector]=!1,Nt.index+=1):i.playerId=Nt.ids[o.selector],"metadata"!==a&&Nt.metadataSet[o.selector]||(i.action="load",i.mediaType=o.type,i.mediaLevel2=en(),i.refreshDuration=45,i.duration=o.live?"":Math.round(o.duration),i.isEmbedded=B("embed"),B("embed")&&(i.webdomain=document.referrer.replace(/^((https?:)?\/\/)?([^/]+)(\/(.*))?$/i,"$3")||""),i.broadcastMode=o.live?"live":"clip",i.playerId&&Bt.richMedia.remove(i.playerId),Bt.richMedia.add(i),Nt.metadataSet[o.selector]=!0),"buffering"===a?(i.action="info",i.isBuffering=!0,Bt.richMedia.send(i),Nt.buffering[o.selector]=!0):(o.selector in Nt.buffering&&Nt.buffering[o.selector]&&(i.action="info",i.isBuffering=!1,Bt.richMedia.send(i)),Nt.buffering[o.selector]=!1),"playing"===a?(i.action="play",Bt.richMedia.send(i)):"seeking"===a?(i.action="move",Bt.richMedia.send(i)):"stopped"===a?(i.action="stop",Bt.richMedia.send(i),i.playerId&&Bt.richMedia.remove(i.playerId)):"paused"===a&&(i.action="pause",Bt.richMedia.send(i)),G("tms.tags.stats.atInternet.hitRichMedia",`Analytics - AT Internet - Hit - Rich Media - ${a.substring(0,1).toUpperCase()}${a.substring(1)} :`,{baseTracking:Ft.base_tracking,richMedia:i,event:e,action:a,playerData:o,playerObject:t})}},ln=()=>{Dt&&(qt.offline.send(),Bt.offline.send())},cn=e=>({site:Zt(),collectDomain:Xt(),collectDomainSSL:Xt(),userIdOrigin:"server",pixelPath:(B("mirror")?"/wvvw_":"")+"/bon.jour",disableCookie:!1,disableStorage:!1,cookieSecure:-1!==document.location.protocol.indexOf("s"),cookieDomain:((e,t)=>{const n=window.location.host.split(".").reverse();return"."+n[1]+"."+n[0]})(),preview:!1,plgs:(()=>{const t=[];return Object.keys(e).forEach((n=>{-1!==n.indexOf("fmm")&&t.push(e[n].name)})),t})(),lazyLoadingPath:"",documentLevel:"document",redirect:!1,activateCallbacks:!1,medium:B("ia")?"fia":"",ignoreEmptyChapterValue:!0,base64Storage:!1,sendHitWhenOptOut:!0,forceHttp:!1,requestMethod:"GET",maxHitSize:2e3,urlPropertyAuto:!0,urlPropertyQueryString:!1,sameSiteStrict:!1}),dn=(e,t)=>{G("tms.tags.stats.atInternet","Analytics - AT Internet - SDK load",{config:e}),function(){var t,n=e;(t=window).ATInternet=t.ATInternet||{},t.ATInternet.Tracker=t.ATInternet.Tracker||{},t.ATInternet.Tracker.Plugins=t.ATInternet.Tracker.Plugins||{};ATInternet.Utils=new function(){function e(t){var n=typeof t;if("object"!==n||null===t)return"string"===n&&(t='"'+t+'"'),String(t);var a,i,r=[],o=t.constructor===Array;for(a in t)t.hasOwnProperty(a)&&("function"!==(n=typeof(i=t[a]))&&"undefined"!==n&&("string"===n?i='"'+i.replace(/[^\\]"/g,'\\"')+'"':"object"===n&&null!==i&&(i=e(i)),r.push((o?"":'"'+a+'":')+String(i))));return(o?"[":"{")+String(r)+(o?"]":"}")}function t(e){return null===e?"":(e+"").replace(i,"")}var n=this,a=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,i=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");n.isLocalStorageAvailable=function(){try{var e=localStorage;return e.setItem("__storage_test__","__storage_test__"),e.removeItem("__storage_test__"),!0}catch(e){return!1}},n.isBeaconMethodAvailable=function(){return window.navigator&&"function"==typeof window.navigator.sendBeacon},n.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,a,i,r,o,s,l="",c=0;for(e=n.Base64._utf8_encode(e);c<e.length;)r=(t=e.charCodeAt(c++))>>2,t=(3&t)<<4|(a=e.charCodeAt(c++))>>4,o=(15&a)<<2|(i=e.charCodeAt(c++))>>6,s=63&i,isNaN(a)?o=s=64:isNaN(i)&&(s=64),l=l+this._keyStr.charAt(r)+this._keyStr.charAt(t)+this._keyStr.charAt(o)+this._keyStr.charAt(s);return l},decode:function(e){var t,a,i,r,o,s="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=(t=this._keyStr.indexOf(e.charAt(l++)))<<2|(a=this._keyStr.indexOf(e.charAt(l++)))>>4,a=(15&a)<<4|(r=this._keyStr.indexOf(e.charAt(l++)))>>2,i=(3&r)<<6|(o=this._keyStr.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!=r&&(s+=String.fromCharCode(a)),64!=o&&(s+=String.fromCharCode(i));return n.Base64._utf8_decode(s)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);128>a?t+=String.fromCharCode(a):(127<a&&2048>a?t+=String.fromCharCode(a>>6|192):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128)),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){for(var t,n,a,i="",r=0;r<e.length;)128>(t=e.charCodeAt(r))?(i+=String.fromCharCode(t),r++):191<t&&224>t?(n=e.charCodeAt(r+1),i+=String.fromCharCode((31&t)<<6|63&n),r+=2):(n=e.charCodeAt(r+1),a=e.charCodeAt(r+2),i+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&a),r+=3);return i}},n.loadScript=function(e,t){var n;t=t||function(){},(n=document.createElement("script")).type="text/javascript",n.src=e.url,n.async=!1,n.defer=!1,n.onload=n.onreadystatechange=function(e){("load"===(e=e||window.event).type||/loaded|complete/.test(n.readyState)&&(!document.documentMode||9>document.documentMode))&&(n.onload=n.onreadystatechange=n.onerror=null,t(null,e))},n.onerror=function(e){n.onload=n.onreadystatechange=n.onerror=null,t({msg:"script not loaded",event:e})};var a=document.head||document.getElementsByTagName("head")[0];a.insertBefore(n,a.lastChild)},n.cloneSimpleObject=function(e,t){if("object"!=typeof e||null===e||e instanceof Date)return e;var a,i=new e.constructor;for(a in e)e.hasOwnProperty(a)&&(void 0===a||t&&void 0===e[a]||(i[a]=n.cloneSimpleObject(e[a])));return i},n.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},n.isObject=function(e){return null!==e&&"object"==typeof e&&!(e instanceof Array)},n.ATVALUE="_ATVALUE",n.ATPREFIX="_ATPREFIX",n.object2Flatten=function(e,t,a,i,r){var o,s={},l="",c="",d=[],u="",p=0;for(o in e)if(e.hasOwnProperty(o))if(l=(s=n.splitProtocolAndKey(o,r)).prefix||i||"",c=(t?t+"_":"")+s.key,n.isObject(e[o]))n.object2Flatten(e[o],c,a,l,r);else{for(d=c.split("_"),u="",p=0;p<d.length;p++)l=(s=n.splitProtocolAndKey(d[p],r)).prefix||l,u+=s.key+(p<d.length-1?"_":"");a[c=u||c]=a[c]||{},a[c][n.ATVALUE]=e[o],a[c][n.ATPREFIX]=l}},n.flatten2Object=function(e,t,a){var i,r;for(t=t.split("_"),r=0;r<t.length-1;r++)e[i=t[r]]||(e[i]={}),e=e[i];if(e.hasOwnProperty(n.ATVALUE)){i=e[n.ATVALUE];var o=e[n.ATPREFIX];delete e[n.ATVALUE],delete e[n.ATPREFIX],e.$={},e.$[n.ATVALUE]=i,e.$[n.ATPREFIX]=o}a=n.cloneSimpleObject(a),e[t[r]]?e[t[r]].$=a:e[t[r]]=a},n.getFormattedObject=function(e){var t,a={};for(t in e)e.hasOwnProperty(t)&&(e[t].hasOwnProperty(n.ATVALUE)?a[e[t][n.ATPREFIX]?e[t][n.ATPREFIX]+":"+t:t]=e[t][n.ATVALUE]:a[t]=n.getFormattedObject(e[t]));return a},n.completeFstLevelObj=function(e,t,n){if(e){if(t)for(var a in t)!t.hasOwnProperty(a)||e[a]&&!n||(e[a]=t[a])}else e=t;return e},n.getObjectKeys=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},n.objectToLowercase=function(e){var t,a={};for(t in e)e.hasOwnProperty(t)&&(n.isObject(e[t])?a[t.toLowerCase()]=n.objectToLowercase(e[t]):a[t.toLowerCase()]=e[t]);return a},n.splitProtocolAndKey=function(e,t){var n,a;return 2>e.length||":"!==e[1]?(n="",a=e):4>e.length||":"!==e[3]?(n=e.substring(0,1),a=e.substring(2,e.length)):(n=e.substring(0,3),a=e.substring(4,e.length)),t&&(n=n.toLowerCase(),a=a.toLowerCase()),{prefix:n,key:a}},n.jsonSerialize=function(t){try{return"undefined"!=typeof JSON&&JSON.stringify?JSON.stringify(t):e(t)}catch(e){return null}},n.jsonParse=function(e){try{return"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e+""):function(e){var n,i=null;return(e=t(e+""))&&!t(e.replace(a,(function(e,t,a,r){return n&&t&&(i=0),0===i?e:(n=a||t,i+=!r-!a,"")})))?Function("return "+e)():null}(e)}catch(e){return null}},n.trim=function(e){try{return String.prototype.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}catch(t){return e}},n.arrayIndexOf=function(e,t){if(Array.prototype.indexOf){var n=-1;return void 0!==e.indexOf(t)&&(n=e.indexOf(t)),n}return function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var a=0;if(1<arguments.length&&((a=Number(arguments[1]))!=a?a=0:0!=a&&1/0!=a&&-1/0!=a&&(a=(0<a||-1)*Math.floor(Math.abs(a)))),a>=n)return-1;for(a=0<=a?a:Math.max(n-Math.abs(a),0);a<n;a++)if(a in t&&t[a]===e)return a;return-1}.apply(e,[t])},n.uuid=function(){function e(e){var a=Math.random();try{n&&(a=t.getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32))}catch(e){}return Math.floor((9*a+1)*Math.pow(10,e-1))}var t=window.crypto||window.msCrypto,n=null!==t&&"object"==typeof t;return{v4:function(){try{if(n)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^t.getRandomValues(new Uint32Array(1))[0]&15>>e/4).toString(16)}))}catch(e){}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},num:function(t){var n=new Date,a=function(e){return 10>(e-=100*Math.floor(e/100))?"0"+e:String(e)};return a(n.getHours())+""+a(n.getMinutes())+a(n.getSeconds())+e(t-6)}}},n.isPreview=function(){return window.navigator&&"preview"===window.navigator.loadPurpose},n.isPrerender=function(e){var t,a=!1,i=["webkit","ms"];if("prerender"===document.visibilityState)t="visibilitychange";else for(var r=0;r<i.length;r++)"prerender"===document[i[r]+"VisibilityState"]&&(t=i[r]+"visibilitychange");if(void 0!==t){var o=function(a){e(a),n.removeEvtListener(document,t,o)};n.addEvtListener(document,t,o),a=!0}return a},n.addEvtListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},n.removeEvtListener=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},n.hashcode=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=0|(t=(t<<5)-t+e.charCodeAt(n));return t},n.setLocation=function(e){var t=e.location;e=window[e.target]||window,t&&(e.location.href=t)},n.dispatchCallbackEvent=function(e){var t;if("function"==typeof window.Event)t=new Event("ATCallbackEvent");else try{(t=document.createEvent("Event")).initEvent&&t.initEvent("ATCallbackEvent",!0,!0)}catch(e){}t&&"function"==typeof document.dispatchEvent&&(t.name=e,document.dispatchEvent(t))},n.addCallbackEvent=function(e){n.addEvtListener(document,"ATCallbackEvent",e)},n.removeCallbackEvent=function(e){n.removeEvent("ATCallbackEvent",e)},function(){function e(e,t){var n;t=t||{bubbles:!1,cancelable:!1,detail:void 0};try{(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(e){}return n}"function"==typeof window.CustomEvent?window.ATCustomEvent=window.CustomEvent:("function"==typeof window.Event&&(e.prototype=window.Event.prototype),window.ATCustomEvent=e)}(),n.addEvent=function(e,t,a,i){n[e]=new ATCustomEvent(e,{detail:{name:t,id:a}}),n.addEvtListener(document,e,i)},n.removeEvent=function(e,t){n.removeEvtListener(document,e,t)},n.dispatchEvent=function(e,t){n[e]=n[e]||new ATCustomEvent(e,{detail:{name:t,id:-1}});try{document.dispatchEvent(n[e])}catch(e){}},n.privacy=new function(){function e(e,t){var a,i,r=[];a={};for(var o=0;o<e.length;o++){for(var s in a={},n.object2Flatten(e[o],null,a,null,!0),a)a.hasOwnProperty(s)&&-1===n.arrayIndexOf(t,s)&&delete a[s];if(!n.isEmptyObject(a)){for(var l in i={},a)a.hasOwnProperty(l)&&n.flatten2Object(i,l,a[l]);a=n.getFormattedObject(i),r.push(a)}}return r}function t(e,n,a){1<e.length?(void 0===n[e[0]]&&(n[e[0]]={}),t(e.slice(1,e.length),n[e[0]],a)):n[e[0]]=a}function a(e,t,n,i,r){var o=i||{};if(!e||"object"!=typeof e||e instanceof Array){if(void 0!==e&&0<=n.indexOf(r)||void 0===n)o[r]=e;else for(t=0;t<n.length;t++)if(r&&0===r.indexOf(n[t])){o[r]=e;break}}else for(var s in e)e.hasOwnProperty(s)&&a(e[s],t,n,o,(r?r+t:"")+s);if(void 0===i)return o}function i(e,i,r){for(var o=[],s=0;s<e.length;s++){var l;l=a(e[s],r,i);var c=r,d={},u=void 0;for(u in l)if(l.hasOwnProperty(u)){t(u.split(c),d,l[u])}l=d,n.isEmptyObject(l)||o.push(l)}return o}function r(e,t){var n="",a={key:"",flattenedProperty:""};switch(!0){case 0===e.indexOf("stc_"):n="stc_";break;case 0===e.indexOf("stc/"):n="stc/";break;case 0===e.indexOf("events_"):n="events_";break;case 0===e.indexOf("context_"):n="context_";break;default:a.key=e}if(n){var i=n.substring(0,n.length-1);a.key=i,0>t.indexOf(i)&&(a.flattenedProperty=e.substring(n.length))}return a}function o(e){for(var t=[],n={},a=0;a<e.length;a++)if("string"==typeof e[a]){var i={};if(-1<e[a].indexOf("#")){var o=e[a].split("#");o[0]===c&&(i=r(o[1],e))}else i=r(e[a],e);i.key&&0>t.indexOf(i.key)&&t.push(i.key),i.flattenedProperty&&(n[i.key]=(n[i.key]||[]).concat(i.flattenedProperty))}else for(var s in e[a])e[a].hasOwnProperty(s)&&(0>t.indexOf(s)&&t.push(s),0>e.indexOf(s)&&(n[s]=(n[s]||[]).concat(e[a][s])));return{keys:t,values:n}}var s=this,l={storageParams:null,bufferParams:null},c="";s.CONSENTNO="Consent-NO",s.ALL="*",s.testStorageParam=function(e,t){var n;if(l.storageParams instanceof Array){for(var a,i=l.storageParams.length-1;0<=i;i--)if("string"==typeof(a=l.storageParams[i])){if(a===e||a===s.ALL)return{toSetInStorage:!0}}else{e:{n=e;var r=t,o=void 0,c=void 0;for(c in a)if(a.hasOwnProperty(c)&&n===c){if(!r){n=!0;break e}o=[],a[c]instanceof Array?o=a[c]:o.push(a[c]);for(var d=0;d<o.length;d++)if(o[d]===r){n=!0;break e}}n=!1}if(n)return{toSetInStorage:!0}}return{toSetInStorage:!1}}return{toSetInStorage:!0}},s.processStorageParams=function(e,t,a){if(a){a=a();var i=o(l.storageParams);if(i.keys[0]!==s.ALL)for(var r in a)if(a.hasOwnProperty(r)&&void 0!==a[r])if(-1===n.arrayIndexOf(i.keys,r))e&&e(r);else if(n.isObject(a[r])){var c=r,d=a[r].val,u=i.values[r],p=e,g=t;if(void 0!==u){var f=[];for(u in u instanceof Array?f=u:f.push(u),u=void 0,d)d.hasOwnProperty(u)&&-1===n.arrayIndexOf(f,u)&&p&&p([c,u]);p&&g&&n.isEmptyObject(g(c))&&p(c)}}}},s.testBufferParam=function(t,a){var r,c;if(l.bufferParams instanceof Array){for(r=o(l.bufferParams),c=0;c<r.keys.length;c++)if(r.keys[c]===t||r.keys[c]===s.ALL){if(r.values.hasOwnProperty(r.keys[c])){var d={};d[r.keys[c]]=r.values[r.keys[c]];e:{if(r=t,c=a,n.isObject(d)){var u=void 0,p=[],g=!1,f=u=u=void 0;for(f in d)if(d.hasOwnProperty(f)&&r===f&&("string"==typeof(u=c)&&(u=n.jsonParse(u)||u),"object"==typeof u)){u instanceof Array?(p=u,g=!0):p.push(u),0===(u="stc"===r?i(p,d[f],"/"):"events"===r||"context"===r?i(p,d[f],"_"):e(p,d[f])).length?(r=!1,c=void 0):(u=g?u:u[0],r=!0,c=n.jsonSerialize(u));break e}}r=!1,c=void 0}if(r)return{toSetInBuffer:!0,value:c};break}return{toSetInBuffer:!0,value:a}}return{toSetInBuffer:!1}}return{toSetInBuffer:!0,value:a}},s.processBufferParams=function(t,a,r){if(a){a=a();var c=o(l.bufferParams);if(c.keys[0]!==s.ALL)for(var d in a)if(a.hasOwnProperty(d))if(-1===n.arrayIndexOf(c.keys,d))t&&t(d);else{var u=d,p=a[d],g=c.values[d],f=t,m=r;if(void 0!==g&&void 0!==p){var v=[],h=p._value,b=[],y=!1,_=void 0;_=void 0;g instanceof Array?v=g:v.push(g),"string"==typeof h&&(h=n.jsonParse(h)||h),"object"==typeof h&&(h instanceof Array?(b=h,y=!0):b.push(h),0===(_="stc"===u?i(b,v,"/"):"events"===u||"context"===u?i(b,v,"_"):e(b,v)).length?f&&f(u):(_=y?_:_[0],m&&m(u,n.jsonSerialize(_),p._options)))}}}},s.setMode=function(e){c=e},s.setParameters=function(e){l=e},s.getParameters=function(){return l},s.resetParameters=function(){l={storageParams:null,bufferParams:null}}},n.optedOut=null,n.addOptOutEvent=function(e,t){n.addEvent("ATOptOutEvent","clientsideuserid",e,t)},n.removeOptOutEvent=function(e){n.removeEvent("ATOptOutEvent",e)},n.dispatchOptOutEvent=function(e){n.optedOut=e,n.dispatchEvent("ATOptOutEvent","clientsideuserid")},n.userOptedOut=function(){n.dispatchOptOutEvent(!0)},n.userOptedIn=function(){n.dispatchOptOutEvent(!1)},n.isOptedOut=function(){if(null===n.optedOut){var e;if(e=null,n.isLocalStorageAvailable()&&(e=localStorage.getItem("atuserid")),null===e){var t=/(?:^| )atuserid=([^;]+)/.exec(document.cookie);null!==t&&(e=t[1])}if(null!==e)try{e=decodeURIComponent(e)}catch(e){}e&&null!==(e=n.jsonParse(e)||n.jsonParse(n.Base64.decode(e)))?e="OPT-OUT"===e.val:e=!1,n.optedOut=e}return!!n.optedOut},n.consentReceived=function(e){n.consent=!!e},n.consent=!0,n.isTabOpeningAction=function(e){var t=!1;return e||(e=window.event),e&&(e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1===e.button)&&(t=!0),t},n.CLICKS_REDIRECTION="redirection",n.CLICKS_FORM="form",n.CLICKS_MAILTO="mailto"};var a=function(e){var t,n=this,a=0,i=0,r=["dz"],o=function(e,t,n,a,i,r,o){return{param:e="&"+e+"=",paramSize:e.length,str:t,strSize:t.length,truncate:n,multihit:a,separator:i||"",encode:r,last:o}},s=function(e,t){var n,a="",i=0,r=0,o=0,s=(i=-1,null),l=null;for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&(i=t-r,s.last&&null!==l?l[n]=s:s.strSize+s.paramSize<=i?(a+=s.param+s.str,r+=s.paramSize+s.strSize):((l=l||{})[n]=s,s.truncate&&(o=i-s.paramSize,s.separator&&(i=s.str.substring(0,i),0<(i=s.encode?i.lastIndexOf(encodeURIComponent(s.separator)):i.lastIndexOf(s.separator))&&(o=i)),a+=s.param+s.str.substring(0,o),r+=s.paramSize+s.str.substring(0,o).length,l[n].str=s.str.substring(o,s.strSize),l[n].strSize=l[n].str.length)));return[a,l]},l=function(t,n,a){var l,c,d="",u=function(t){if(t==={})return[];var n,a=[];n={};var l,c,u,p,g,f,m,v,h,b=!1,y=void 0,_="";for(h in t)if(t.hasOwnProperty(h))if(f=g=p=u=!1,l=t[h]._value,"boolean"==typeof(c=t[h]._options||{}).encode&&(u=c.encode),"function"==typeof l&&(l=l()),l=l instanceof Array?l.join(c.separator||","):"object"==typeof l?ATInternet.Utils.jsonSerialize(l):void 0===l?"undefined":l.toString(),u&&(l=encodeURIComponent(l)),-1<ATInternet.Utils.arrayIndexOf(r,h)?p=!0:"boolean"==typeof c.truncate&&(p=c.truncate),"boolean"==typeof c.multihit&&(g=c.multihit),"boolean"==typeof c.last&&(f=c.last),l=o(h,l,p,g,c.separator,u,f),g)i-=l.paramSize+l.strSize,_+=l.param+l.str;else if(f)l.paramSize+l.strSize>i&&(l.str=l.str.substring(0,i-l.paramSize),l.strSize=l.str.length),m=h,v=l;else if(n[h]=l,n[h].paramSize+n[h].strSize>i&&!n[h].truncate){e.emit("Tracker:Hit:Build:Error",{lvl:"ERROR",msg:'Too long parameter: "'+n[h].param+'"',details:{value:n[h].str}}),b=!0,y=h;break}if(m&&(n[m]=v),t=(n=[n,b,y,_])[0],b=n[1],d=n[3],b&&((t=t[n=n[2]]).str=t.str.substring(0,i-t.paramSize),t.strSize=t.str.length,(b={}).mherr=o("mherr","1",!1,!1,"",!1,!1),b[n]=t,t=b),null===(t=s(t,i))[1])a=t[0];else for(a.push(t[0]);null!==t[1];)t=s(t[1],i),a.push(t[0]);return a},p="";if(e.buffer.presentInFilters(n,"hitType")||(n=e.buffer.addInFilters(n,"hitType",["page"])),n=e.buffer.addInFilters(n,"hitType",["all"]),ATInternet.Utils.isObject(t)){for(l in n=e.buffer.addInFilters(n,"permanent",!0),n=e.buffer.get(n,!0),t)t.hasOwnProperty(l)&&(p={},t[l]&&"object"==typeof t[l]&&t[l].hasOwnProperty("_value")?(c=t[l]._value,t[l].hasOwnProperty("_options")&&(p=t[l]._options)):c=t[l],(c=ATInternet.Utils.privacy.testBufferParam(l,c)).toSetInBuffer&&(n[l]={_value:c.value,_options:p}));p=u(n)}else for(l in p=u(n=e.buffer.get(n,!0)),n)n.hasOwnProperty(l)&&(n[l]._options&&n[l]._options.permanent||e.buffer.del(l));a&&a(p,d)};n.getCollectDomain=function(){var t="",n=(t=e.getConfig("logSSL")||e.getConfig("log"),e.getConfig("domain"));return t&&n?t+"."+n:e.getConfig("collectDomainSSL")||e.getConfig("collectDomain")};var c=function(t){var a="";if(r=e.getConfig("baseURL"))a=r;else{var i,r=n.getCollectDomain();"/"!==(i=(i=e.getConfig("pixelPath"))||"/").charAt(0)&&(i="/"+i),r&&(a=(e.getConfig("forceHttp")?"http://":"https://")+r+i)}r=e.getConfig("site"),a&&r?t&&t(null,a+"?s="+r):t&&t({message:"Config error"})},d=function(e,t,n){c((function(r,o){r?n&&n(r):(i=a-(o.length+27),l(e,t,(function(e,t){var a=[],i=ATInternet.Utils.uuid().num(13);if(e instanceof Array)for(var r=1;r<=e.length;r++)a.push(o+t+"&mh="+r+"-"+e.length+"-"+i+e[r-1]);else a.push(o+t+e);n&&n(null,a)})))}))},u=function(t,n,a,i,r,o,s){return function(l){e.emit(t,{lvl:r,details:{hit:n,method:a,event:l,isMultiHit:o,elementType:s}}),i&&i()}};n.send=function(t,a,i,r,o){d(t,a,(function(t,a){if(t)e.emit("Tracker:Hit:Build:Error",{lvl:"ERROR",msg:t.message,details:{}}),i&&i();else for(var s=0;s<a.length;s++)n.sendUrl(a[s],i,r,o)}))},a=Math.max(e.getConfig("maxHitSize")||0,2e3),i=Math.max(e.getConfig("maxHitSize")||0,2e3),t=e.getConfig("requestMethod"),n.sendUrl=function(n,a,i,r){var o=-1<n.indexOf("&mh=");i=i||t,ATInternet.Utils.isOptedOut()&&!e.getConfig("sendHitWhenOptOut")?u("Tracker:Hit:Sent:NoTrack",n,i,a,"INFO",o,r)():"POST"===i&&ATInternet.Utils.isBeaconMethodAvailable()?(r="Tracker:Hit:Sent:Error",i="ERROR",window.navigator.sendBeacon(n,null)&&(r="Tracker:Hit:Sent:Ok",i="INFO"),u(r,n,"POST",a,i,o,"")()):((i=new Image).onload=u("Tracker:Hit:Sent:Ok",n,"GET",a,"INFO",o,r),i.onerror=u("Tracker:Hit:Sent:Error",n,"GET",a,"ERROR",o,r),i.src=n)}},i=function(){function e(e,t,n){for(var a=[],i=0;i<e.length;i++)e[i].callback(t,n),e[i].singleUse||a.push(e[i]);return a}function t(e,n,a,i){var r=e.shift();return"*"===r?(n["*"]=n["*"]||[],n["*"].push({callback:a,singleUse:i}),n["*"].length-1):0===e.length?t([r,"*"],n,a,i):(n["*"]=n["*"]||[],n[r]=n[r]||{},t(e,n[r],a,i))}function n(t,a,i,r){var o=a.shift();"*"!==o&&(0===a.length?n(t,[o,"*"],i,r):i[o]&&(i[o]["*"]=e(i[o]["*"],t,r),n(t,a,i[o],r)))}var a={};this.on=function(e,n,i){return i=i||!1,t(e.split(":"),a,n,i)},this.emit=function(t,i){a["*"]&&(a["*"]=e(a["*"],t,i)),n(t,t.split(":"),a,i)}},r=function(e){var t={},n={},a=0,i={},r=0,o=function(e){var n=!1;return t[e]&&(n=!0),n},s=this.unload=function(n){return o(n)?(t[n]=void 0,e.emit("Tracker:Plugin:Unload:"+n+":Ok",{lvl:"INFO"})):e.emit("Tracker:Plugin:Unload:"+n+":Error",{lvl:"ERROR",msg:"not a known plugin"}),e},l=this.load=function(i,r){return"function"==typeof r?void 0===e.getConfig.plgAllowed||0===e.getConfig.plgAllowed.length||-1<e.getConfig.plgAllowed.indexOf(i)?(t[i]=new r(e),n[i]&&o(i)&&(n[i]=!1,a--,o(i+"_ll")&&s(i+"_ll"),0===a&&e.emit("Tracker:Plugin:Lazyload:File:Complete",{lvl:"INFO",msg:"LazyLoading triggers are finished"})),e.emit("Tracker:Plugin:Load:"+i+":Ok",{lvl:"INFO"})):e.emit("Tracker:Plugin:Load:"+i+":Error",{lvl:"ERROR",msg:"Plugin not allowed",details:{}}):e.emit("Tracker:Plugin:Load:"+i+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:r}}),e},c=this.isLazyloading=function(e){return e?!0===n[e]:0!==a},d=function(e){return!o(e)&&!c(e)&&o(e+"_ll")},u=function(t){n[t]=!0,a++,ATInternet.Utils.loadScript({url:e.getConfig("lazyLoadingPath")+t+".js"})},p=function(e){return!!d(e)&&(u(e),!0)},g=function(e,n,a,i){var r=null;n=n.split("."),o(e)&&t[e][n[0]]&&(r=1<n.length&&t[e][n[0]][n[1]]?t[e][n[0]][n[1]].apply(t[e],a):t[e][n[0]].apply(t[e],a)),i&&i(r)},f=function(t,n,a,o){!function(e){i[e]?i[e]++:i[e]=1,r++}(t),e.onTrigger("Tracker:Plugin:Load:"+t+":Ok",(function(){g(t,n,a,(function(n){i[t]--,0===--r&&e.emit("Tracker:Plugin:Lazyload:Exec:Complete",{lvl:"INFO",msg:"All exec waiting for lazyloading are done"}),o&&o(n)}))}),!0)};this.isExecWaitingLazyloading=function(){return 0!==r},e.exec=this.exec=function(e,t,n,a){d(e)?(f(e,t,n,a),u(e)):c(e)?f(e,t,n,a):g(e,t,n,a)},this.waitForDependencies=function(n,a){var i=function(e){for(var n={mcount:0,plugins:{}},a=0;a<e.length;a++)t.hasOwnProperty(e[a])||(n.mcount++,n.plugins[e[a]]=!0);return n}(n);if(0===i.mcount)e.emit("Tracker:Plugin:Dependencies:Loaded",{lvl:"INFO",details:{dependencies:n}}),a();else for(var r in i.plugins)i.plugins.hasOwnProperty(r)&&(e.emit("Tracker:Plugin:Dependencies:Error",{lvl:"WARNING",msg:"Missing plugin "+r}),e.onTrigger("Tracker:Plugin:Load:"+r,(function(e,t){var n=e.split(":"),r=n[3];"Ok"===n[4]&&(i.plugins[r]=!1,i.mcount--,0===i.mcount&&a())}),!0),p(r))},this.init=function(){for(var e in ATInternet.Tracker.pluginProtos)ATInternet.Tracker.pluginProtos.hasOwnProperty(e)&&l(e,ATInternet.Tracker.pluginProtos[e])}},o=function(e){var t=this,n={},a=function(n){if(n.name){var a=!0,i=e.getConfig("callbacks");void 0!==i&&(i.include instanceof Array&&-1===ATInternet.Utils.arrayIndexOf(i.include,n.name)&&(a=!1),i.exclude instanceof Array&&-1!==ATInternet.Utils.arrayIndexOf(i.exclude,n.name)&&(a=!1)),ATInternet.Callbacks&&ATInternet.Callbacks.hasOwnProperty(n.name)&&((i={})[n.name]={function:ATInternet.Callbacks[n.name]},a&&t.load(n.name,i[n.name].function),ATInternet.Tracker.callbackProtos[n.name]||(ATInternet.Tracker.callbackProtos[n.name]=i[n.name]))}};t.load=function(t,n){return"function"==typeof n?(new n(e),e.emit("Tracker:Callback:Load:"+t+":Ok",{lvl:"INFO",details:{obj:n}})):e.emit("Tracker:Callback:Load:"+t+":Error",{lvl:"ERROR",msg:"not a function",details:{obj:n}}),e},t.init=function(){if(e.getConfig("activateCallbacks")){var i=e.getConfig("callbacks");if(void 0!==i&&i.include instanceof Array)for(var r=0;r<i.include.length;r++)ATInternet.Callbacks&&ATInternet.Callbacks.hasOwnProperty(i.include[r])&&(n[i.include[r]]={function:ATInternet.Callbacks[i.include[r]]},ATInternet.Tracker.callbackProtos[i.include[r]]||(ATInternet.Tracker.callbackProtos[i.include[r]]=n[i.include[r]]));else for(r in ATInternet.Callbacks)ATInternet.Callbacks.hasOwnProperty(r)&&(n[r]={function:ATInternet.Callbacks[r]},ATInternet.Tracker.callbackProtos[r]||(ATInternet.Tracker.callbackProtos[r]=n[r]));if(void 0!==i&&i.exclude instanceof Array)for(r=0;r<i.exclude.length;r++)delete n[i.exclude[r]];for(var o in n)n.hasOwnProperty(o)&&n[o]&&t.load(o,n[o].function);ATInternet.Utils.addCallbackEvent(a)}},t.removeCallbackEvent=function(){ATInternet.Utils.removeCallbackEvent(a)}},s=function(e){var t=this,n={};t.set=function(e,t,a){(t=ATInternet.Utils.privacy.testBufferParam(e,t)).toSetInBuffer&&((a=a||{}).hitType=a.hitType||["page"],n[e]={_value:t.value,_options:a})};var a=function(e,t,n){return(e=ATInternet.Utils.cloneSimpleObject(e[t]))&&!n?e._value:e},i=function e(t,a){if(!(t&&a instanceof Array&&t instanceof Array))return[];if(0===t.length)return a;var i,r=t[0],o=[],s=ATInternet.Utils.cloneSimpleObject(t);s.shift();for(var l=0;l<a.length;l++)if("object"!=typeof r[1])n[a[l]]&&n[a[l]]._options[r[0]]===r[1]&&o.push(a[l]);else{i=r[1].length;for(var c=0;c<i;c++)if(n[a[l]]&&n[a[l]]._options[r[0]]instanceof Array&&0<=ATInternet.Utils.arrayIndexOf(n[a[l]]._options[r[0]],r[1][c])){o.push(a[l]);break}}return e(s,o)};t.get=function(e,t){var r={};if("string"==typeof e)r=a(n,e,t);else for(var o=i(e,ATInternet.Utils.getObjectKeys(n)),s=0;s<o.length;s++)r[o[s]]=a(n,o[s],t);return r},t.presentInFilters=function(e,n){return!(!e||0===e.length)&&(e[0][0]===n||t.presentInFilters(e.slice(1),n))},t.addInFilters=function(e,n,a,i){if(!e||0===e.length)return i?[]:[[n,a]];var r=e[0][0],o=e[0][1];return r===n&&(o instanceof Array&&-1===ATInternet.Utils.arrayIndexOf(o,a[0])&&o.push(a[0]),i=!0),[[r,o]].concat(t.addInFilters(e.slice(1),n,a,i))},t.del=function(e){n[e]=void 0},t.clear=function(){n={}}},l=function(e){var t=this,n={};t.setProp=function(e,t,a){void 0!==e&&(n[e]={value:t,persistent:!!a})},t.setProps=function(e,n){if(ATInternet.Utils.isObject(e))for(var a in e)e.hasOwnProperty(a)&&t.setProp(a,e[a],n)},t.delProp=function(t,a){void 0!==n[t]&&delete n[t],!a&&e.delParam(t.toLowerCase())},t.delProps=function(e){for(var a in n)n.hasOwnProperty(a)&&t.delProp(a,e)},t.getProp=function(e){return(n=n||{})[e]},t.getProps=function(){return n}};ATInternet.Tracker.Tag=function(e,t,c){t=t||{};var d=this;d.version="5.29.4";var u=ATInternet.Utils.cloneSimpleObject(t);d.triggers=new i,d.emit=d.triggers.emit,d.onTrigger=d.triggers.on;var p,g=ATInternet.Utils.cloneSimpleObject(n)||{};for(p in e)e.hasOwnProperty(p)&&(g[p]=e[p]);if(d.getConfig=function(e){return g[e]},d.setConfig=function(e,t,n){void 0!==g[e]&&n||(d.emit("Tracker:Config:Set:"+e,{lvl:"INFO",details:{bef:g[e],aft:t}}),g[e]=t)},d.configPlugin=function(e,t,n){for(var a in g[e]=g[e]||{},t)t.hasOwnProperty(a)&&void 0===g[e][a]&&(g[e][a]=t[a]);return n&&(n(g[e]),d.onTrigger("Tracker:Config:Set:"+e,(function(e,t){n(t.details.aft)}))),g[e]},d.getAllContext=function(){return u},d.getContext=function(e){return u[e]},d.setContext=function(e,t){d.emit("Tracker:Context:Set:"+e,{lvl:"INFO",details:{bef:u[e],aft:t}}),u[e]=t},d.delContext=function(e,t){if(d.emit("Tracker:Context:Deleted:"+e+":"+t,{lvl:"INFO",details:{key1:e,key2:t}}),e)u.hasOwnProperty(e)&&(t?u[e]&&u[e].hasOwnProperty(t)&&(u[e][t]=void 0):u[e]=void 0);else if(t)for(var n in u)u.hasOwnProperty(n)&&u[n]&&u[n].hasOwnProperty(t)&&(u[n][t]=void 0)},d.plugins=new r(d),d.buffer=new s,d.setParam=d.buffer.set,d.getParams=function(e){return d.buffer.get(e,!1)},d.getParam=d.buffer.get,d.delParam=d.buffer.del,d.builder=new a(d),d.sendUrl=d.builder.sendUrl,d.callbacks=new o(d),d.properties=new l(d),d.setProp=d.properties.setProp,d.setProps=d.properties.setProps,d.delProp=d.properties.delProp,d.delProps=d.properties.delProps,d.getProp=d.properties.getProp,d.getProps=d.properties.getProps,d.sendHit=function(e,t,n,a,i){var r,o,s=d.getProps();for(o in s)s.hasOwnProperty(o)&&(r=s[o].value,s[o].persistent?d.setParam(o.toLowerCase(),r,{permanent:!0,hitType:["all"],encode:!0}):(ATInternet.Utils.isObject(e)?e[o.toLowerCase()]={_value:r,_options:{hitType:["all"],encode:!0}}:d.setParam(o.toLowerCase(),r,{hitType:["all"],encode:!0}),d.delProp(o,!0)));d.builder.send(e,t,n,a,i)},ATInternet.Utils.privacy.resetParameters(),d.setParam("ts",(function(){return(new Date).getTime()}),{permanent:!0,hitType:["all"]}),(d.getConfig("disableCookie")||d.getConfig("disableStorage"))&&d.setParam("idclient",ATInternet.Utils.privacy.CONSENTNO,{permanent:!0,hitType:["all"]}),d.getConfig("medium")&&d.setParam("medium",d.getConfig("medium"),{permanent:!0,hitType:["all"]}),d.getConfig("urlPropertyAuto")&&"undefined"!=typeof window&&void 0!==window.location){p=(d.getConfig("urlPropertyQueryString")?window.location.href:window.location.protocol+"//"+window.location.host+window.location.pathname).replace(/[<>]/g,"").substring(0,1600).replace(/&/g,"$").replace(/#/g,"µ");var f=d.getContext("page")||{};f.url=window.encodeURIComponent(p),d.setContext("page",f),d.setParam("page_url",p,{permanent:!0,hitType:"page click publisher selfPromotion onSiteAdsClick onSiteAdsImpression InternalSearch mvtesting richmedia".split(" ")})}d.plugins.init(),d.callbacks.init(),d.emit("Tracker:Ready",{lvl:"INFO",msg:"Tracker initialized",details:{tracker:d,args:{config:e,context:t,callback:c}}}),c&&c(d),ATInternet.Tracker.instances.push(d)},ATInternet.Tracker.instances=[],ATInternet.Tracker.pluginProtos={},ATInternet.Tracker.addPlugin=function(e,t){if(t=t||ATInternet.Tracker.Plugins[e],!ATInternet.Tracker.pluginProtos[e]){ATInternet.Tracker.pluginProtos[e]=t;for(var n=0;n<ATInternet.Tracker.instances.length;n++)ATInternet.Tracker.instances[n].plugins.load(e,t)}},ATInternet.Tracker.delPlugin=function(e){if(ATInternet.Tracker.pluginProtos[e]){ATInternet.Tracker.pluginProtos[e]=void 0;for(var t=0;t<ATInternet.Tracker.instances.length;t++)ATInternet.Tracker.instances[t].plugins.unload(e)}},ATInternet.Tracker.callbackProtos={}}.call(window),Object.keys(At).forEach((e=>At[e].load())),Object.keys(t).forEach((e=>t[e].load({getAvTracker:Qt,getLevel2:en,getPageTracker:Yt,toAtString:Gt,updateTrackerPrivacy:tn}))),"function"==typeof window.ATInternet.onTrackerLoad&&window.ATInternet.onTrackerLoad()},un=e=>{const t=de("div","&nbsp;",{class:"adsbox pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"});re(t,document.body),t?window.setTimeout((()=>{try{Vt=0===t.offsetHeight,document.body.setAttribute("data-adblock-active",Vt),ce(t),G("tms.tags.stats.atInternet","Analytics - AT Internet - Ad Blocker test",{result:Vt,callback:e}),e()}catch(t){G("error.tms.tags.stats.atInternet","Analytics - AT Internet - Failed Ad Blocker detection",{error:t,callback:e}),e()}}),100):(G("error.tms.tags.stats.atInternet","Analytics - AT Internet - Failed creation of Ad Blocker detector",{callback:e}),e())},pn=e=>{G("tms.tags.stats.atInternet","Analytics - AT Internet - Init"),window.ATInternet={onTrackerLoad(){G("tms.tags.stats.atInternet","Analytics - AT Internet - SDK loaded successfully"),un((()=>{nn("page",!0,Dt),nn("media",!0,Dt),nn("av",!0,Dt),Ae((()=>{$t()?(ln(),on()):Ye((()=>{ln(),on()}),"atInternet")}))}))}},dn(cn(e),e)},gn=e=>{Dt="atOffline"in e,Ae((()=>pn(e))),Dt&&et((()=>ln())),Ge((()=>{tn("page"),"atRichMedia"in e&&tn("media")})),Le((()=>{nn("page",!1,Dt),on()})),"atRichMedia"in e&&(je(((e,t)=>{sn(e,t,"audio")})),Be(((e,t)=>{sn(e,t,"video")})),Oe((()=>{sn("resetAll")})))};var fn={load:gn,getCampaign:ut,getCollectDomain:Xt,getLevel1:Zt,getLevel2:en,getHitlog:zt,getAvTracker:Qt,getPageTracker:Yt,getRichmediaTracker:Kt,hitPage:on,hitRichMedia:sn,init:pn,players:Nt,runAdblockerTest:un,sdkConfig:cn,sdkLoad:dn,sendOfflineHits:ln,setCustomVars:an,setupTracker:nn,toAtArray:Jt,toAtString:Gt,toAtTitle:Wt,updateTrackerPrivacy:tn};const mn="Campaigns",vn=()=>{(function(){var e={lifetime:1,lastPersistence:!0,domainAttribution:!0,enableUTMTracking:!0,UTMParameters:["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],querystringPrefix:"at_"},t=30,n=30;ATInternet.Tracker.Plugins.Campaigns=function(a){function i(e,t,n){for(var a={},i=RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),r=i.exec(t);null!==r;)0===r[1].indexOf(e)&&(a[n+r[1].substring(e.length)]=r[2]),r=i.exec(t);return a}a.setConfig("visitLifetime",t,!0),a.setConfig("redirectionLifetime",n,!0);var r,o,s={};a.configPlugin("Campaigns",e||{},(function(e){s=e}));var l,c,d,u,p,g,f,m,v,h,b,y,_,w,T,k=function(){var e=function(e){var t="";return e&&(t=isNaN(e)&&-1===e.search(/^\[(.*?)\]$/g)&&-1===e.search(/^\d+\[(.*?)\]$/g)?"["+e+"]":e),t},t=function(e){var t=e;return-1!==e.search(/[-]/g)&&-1===e.search(/^\[(.*?)\]$/g)&&(t="["+e+"]"),t},n=function(e){for(;"-"===e.charAt(e.length-1);)e=e.substring(0,e.length-1);return e};this.SponsoredLinks=function(){var i={google:"goo",yahoo:"ysm",miva:"miv",orange:"wan",msn:"msn",mirago:"mir",sklik:"skl",adfox:"adf",etarget:"etg",yandex:"yan",ebay:"eba",searchalliance:"sal",bing:"bin",naver:"nav",baidu:"bdu",qwant:"qwt",waze:"waz",amazon:"amz"},r={search:"s",content:"c"};this.atMedium="sl",this.atTerm=this.atNetwork=this.atVariant=this.atCreation=this.atPlatform=this.atCampaign="",this.format=function(){var a=e(this.atCampaign),o=i[this.atPlatform]||t(this.atPlatform),s=e(this.atCreation),l=e(this.atVariant),c=r[this.atNetwork]||t(this.atNetwork),d=e(this.atTerm);return n("sec-"+a+"-"+o+"-"+s+"-"+l+"-"+c+"-"+d)},this.setProperties=function(e){var t=a.utils.getQueryStringValue(s.querystringPrefix+"source",e)||"";this.atCampaign=a.utils.getQueryStringValue(s.querystringPrefix+"campaign",e)||"",this.atPlatform=a.utils.getQueryStringValue(s.querystringPrefix+"platform",e)||"",this.atCreation=a.utils.getQueryStringValue(s.querystringPrefix+"creation",e)||"",this.atVariant=a.utils.getQueryStringValue(s.querystringPrefix+"variant",e)||"",this.atNetwork=a.utils.getQueryStringValue(s.querystringPrefix+"network",e)||"",this.atTerm=a.utils.getQueryStringValue(s.querystringPrefix+"term",e)||"",a.setContext("campaigns_events",{source:t,medium:this.atMedium,campaign:this.atCampaign,platform:this.atPlatform,creation:this.atCreation,variant:this.atVariant,network:this.atNetwork,term:this.atTerm})}},this.Email=function(){var i={acquisition:"erec",retention:"epr",promotion:"es"};this.atMedium="email",this.atSendTime=this.atRecipientList=this.atRecipientId=this.atLink=this.atSendDate=this.atCreation=this.atCampaign=this.atEmailtype="",this.format=function(){var a=i[this.atEmailtype]||i.promotion,r=e(this.atCampaign),o=e(this.atCreation),s=t(this.atSendDate),l=e(this.atLink),c=t(this.atRecipientId)+(this.atRecipientList?"@"+t(this.atRecipientList):""),d=t(this.atSendTime);return n(a+"-"+r+"-"+o+"-"+s+"-"+l+"-"+c+"-"+d)},this.setProperties=function(e){var t=a.utils.getQueryStringValue(s.querystringPrefix+"source",e)||"";this.atEmailtype=a.utils.getQueryStringValue(s.querystringPrefix+"emailtype",e)||"",this.atCampaign=a.utils.getQueryStringValue(s.querystringPrefix+"campaign",e)||"",this.atCreation=a.utils.getQueryStringValue(s.querystringPrefix+"creation",e)||"",this.atSendDate=a.utils.getQueryStringValue(s.querystringPrefix+"send_date",e)||"",this.atLink=a.utils.getQueryStringValue(s.querystringPrefix+"link",e)||"",this.atRecipientId=a.utils.getQueryStringValue(s.querystringPrefix+"recipient_id",e)||"",this.atRecipientList=a.utils.getQueryStringValue(s.querystringPrefix+"recipient_list",e)||"",this.atSendTime=a.utils.getQueryStringValue(s.querystringPrefix+"send_time",e)||"",a.setContext("campaigns_events",{source:t,medium:this.atMedium,emailtype:this.atEmailtype,campaign:this.atCampaign,creation:this.atCreation,send_date:this.atSendDate,link:this.atLink,recipient_id:this.atRecipientId,recipient_list:this.atRecipientList,send_time:this.atSendTime})}},this.Affiliate=function(){this.atMedium="affiliate",this.atVariant=this.atCreation=this.atFormat=this.atIdentifier=this.atType=this.atCampaign="",this.format=function(){var t=e(this.atCampaign),a=e(this.atType),i=e(this.atIdentifier),r=e(this.atFormat),o=e(this.atCreation),s=e(this.atVariant);return n("al-"+t+"-"+a+"-"+i+"-"+r+"-"+o+"-"+s)},this.setProperties=function(e){var t=a.utils.getQueryStringValue(s.querystringPrefix+"source",e)||"";this.atCampaign=a.utils.getQueryStringValue(s.querystringPrefix+"campaign",e)||"",this.atType=a.utils.getQueryStringValue(s.querystringPrefix+"type",e)||"",this.atIdentifier=a.utils.getQueryStringValue(s.querystringPrefix+"identifier",e)||"",this.atFormat=a.utils.getQueryStringValue(s.querystringPrefix+"format",e)||"",this.atCreation=a.utils.getQueryStringValue(s.querystringPrefix+"creation",e)||"",this.atVariant=a.utils.getQueryStringValue(s.querystringPrefix+"variant",e)||"",a.setContext("campaigns_events",{source:t,medium:this.atMedium,campaign:this.atCampaign,type:this.atType,identifier:this.atIdentifier,format:this.atFormat,creation:this.atCreation,variant:this.atVariant})}},this.Display=function(){this.atMedium="display",this.atDetailPlacement=this.atGeneralPlacement=this.atChannel=this.atFormat=this.atVariant=this.atCreation=this.atCampaign="",this.format=function(){var t=e(this.atCampaign),a=e(this.atCreation),i=e(this.atVariant),r=e(this.atFormat),o=e(this.atChannel),s=e(this.atGeneralPlacement),l=e(this.atDetailPlacement);return n("ad-"+t+"-"+a+"-"+i+"-"+r+"-"+o+"-"+s+"-"+l)},this.setProperties=function(e){var t=a.utils.getQueryStringValue(s.querystringPrefix+"source",e)||"";this.atCampaign=a.utils.getQueryStringValue(s.querystringPrefix+"campaign",e)||"",this.atCreation=a.utils.getQueryStringValue(s.querystringPrefix+"creation",e)||"",this.atVariant=a.utils.getQueryStringValue(s.querystringPrefix+"variant",e)||"",this.atFormat=a.utils.getQueryStringValue(s.querystringPrefix+"format",e)||"",this.atChannel=a.utils.getQueryStringValue(s.querystringPrefix+"channel",e)||"",this.atGeneralPlacement=a.utils.getQueryStringValue(s.querystringPrefix+"general_placement",e)||"",this.atDetailPlacement=a.utils.getQueryStringValue(s.querystringPrefix+"detail_placement",e)||"",a.setContext("campaigns_events",{source:t,medium:this.atMedium,campaign:this.atCampaign,creation:this.atCreation,variant:this.atVariant,format:this.atFormat,channel:this.atChannel,general_placement:this.atGeneralPlacement,detail_placement:this.atDetailPlacement})}},this.Custom=function(){this.atCustom4=this.atCustom3=this.atCustom2=this.atCustom1=this.atCampaign=this.atMedium="",this.format=function(){var t="";/\d+$/.test(this.atMedium)&&(t=/\d+$/.exec(this.atMedium)[0]);t="cs"+t;var a=e(this.atCampaign),i=e(this.atCustom1),r=e(this.atCustom2),o=e(this.atCustom3),s=e(this.atCustom4);return n(t+"-"+a+"-"+i+"-"+r+"-"+o+"-"+s)},this.setProperties=function(e){var t=a.utils.getQueryStringValue(s.querystringPrefix+"source",e)||"";this.atMedium=a.utils.getQueryStringValue(s.querystringPrefix+"medium",e)||"",this.atCampaign=a.utils.getQueryStringValue(s.querystringPrefix+"campaign",e)||"",this.atCustom1=a.utils.getQueryStringValue(s.querystringPrefix+"custom1",e)||"",this.atCustom2=a.utils.getQueryStringValue(s.querystringPrefix+"custom2",e)||"",this.atCustom3=a.utils.getQueryStringValue(s.querystringPrefix+"custom3",e)||"",this.atCustom4=a.utils.getQueryStringValue(s.querystringPrefix+"custom4",e)||"",a.setContext("campaigns_events",{source:t,medium:this.atMedium,campaign:this.atCampaign,custom1:this.atCustom1,custom2:this.atCustom2,custom3:this.atCustom3,custom4:this.atCustom4})}},this.CustomNdf=function(){this.format=function(){},this.setProperties=function(e){a.setProps(i(s.querystringPrefix,e,"src_"),!0)}},this.medium={sl:this.SponsoredLinks,email:this.Email,affiliate:this.Affiliate,display:this.Display}},A=function(e,t){var n=a.getContext("campaigns")||{};n[e]=t,a.setContext("campaigns",n)},P=function(){var e=a.utils.getLocation();!function(){if((t=a.utils.getQueryStringValue(s.querystringPrefix+"medium",e))&&!b){var t,n=new k;(t="function"==typeof n.medium[t]?new n.medium[t]:0===t.indexOf("custom")?new n.Custom:new n.CustomNdf).setProperties(e),f=t.format()}else f=a.utils.getQueryStringValue("xtor",e);m=a.utils.getQueryStringValue("xtdt",e),v=a.utils.getQueryStringValue("xts",e)}(),s.enableUTMTracking&&function(){var t,n=i("utm_",e,""),r=!1;for(t in n)n.hasOwnProperty(t)&&(A("utm_"+t,n[t]),r=!0);r&&a.setContext("campaigns_utm_events",n)}()},x=function(e,t){var n=a.storage[o](e);return null!==n?"object"==typeof n&&!(n instanceof Array):(a.storage[r](e,{},t),!0)};a.plugins.waitForDependencies(["Storage","Utils"],(function(){r="set"+(s.domainAttribution?"":"Private"),o="get"+(s.domainAttribution?"":"Private"),l=a.storage[o](["atredir","gopc"]),c=a.storage[o](["atredir","gopc_err"]),d=a.storage[o](["atredir","camp"]),a.storage.del(["atredir","gopc"]),a.storage.del(["atredir","gopc_err"]),a.storage.del(["atredir","camp"]),u=a.storage[o](["atsession","histo_camp"]),p=a.storage[o](["atreman","camp"]),g=a.storage[o](["atreman","date"]),h=a.getContext("forcedCampaign");e:{var e=b=a.getContext("forcedCampaignV2");if(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+="&"+s.querystringPrefix+t+"="+e[t]);if(e=a.utils.getQueryStringValue(s.querystringPrefix+"medium",n)){(e="function"==typeof(t=new k).medium[e]?new t.medium[e]:0===e.indexOf("custom")?new t.Custom:new t.CustomNdf).setProperties(n),y=e.format();break e}}y=void 0}var i;P(),_=!!a.getConfig("redirect"),T=!1,(w=!!(f&&m&&v))&&(n=(new Date).getTime()/6e4,T=!_&&v!==a.getConfig("site")||0>n-m||n-m>=a.getConfig("visitLifetime")),n=y||h||d||f,_&&n&&x("atredir",{path:"/",end:a.getConfig("redirectionLifetime")})&&(a.storage[r](["atredir","camp"],n),e=n=!1,h||y||(d?(n=l,e=c):(n=w,e=T)),a.storage[r](["atredir","gopc"],n),a.storage[r](["atredir","gopc_err"],e)),!_&&p&&(A("xtor",p),n=(new Date).getTime()/36e5,n=Math.floor(n-g),A("roinbh",0<=n?n:0)),_||(n=null,n=d?l?y||h||n:y||h||d:w?y||h:y||h||f||n,u&&u instanceof Array&&-1<u.indexOf(n)&&(n=null),n&&A("xto",n)),_||h||y||(d?c&&(i=d):T&&(i=f),i&&A("pgt",i)),_||!(i=d?y||h||d:y||h||f||null)||!h&&!y&&!d&&w&&T||!h&&!y&&d&&l&&c||((!u||u instanceof Array&&0>u.indexOf(i))&&x("atsession",{path:"/",session:60*a.getConfig("visitLifetime")})&&a.storage[r](["atsession","histo_camp"],u&&u.push(i)?u:[i]),p&&!s.lastPersistence||!x("atreman",{path:"/",session:86400*s.lifetime})||(a.storage[r](["atreman","camp"],i),a.storage[r](["atreman","date"],(new Date).getTime()/36e5))),a.emit("Campaigns:process:done",{lvl:"INFO"})}))},ATInternet.Tracker.addPlugin("Campaigns")}).call(window)};var hn={name:mn,load:vn};const bn="ClientSideUserId",yn=()=>{(function(){var e={clientSideMode:"required",userIdCookieDuration:397,userIdExpirationMode:"fixed",optOut:"OPT-OUT",userIdStorageName:"atuserid",userIdHitName:"idclient",itpCompliant:!0,baseDomain:"francemm.com"};ATInternet.Tracker.Plugins.ClientSideUserId=function(t){var n={},a=!1,i=null,r=-1;t.configPlugin("ClientSideUserId",e||{},(function(e){n=e}));var o=function(){var e=n.baseDomain;e||(a=t.getConfig("cookieDomain"))&&("."===(e=a).charAt(0)&&(e=e.substring(1,e.length)));var a=t.builder.getCollectDomain(),i=t.utils.getHostName();return!!(e&&a&&i&&-1!==a.indexOf(e)&&-1!==i.indexOf(e))},s=function(){i={contextUserId:void 0,storageUserId:null,finalUserId:null,isFromTrackerContext:!1,forceStorage:!1,optout:{isOptedout:!1,fromStorage:!1}}},l=function(){if("relative"===n.userIdExpirationMode||"fixed"===n.userIdExpirationMode&&null===i.storageUserId||i.isFromTrackerContext){var e=new Date;e.setTime(e.getTime()+864e5*n.userIdCookieDuration),t.storage.set(n.userIdStorageName,i.finalUserId,{end:e,path:"/"},i.forceStorage),ATInternet.Utils.consent&&!i.isFromTrackerContext&&i.finalUserId!==t.storage.get(n.userIdStorageName,!0)&&t.setParam(n.userIdHitName,i.finalUserId+"-NO",{multihit:!0,permanent:!0,hitType:["all"]})}},c=function(){t.setParam(n.userIdHitName,i.finalUserId,{multihit:!0,permanent:!0,hitType:["all"]}),l()},d=function(){s();var e=!1;if(null===ATInternet.Utils.optedOut?t.storage.get(n.userIdStorageName,!0)===n.optOut?e=ATInternet.Utils.optedOut=!0:ATInternet.Utils.optedOut=!1:!1===ATInternet.Utils.optedOut&&(t.getParam(n.userIdHitName)===n.optOut&&t.delParam(n.userIdHitName),t.storage.get(n.userIdStorageName,!0)===n.optOut&&t.storage.del(n.userIdStorageName)),i.optout.isOptedout=ATInternet.Utils.optedOut,i.optout.fromStorage=e,i.contextUserId=t.getContext("userIdentifier"),i.storageUserId=t.storage.get("atuserid",!0),e=!1,"required"===n.clientSideMode){var r="";window.navigator&&(r=window.navigator.userAgent),(/Safari/.test(r)&&!/Chrome/.test(r)||/iPhone|iPod|iPad/.test(r))&&(e=!0)}else"always"===n.clientSideMode&&(e=!0);if(a=e,e=!1,!t.getConfig("forceHttp")&&n.itpCompliant&&void 0===i.contextUserId&&!i.optout.isOptedout)switch(n.clientSideMode){case"never":e=o();break;case"always":case"required":a&&null!==i.storageUserId||(e=o())}e||!a&&!i.optout.isOptedout&&void 0===i.contextUserId?t.setConfig("userIdOrigin","server"):(t.setConfig("userIdOrigin","client"),i.isFromTrackerContext=!1,i.forceStorage=!1,i.optout.isOptedout?(i.finalUserId=n.optOut,i.isFromTrackerContext=!i.optout.fromStorage,i.forceStorage=!0):t.getConfig("disableCookie")||t.getConfig("disableStorage")?(i.finalUserId=t.getParam(n.userIdHitName),i.isFromTrackerContext=!0):void 0!==i.contextUserId?(i.finalUserId=i.contextUserId,i.isFromTrackerContext=!0):i.finalUserId=null!==i.storageUserId?i.storageUserId:ATInternet.Utils.uuid().v4(),c())},u=function(e){e&&(e=e.detail)&&"clientsideuserid"===e.name&&e.id===r&&d()};t.plugins.waitForDependencies(["Storage","Utils"],(function(){var e=ATInternet.Utils.uuid();r=parseInt(e.num(8)),ATInternet.Utils.removeOptOutEvent(u),ATInternet.Utils.addOptOutEvent(r,u),d()})),t.clientSideUserId={},t.clientSideUserId.set=function(e){i.optout.isOptedout||(i.finalUserId=e,i.isFromTrackerContext=!0,i.forceStorage=!1,c())},t.clientSideUserId.store=function(){i.finalUserId=t.getParam(n.userIdHitName)||i.finalUserId,null!==i.finalUserId&&i.finalUserId!==ATInternet.Utils.privacy.CONSENTNO&&i.finalUserId!==i.storageUserId&&(i.isFromTrackerContext=!0,i.forceStorage=!0,l())},t.clientSideUserId.get=function(){return i.finalUserId=t.getParam(n.userIdHitName)||i.finalUserId,i.finalUserId},t.clientSideUserId.clear=function(){s(),t.delParam(n.userIdHitName),t.storage.del(n.userIdStorageName)}},ATInternet.Tracker.addPlugin("ClientSideUserId")}).call(window)};var _n={name:bn,load:yn};const wn="ContextVariables",Tn=()=>{(function(){var e={domainAttribution:!1},t=30;ATInternet.Tracker.Plugins.ContextVariables=function(n){var a,i="",r=null,o="",s="",l={};n.configPlugin("ContextVariables",e||{},(function(e){l=e})),n.setConfig("redirectionLifetime",t,!0);var c=function(e,t){var a=null;return n.plugins.exec("Storage",e,t,(function(e){a=e})),a},d=function(){n.setParam("vtag",n.version,{permanent:!0,hitType:["all"]})},u=function(){n.setParam("ptag","js",{permanent:!0,hitType:["all"]})},p=function(){var e="";try{e+=window.screen.width+"x"+window.screen.height+"x"+window.screen.pixelDepth+"x"+window.screen.colorDepth}catch(e){}n.setParam("r",e,{permanent:!0,hitType:["all"]})},g=function(){var e="";window.innerWidth?e+=window.innerWidth+"x"+window.innerHeight:document.body&&document.body.offsetWidth&&(e+=document.body.offsetWidth+"x"+document.body.offsetHeight),n.setParam("re",e,{permanent:!0,hitType:["all"]})},f=function(){window.navigator&&n.setParam("lng",window.navigator.language||window.navigator.userLanguage,{permanent:!0,hitType:["all"]})},m=function(){var e=ATInternet.Utils.uuid().num(13);n.setParam("idp",e,{permanent:!0,hitType:["page","clickzone"]})},v=function(){window.navigator&&n.setParam("jv",window.navigator.javaEnabled()?"1":"0",{hitType:["page"]})},h=function(){n.setParam("hl",(function(){var e=new Date;return e.getHours()+"x"+e.getMinutes()+"x"+e.getSeconds()}),{permanent:!0,hitType:["all"]})},b=function(){var e=n.utils.getDocumentLevel();n.setParam("ref",function(e){return(e=a||("acc_dir"===i?"":null!==i?i:"acc_dir"===r?"":r||(e?e.referrer:"")))&&(e=e.replace(/[<>]/g,"").substring(0,1600).replace(/&/g,"$")),e}(e),{permanent:!0,last:!0,hitType:["page","ecommerce","avinsights","events"]})},y=function(){o="set"+(l.domainAttribution?"":"Private"),s="get"+(l.domainAttribution?"":"Private");var e=n.utils.getLocation();if(void 0===(i=n.utils.getQueryStringValue("xtref",e))&&(i=""),a=n.getContext("forcedReferer"),n.getConfig("redirect")){var t;e=n.utils.getDocumentLevel();if(t=e=a||(null!==i?i:e?e.referrer:"acc_dir")){t={path:"/",end:n.getConfig("redirectionLifetime")};var y=c(s,["atredir"]);null!==y?t="object"==typeof y&&!(y instanceof Array):(c(o,["atredir",{},t]),t=!0)}t&&c(o,[["atredir","ref"],e])}else r=c(s,[["atredir","ref"]]),c("del",[["atredir","ref"]]),d(),u(),p(),g(),h(),f(),m(),v(),b();n.emit("ContextVariables:Ready",{lvl:"INFO"})};n.contextVariables={},n.contextVariables.params={},n.contextVariables.params.vtag=d,n.contextVariables.params.ptag=u,n.contextVariables.params.r=p,n.contextVariables.params.re=g,n.contextVariables.params.lng=f,n.contextVariables.params.idp=m,n.contextVariables.params.jv=v,n.contextVariables.params.hl=h,n.contextVariables.params.ref=b,n.contextVariables.setAll=y,n.plugins.waitForDependencies(["Storage","Utils"],y)},ATInternet.Tracker.addPlugin("ContextVariables")}).call(window)};var kn={name:wn,load:Tn};const An="Page",Pn=()=>{(function(){ATInternet.Tracker.Plugins.Page=function(e){var t=["pageId","chapterLabel","update"],n=["pid","pchap","pidt"],a=["page","site"],i=["f","x"],r=function(t){return e.utils.manageChapters(t,"chapter",3)+(t.name?t.name:"")},o=function(e,t,n){return t?e=t:e||void 0===n||(e=n),e},s=function(e,t,n){t.hasOwnProperty(n)&&(e[n]=o(e[n],t[n],void 0))},l=function(t,n,r){if(n)for(var o=0;o<a.length;o++)if(n.hasOwnProperty(a[o])&&n[a[o]])for(var s in n[a[o]])n[a[o]].hasOwnProperty(s)&&(r?t[i[o]+s]=n[a[o]][s]:e.setParam(i[o]+s,n[a[o]][s]))},c=function(a,i,r){if(i){var o=e.utils.manageChapters(i,"chapter",3);for(o&&(i.chapterLabel=o.replace(/::$/gi,"")),o=0;o<n.length;o++)i.hasOwnProperty(t[o])&&(r?a[n[o]]=i[t[o]]:e.setParam(n[o],i[t[o]]))}},d=function(t,n,a){if(n&&n.keywords instanceof Array){var i=n.keywords.length;if(0<i){for(var r="",o=0;o<i;o++)r+="["+n.keywords[o]+"]"+(o<i-1?"|":"");a?t.tag=r:e.setParam("tag",r)}}},u=function(t,n,a){if(n){var i,r=function(e){return e||"0"};i=r(n.category1)+"-",i+=r(n.category2)+"-",i+=r(n.category3),a?t.ptype=i:e.setParam("ptype",i)}},p=function(t,n,a){if(n)for(var i in n)n.hasOwnProperty(i)&&void 0!==n[i]&&(a?t[i]=n[i]:e.setParam(i,n[i]))};e.customVars={},e.customVars.set=function(t){var n=e.getContext("page")||{},a=n.customVars;if(a){if(t)for(var i in t)t.hasOwnProperty(i)&&(a[i]=ATInternet.Utils.completeFstLevelObj(a[i],t[i],!0))}else a=t;n.customVars=a,e.setContext("page",n)},e.dynamicLabel={},e.dynamicLabel.set=function(t){var n=e.getContext("page")||{};n.dynamicLabel=ATInternet.Utils.completeFstLevelObj(n.dynamicLabel,t,!0),e.setContext("page",n)},e.tags={},e.tags.set=function(t){var n=e.getContext("page")||{};n.tags=ATInternet.Utils.completeFstLevelObj(n.tags,t,!0),e.setContext("page",n)},e.customTreeStructure={},e.customTreeStructure.set=function(t){var n=e.getContext("page")||{};n.customTreeStructure=ATInternet.Utils.completeFstLevelObj(n.customTreeStructure,t,!0),e.setContext("page",n)},e.page={},e.page.reset=function(){e.delContext("page")},e.page.set=function(t){t=t||{},e.dispatchSubscribe("page");var n=e.getContext("page")||{};n.name=o(n.name,t.name,""),void 0!==t.level2&&(n.level2=t.level2),s(n,t,"chapter1"),s(n,t,"chapter2"),s(n,t,"chapter3"),n.customObject=ATInternet.Utils.completeFstLevelObj(n.customObject,t.customObject,!0),e.setContext("page",n)},e.page.send=function(t){var n=!0,a="",i={p:r(t=t||{})};if(void 0!==t.level2&&(i.s2=t.level2),f=t.customObject){var g=["page"],f=e.processTagObject("stc",g,f);i.stc={_value:ATInternet.Utils.jsonSerialize(f),_options:{hitType:g,encode:!0,separator:",",truncate:!0}}}return(f=e.getContext("page")||{}).vrn&&(i.vrn=f.vrn,e.delContext("page","vrn")),void 0!==(g=e.getContext("InternalSearch")||{}).keyword&&(i.mc=ATInternet.Utils.cloneSimpleObject(g.keyword),void 0!==g.resultPageNumber&&(i.np=ATInternet.Utils.cloneSimpleObject(g.resultPageNumber)),e.delContext("InternalSearch")),ATInternet.Utils.isPreview()&&e.getConfig("preview")&&(i.pvw=1),l(i,t.customVars,!0),c(i,t.dynamicLabel,!0),d(i,t.tags,!0),u(i,t.customTreeStructure,!0),g=e.getContext("campaigns")||{},p(i,g,!0),e.delContext("campaigns"),!ATInternet.Utils.isTabOpeningAction(t.event)&&t.elem&&(n=(g=e.techClicks.manageClick(t.elem)).preservePropagation,a=g.elementType),e.manageSend((function(){e.sendHit(i,null,t.callback,null,a)})),f.name=o(f.name,t.name,""),void 0!==t.level2&&(f.level2=t.level2),s(f,t,"chapter1"),s(f,t,"chapter2"),s(f,t,"chapter3"),e.setContext("page",f),n},e.page.onDispatch=function(t,n){var a=e.getContext("page")||{},i=e.getContext("InternalSearch")||{};e.setParam("p",r(a)),void 0!==a.level2&&e.setParam("s2",a.level2),a.vrn&&(e.setParam("vrn",a.vrn),e.delContext("page","vrn")),void 0!==i.keyword&&(e.setParam("mc",ATInternet.Utils.cloneSimpleObject(i.keyword)),void 0!==i.resultPageNumber&&e.setParam("np",ATInternet.Utils.cloneSimpleObject(i.resultPageNumber)),e.delContext("InternalSearch")),ATInternet.Utils.isPreview()&&e.getConfig("preview")&&e.setParam("pvw",1),l(null,a.customVars,!1),c(null,a.dynamicLabel,!1),d(null,a.tags,!1),u(null,a.customTreeStructure,!1),i=e.getContext("campaigns")||{},p(null,i,!1),e.delContext("campaigns");var o=["page"];(a=a.customObject)?e.processContextObjectAndSendHit("stc",{hitType:o,encode:!0,separator:",",truncate:!0,elementType:n},a,t):e.manageSend((function(){e.sendHit(null,[["hitType",o]],t,null,n)}))}},ATInternet.Tracker.addPlugin("Page")}).call(window)};var xn={name:An,load:Pn};const Cn="AvInsights",In=()=>{(function(){var e={minHeartbeat:5,minBufferingHeartbeat:1};ATInternet.Tracker.Plugins.AvInsights=function(t){var n=null,a=function(){this.debugError={trigger:"AvInsights:Media:setContentValues:Error",level:"ERROR",messageObject:"Not an object"},this.processHeartbeatValue=function(e,t){var n=parseInt(e,10);return n?Math.max(n,t):0},this.value2Number=function(e){var t=0;return isNaN(Number(e))||(t=Number(e)),Math.max(t,0)}};t.avInsights={},t.avInsights.Media=function(e,i,r){var o=this,s=new a,l=null,c=null,d=null,u=function(e){e?l.delayBufferingConfiguration=ATInternet.Utils.cloneSimpleObject(l.delayBufferingConfigurationBackup):l.delayConfiguration=ATInternet.Utils.cloneSimpleObject(l.delayConfigurationBackup)},p=function(e,t){if(t){for(var a in e?(l.delayBufferingConfiguration=[],l.delayBufferingConfigurationBackup=[]):(l.delayConfiguration=[],l.delayConfigurationBackup=[]),t)t.hasOwnProperty(a)&&(e?l.delayBufferingConfiguration.push({delay:s.processHeartbeatValue(a,0),number:0,timeout:-1,refresh:s.processHeartbeatValue(t[a],n.minBufferingHeartbeat)}):l.delayConfiguration.push({delay:s.processHeartbeatValue(a,0),number:0,timeout:-1,refresh:s.processHeartbeatValue(t[a],n.minHeartbeat)}));!function(e){(e?l.delayBufferingConfiguration:l.delayConfiguration).sort((function(e,t){return e.delay<t.delay?-1:e.delay>t.delay?1:0}))}(e),e?l.delayBufferingConfigurationBackup=ATInternet.Utils.cloneSimpleObject(l.delayBufferingConfiguration):l.delayConfigurationBackup=ATInternet.Utils.cloneSimpleObject(l.delayConfiguration)}},g=function(e,n,a,i){var r=ATInternet.Utils.cloneSimpleObject(d);for(var o in r.av_session_id={},r.av_session_id[ATInternet.Utils.ATVALUE]=l.sessionId,r.av_session_id[ATInternet.Utils.ATPREFIX]="",n&&(r.av_previous_position={},r.av_previous_position[ATInternet.Utils.ATVALUE]=l.previousCursorPosition,r.av_previous_position[ATInternet.Utils.ATPREFIX]="",r.av_position={},r.av_position[ATInternet.Utils.ATVALUE]=l.currentCursorPosition,r.av_position[ATInternet.Utils.ATPREFIX]="",r.av_duration={},r.av_duration[ATInternet.Utils.ATVALUE]=l.eventDuration,r.av_duration[ATInternet.Utils.ATPREFIX]="",r.av_previous_event={},r.av_previous_event[ATInternet.Utils.ATVALUE]=l.previousEvent,r.av_previous_event[ATInternet.Utils.ATPREFIX]="",l.previousEvent=e),ATInternet.Utils.isObject(i)&&ATInternet.Utils.object2Flatten(i,null,r,null,!0),n={},r)r.hasOwnProperty(o)&&ATInternet.Utils.flatten2Object(n,o,r[o]);r=ATInternet.Utils.getFormattedObject(n),t.event.send(e,r,{origin:"avinsights",callback:a})},f=function(){var e=0,t=0;this.getEventDuration=function(){var n=(new Date).getTime()-e-t;return t+=n,n},this.initBaseTime=function(){0===e&&(e=(new Date).getTime())},this.resetProperties=function(){t=e=0},this.initHeartbeatTimer=function(e,t){var n=t?l.delayBufferingConfiguration:l.delayConfiguration;0<n.length&&(function(e){var t;void 0!==(e=e?l.delayBufferingConfiguration:l.delayConfiguration)[1]&&(t=e[1].delay),void 0===t?e[0].number=1:0<e[0].number?e[0].number--:"number"==typeof t&&(e[0].number=Math.floor(60*(t-e[0].delay)/e[0].refresh)-1)}(t),window.clearTimeout(n[0].timeout),n[0].timeout=window.setTimeout((function(){0===n[0].number&&n.splice(0,1),e&&e()}),1e3*n[0].refresh))},this.stopHeartbeatTimer=function(e){e=e?l.delayBufferingConfiguration:l.delayConfiguration;for(var t=0;t<e.length;t++)window.clearTimeout(e[t].timeout),e[t].timeout=-1}};o.set=function(e,t){var n=ATInternet.Utils.splitProtocolAndKey(e,!0);d[n.key]=d[n.key]||{},d[n.key][ATInternet.Utils.ATVALUE]=t,d[n.key][ATInternet.Utils.ATPREFIX]=n.prefix},o.get=function(e){var t=null;return e=ATInternet.Utils.splitProtocolAndKey(e,!0),void 0!==d[e.key]&&(t=d[e.key][ATInternet.Utils.ATVALUE]),t},o.del=function(e){e=ATInternet.Utils.splitProtocolAndKey(e,!0),void 0!==d[e.key]&&delete d[e.key]},o.setProps=function(e){ATInternet.Utils.isObject(e)&&ATInternet.Utils.object2Flatten(e,null,d,null,!0)},o.getProps=function(){var e,t=null;for(e in d)d.hasOwnProperty(e)&&((t=t||{})[e]=d[e][ATInternet.Utils.ATVALUE]);return t},o.delProps=function(){d={}};var m=function(e,t,n,a,i){c.initBaseTime(),l.eventDuration=c.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=e?l.previousCursorPosition+Math.floor(l.playbackSpeed*l.eventDuration):n,t&&c.initHeartbeatTimer((function(){m(!0,!0)}),!1),g("av.heartbeat",!0,a,i)},v=function(e,t,n){c.initBaseTime(),l.eventDuration=c.getEventDuration(),e&&c.initHeartbeatTimer((function(){v(!0)}),!0),g("av.buffer.heartbeat",!0,t,n)},h=function(e,t,n){c.initBaseTime(),l.eventDuration=c.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,e&&c.initHeartbeatTimer((function(){h(!0)}),!0),g("av.rebuffer.heartbeat",!0,t,n)};o.setPlaybackSpeed=function(e){(e=s.value2Number(e)||l.playbackSpeed)!==l.playbackSpeed&&(c.stopHeartbeatTimer(!1),l.isPlaying&&(m(!0,!1),c.initHeartbeatTimer((function(){m(!0,!0)}),!1)),l.playbackSpeed=e)},o.getSessionID=function(){return l.sessionId},o.track=function(e,t,n,a){switch(t=t||{},e){case"av.heartbeat":o.heartbeat(t.av_position,n,a);break;case"av.buffer.heartbeat":o.bufferHeartbeat(n,a);break;case"av.rebuffer.heartbeat":o.rebufferHeartbeat(n,a);break;case"av.play":o.play(t.av_position,n,a);break;case"av.buffer.start":o.bufferStart(t.av_position,n,a);break;case"av.start":o.playbackStart(t.av_position,n,a);break;case"av.resume":o.playbackResumed(t.av_position,n,a);break;case"av.pause":o.playbackPaused(t.av_position,n,a);break;case"av.stop":o.playbackStopped(t.av_position,n,a);break;case"av.backward":o.seekBackward(t.av_previous_position,t.av_position,n,a);break;case"av.forward":o.seekForward(t.av_previous_position,t.av_position,n,a);break;case"av.seek.start":o.seekStart(t.av_previous_position,n,a);break;case"av.error":o.error(t.av_player_error,n,a);break;default:g(e,!1,n,a)}},o.heartbeat=function(e,t,n){var a,i=!0;null!=e&&0<=e&&(i=!1,a=s.value2Number(e)),m(i,!1,a,t,n)},o.bufferHeartbeat=function(e,t){v(!1,e,t)},o.rebufferHeartbeat=function(e,t){h(!1,e,t)},o.play=function(e,t,n){c.initBaseTime(),e=s.value2Number(e),l.eventDuration=0,l.previousCursorPosition=e,l.currentCursorPosition=e,l.isPlaying=!1,l.isPlaybackActivated=!1,c.stopHeartbeatTimer(!1),c.stopHeartbeatTimer(!0),g("av.play",!0,t,n)},o.bufferStart=function(e,t,n){c.initBaseTime(),e=s.value2Number(e),l.eventDuration=c.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=e,c.stopHeartbeatTimer(!1),c.stopHeartbeatTimer(!0),l.isPlaybackActivated?(c.initHeartbeatTimer((function(){h(!0)}),!0),g("av.rebuffer.start",!0,t,n)):(c.initHeartbeatTimer((function(){v(!0)}),!0),g("av.buffer.start",!0,t,n))},o.playbackStart=function(e,t,n){c.initBaseTime(),e=s.value2Number(e),l.eventDuration=c.getEventDuration(),l.previousCursorPosition=e,l.currentCursorPosition=e,l.isPlaying=!0,l.isPlaybackActivated=!0,c.stopHeartbeatTimer(!1),c.stopHeartbeatTimer(!0),c.initHeartbeatTimer((function(){m(!0,!0)}),!1),g("av.start",!0,t,n)},o.playbackResumed=function(e,t,n){c.initBaseTime(),e=s.value2Number(e),l.eventDuration=c.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=e,l.isPlaying=!0,l.isPlaybackActivated=!0,c.stopHeartbeatTimer(!1),c.stopHeartbeatTimer(!0),c.initHeartbeatTimer((function(){m(!0,!0)}),!1),g("av.resume",!0,t,n)},o.playbackPaused=function(e,t,n){c.initBaseTime(),e=s.value2Number(e),l.eventDuration=c.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=e,l.isPlaying=!1,l.isPlaybackActivated=!0,c.stopHeartbeatTimer(!1),c.stopHeartbeatTimer(!0),g("av.pause",!0,t,n)},o.playbackStopped=function(e,t,n){c.initBaseTime(),e=s.value2Number(e),l.eventDuration=c.getEventDuration(),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=e,l.isPlaying=!1,l.isPlaybackActivated=!1,c.stopHeartbeatTimer(!1),c.stopHeartbeatTimer(!0),c.resetProperties(),u(!1),u(!0),g("av.stop",!0,t,n),l.previousCursorPosition=0,l.currentCursorPosition=0,l.eventDuration=0,l.previousEvent="",l.sessionId=ATInternet.Utils.uuid().v4()},o.seek=function(e,t,n,a){(e=s.value2Number(e))>(t=s.value2Number(t))?o.seekBackward(e,t,n,a):o.seekForward(e,t,n,a)},o.seekBackward=function(e,t,n,a){o.seekStart(e,null,a),l.eventDuration=0,l.previousCursorPosition=s.value2Number(e),l.currentCursorPosition=s.value2Number(t),g("av.backward",!0,n,a)},o.seekForward=function(e,t,n,a){o.seekStart(e,null,a),l.eventDuration=0,l.previousCursorPosition=s.value2Number(e),l.currentCursorPosition=s.value2Number(t),g("av.forward",!0,n,a)},o.seekStart=function(e,t,n){e=s.value2Number(e),l.previousCursorPosition=l.currentCursorPosition,l.currentCursorPosition=e,l.eventDuration=l.isPlaying?c.getEventDuration():0,g("av.seek.start",!0,t,n)},o.adClick=function(e,t){g("av.ad.click",!1,e,t)},o.adSkip=function(e,t){g("av.ad.skip",!1,e,t)},o.error=function(e,t,n){var a={};ATInternet.Utils.isObject(n)&&(a=n),a.av_player_error=String(e),g("av.error",!1,t,a)},o.display=function(e,t){g("av.display",!1,e,t)},o.close=function(e,t){g("av.close",!1,e,t)},o.volume=function(e,t){g("av.volume",!1,e,t)},o.subtitleOn=function(e,t){g("av.subtitle.on",!1,e,t)},o.subtitleOff=function(e,t){g("av.subtitle.off",!1,e,t)},o.fullscreenOn=function(e,t){g("av.fullscreen.on",!1,e,t)},o.fullscreenOff=function(e,t){g("av.fullscreen.off",!1,e,t)},o.quality=function(e,t){g("av.quality",!1,e,t)},o.speed=function(e,t){g("av.speed",!1,e,t)},o.share=function(e,t){g("av.share",!1,e,t)},l={previousCursorPosition:0,currentCursorPosition:0,eventDuration:0,playbackSpeed:1,previousEvent:"",isPlaybackActivated:!1,isPlaying:!1,sessionId:"",delayConfiguration:[],delayConfigurationBackup:[],delayBufferingConfiguration:[],delayBufferingConfigurationBackup:[]},function(){var t=i?{0:1,1:10,5:20,15:30,30:60}:null;p(!1,e?{0:5,1:10,5:20,15:30,30:60}:null),p(!0,t)}(),l.sessionId=r||ATInternet.Utils.uuid().v4(),c=new f,ATInternet.Utils.addEvtListener(window,"unload",(function(){c.stopHeartbeatTimer(!1),c.stopHeartbeatTimer(!0)})),d={}},t.plugins.waitForDependencies(["EventRoot"],(function(){t.configPlugin("AvInsights",e||{},(function(e){n=e}))}))},ATInternet.Tracker.addPlugin("AvInsights")}).call(window)};var Sn={name:Cn,load:In};const On="Privacy",En=()=>{(function(){var e={authorityStorageName:"atauthority",authorities:{default:{name:"default",optin:{name:"optin",storageDuration:397,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!0},visitorMode:{param:"vm",value:"optin"}}},include:{storage:"*",buffer:"*"}},optout:{name:"optout",storageDuration:397,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"optout"}}},include:{storage:["atuserid","atauthority"],buffer:["s","idclient","ts","vc","vm","click","type","olt","cn","mh"]}},"no-consent":{name:"no-consent",storageDuration:0,trackerSettings:{disableStorage:!0,disableCookie:!0},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"no-consent"},idclient:{param:"idclient",value:"Consent-NO"}}},include:{storage:[],buffer:["s","idclient","ts","vc","vm","click","type","olt","cn","mh"]}},random:{name:"random",storageDuration:0,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"before-consent"}}},include:{storage:[],buffer:["s","idclient","p","vtag","ptag","ts","vc","vm","ref","xto","click","type","olt","cn","mh"]}}},cnil:{name:"cnil",exempt:{name:"exempt",storageDuration:397,trackerSettings:{disableStorage:!1,disableCookie:!1},add:{buffer:{visitorConsent:{param:"vc",value:!1},visitorMode:{param:"vm",value:"exempt"}}},include:{storage:["atuserid","atauthority"],buffer:["s","idclient","p","vtag","ptag","ts","vc","vm","click","type","olt","cn","mh","ref","pclick","s2click"]}}}},parametersToInclude:[]};ATInternet.Tracker.Plugins.Privacy=function(t){var n=function(e){function n(){if(d&&u){var e=new Date;e.setTime(e.getTime()+864e5*u.storageDuration),t.storage.set(g.authorityStorageName,{authority_name:d.name,visitor_mode:u.name},{end:e,path:"/"})}}function a(e){u&&(0<u.storageDuration?e?n():null===(e=t.storage.get(g.authorityStorageName,!0))?n():"object"==typeof e&&(e.authority_name===d.name&&e.visitor_mode===u.name||n()):t.storage.del(g.authorityStorageName))}function i(){ATInternet.Utils.privacy.processStorageParams((function(e){t.storage.del(e)}),(function(e){return t.storage.get(e,!0)||t.storage.getPrivate(e,!0)}),(function(){return t.storage.getAll()}),c.getVisitorMode().name)}function r(){ATInternet.Utils.privacy.processBufferParams((function(e){t.delParam(e)}),(function(){return t.getParams([])}),(function(e,n,a){t.setParam(e,n,a)}),c.getVisitorMode().name)}function o(e,t,n){if(u&&u.include){u.include[t]instanceof Array?e instanceof Array?u.include[t]=u.include[t].concat(e):e&&u.include[t].push(e):u.include[t]!==ATInternet.Utils.privacy.ALL&&(e instanceof Array?u.include[t]=e:e&&(u.include[t]=[e])),e=p;var a=t+"Params",i=u.include[t];t=[];for(var r={},o=0;o<i.length;o++)if("object"==typeof i[o])for(var s in i[o])i[o].hasOwnProperty(s)&&(r[s]=(r[s]||[]).concat(i[o][s]));else t.push(i[o]);for(var l in r)r.hasOwnProperty(l)&&((s={})[l]=r[l],t.push(s));e[a]=t,ATInternet.Utils.privacy.setParameters(p),n&&n()}}function s(e,n,o,s){if(g.authorities&&g.authorities[e]&&g.authorities[e][n]){if(o&&t.clientSideUserId.clear(),s&&c.setVisitorOptin(),d=g.authorities[e],u=d[n],ATInternet.Utils.privacy.setMode(n),u)for(var f in u.trackerSettings)u.trackerSettings.hasOwnProperty(f)&&t.setConfig(f,u.trackerSettings[f]);if(u&&u.add)for(var m in u.add.buffer)u.add.buffer.hasOwnProperty(m)&&t.setParam(u.add.buffer[m].param,u.add.buffer[m].value,{multihit:!0,permanent:!0,hitType:["all"]});if(u&&u.include){for(var v in u.include)u.include.hasOwnProperty(v)&&(e=u.include[v]instanceof Array?u.include[v]:[u.include[v]],p[v+"Params"]=e);ATInternet.Utils.privacy.setParameters(p),a(!1)}0<g.parametersToInclude.length&&(c.extendIncludeStorage(g.parametersToInclude),c.extendIncludeBuffer(g.parametersToInclude)),i(),r(),l()}}function l(){for(var e=p.bufferParams,n=e.length,a=0;a<n;a++){var i=e[a];if(i===ATInternet.Utils.privacy.ALL){t.contextVariables.setAll();break}(i=t.contextVariables.params[i])&&i()}}var c=this,d=null,u=null,p={storageParams:[],bufferParams:[]},g=e;c.setVisitorOptout=function(){ATInternet.Utils.consentReceived(!0),s("default","optout",!1,!1),ATInternet.Utils.userOptedOut()},c.setVisitorOptin=function(){ATInternet.Utils.consentReceived(!0),t.clientSideUserId.store(),s("default","optin",!1,!1),ATInternet.Utils.userOptedIn()},c.setVisitorRandomID=function(){ATInternet.Utils.consentReceived(!1),s("default","random",!1,!1),ATInternet.Utils.userOptedIn()},c.setVisitorMode=function(e,t,n){var a=!0;"cnil"===e&&"exempt"===t?a=!1:"boolean"==typeof n&&(a=n),a&&d&&u&&(a=e!==d.name||t!==u.name),s(e,t,a,!0)},c.getAuthority=function(){return d},c.getVisitorMode=function(){return u},c.addAuthority=function(e){e&&"object"==typeof e&&(g.authorities=g.authorities||{},g.authorities[e.name]=e)},c.extendIncludeStorage=function(e){o(e,"storage",i)},c.extendIncludeBuffer=function(e){o(e,"buffer",r),l()},c.updateStorageDuration=function(e){u&&(u.storageDuration=e,a(!0))},function(){var e=t.storage.get([g.authorityStorageName,"authority_name"],!0),n=t.storage.get([g.authorityStorageName,"visitor_mode"],!0);e&&n&&("default"===e?"optin"===n?c.setVisitorOptin():"optout"===n?c.setVisitorOptout():"random"===n?c.setVisitorRandomID():c.setVisitorMode(e,n):c.setVisitorMode(e,n))}()},a=null;t.privacy={setVisitorOptout:function(){},setVisitorOptin:function(){},setVisitorRandomID:function(){},setVisitorMode:function(){},getAuthority:function(){},getVisitorMode:function(){},addAuthority:function(){},extendIncludeStorage:function(){},extendIncludeBuffer:function(){},updateStorageDuration:function(){}},t.plugins.waitForDependencies(["Storage","Utils","ClientSideUserId","ContextVariables"],(function(){var i=null;t.configPlugin("Privacy",e||{},(function(e){i=ATInternet.Utils.cloneSimpleObject(e)})),null!==i&&(a=new n(i),t.privacy.setVisitorOptout=a.setVisitorOptout,t.privacy.setVisitorOptin=a.setVisitorOptin,t.privacy.setVisitorRandomID=a.setVisitorRandomID,t.privacy.setVisitorMode=a.setVisitorMode,t.privacy.getAuthority=a.getAuthority,t.privacy.getVisitorMode=a.getVisitorMode,t.privacy.addAuthority=a.addAuthority,t.privacy.extendIncludeStorage=a.extendIncludeStorage,t.privacy.extendIncludeBuffer=a.extendIncludeBuffer,t.privacy.updateStorageDuration=a.updateStorageDuration)}))},ATInternet.Tracker.addPlugin("Privacy")}).call(window)};var $n={name:On,load:En};const Un="Offline",Rn=()=>{(function(){var e={storageCapacity:1,storageMode:"required",timeout:500};ATInternet.Tracker.Plugins.Offline=function(t){function n(e,r,d,u){if(window.navigator&&window.navigator.onLine){var p=s();if(0<p.length){var g=p.shift();o({hits:p}),i||(t.onTrigger("Tracker:Hit:Sent:Ok",(function(t,a){e&&a.details.hit===e||n(e,r,d,u)}),!1),t.onTrigger("Tracker:Hit:Sent:Error",(function(t,a){e&&a.details.hit===e||n(e,r,d,u)}),!1),i=!0),t.sendUrl(g,null,"GET",u)}else e&&(t.utils.getQueryStringValue("a",e)?setTimeout((function(){t.sendUrl(e,null,null,null)}),a.timeout):t.sendUrl(e,r,d,u))}else e&&(c(l(e)),r&&r())}var a={},i=!1;t.configPlugin("Offline",e||{},(function(e){a=e}));var r=function(){var e=localStorage.getItem("ATOffline"),t={hits:[],length:0};if(e){var n=ATInternet.Utils.jsonParse(e)||{hits:[]};t.hits=n.hits,t.length=e.length}return t},o=function(e){try{localStorage.setItem("ATOffline",ATInternet.Utils.jsonSerialize(e))}catch(e){}},s=function(){return r().hits},l=function(e){if(e){e=e.split(/&ref=\.*/i);var t="&cn=offline&olt="+String(Math.floor((new Date).getTime()/1e3));e=e[0]+t+(e[1]?"&ref="+e[1]:"")}return e},c=function(e){var t=r(),n=e.length,i=!0;if(4*((t.length||11)+n)>1048576*a.storageCapacity){i=!1;var s=t.hits.shift();if(void 0!==s){i=!0;for(var l=s.length;l<n;){if(void 0===(s=t.hits.shift())){i=!1;break}l+=s.length}}}i&&(t.hits.push(e),o({hits:t.hits}))},d=function(e){t.builder.sendUrl=function(t,a,i,r){e||window.navigator&&!window.navigator.onLine?(c(l(t)),a&&a()):n(t,a,i,r)}};t.offline={},t.offline.getLength=function(){return 4*r().length},t.offline.remove=function(){o({hits:[]})},t.offline.get=s,t.offline.send=function(){n(null,null,"GET")},t.plugins.waitForDependencies(["Utils"],(function(){var e,n=ATInternet.Utils.isLocalStorageAvailable();window.navigator&&(e=window.navigator.onLine),n&&void 0!==e&&("required"===a.storageMode?d(!1):"always"===a.storageMode&&d(!0)),t.emit("Offline:Ready",{lvl:"INFO",details:{isLocalStorageAvailable:n,storageMode:a.storageMode,isOnline:e}})}))},window.ATInternet.Tracker.addPlugin("Offline")}).call(window)};var Ln={name:Un,load:Rn};const Mn="Clicks",jn=()=>{(function(){var e={requestMethod:"POST"};ATInternet.Tracker.Plugins.Clicks=function(t){var n={};t.configPlugin("Clicks",e||{},(function(e){n=e}));var a=function(e){var t="";switch(e){case"exit":t="S";break;case"download":t="T";break;case"action":t="A";break;case"navigation":t="N"}return t},i=function(e){return t.utils.manageChapters(e,"chapter",3)+(e.name?e.name:"")},r=function(e,r){var o={p:i(e),click:a(e.type)||""};void 0!==e.level2&&(o.s2=e.level2);var s=["click"],l=t.getContext("page")||{};o.pclick=i(l),void 0!==l.level2&&(o.s2click=l.level2),(l=e.customObject)&&(l=t.processTagObject("stc",s,l),o.stc={_value:ATInternet.Utils.jsonSerialize(l),_options:{hitType:s,encode:!0,separator:",",truncate:!0}}),t.sendHit(o,[["hitType",s]],e.callback,n.requestMethod,r)};t.click={},t.clickListener={},t.click.send=function(e){var a=!0,i="";return!(e=e||{}).elem||"POST"===n.requestMethod&&ATInternet.Utils.isBeaconMethodAvailable()||ATInternet.Utils.isTabOpeningAction(e.event)||(a=(i=t.techClicks.manageClick(e.elem)).preservePropagation,i=i.elementType),r(e,i),a},t.clickListener.send=function(e){if((e=e||{}).elem){var a="click",i="";t.plugins.exec("TechClicks","isFormSubmit",[e.elem],(function(e){a=e?"submit":"click"})),ATInternet.Utils.addEvtListener(e.elem,a,(function(a){"POST"===n.requestMethod&&ATInternet.Utils.isBeaconMethodAvailable()||ATInternet.Utils.isTabOpeningAction(a)||(i=t.techClicks.manageClick(e.elem,a).elementType),r(e,i)}))}},t.click.set=function(e){e=e||{},t.dispatchSubscribe("click"),t.setContext("click",{name:i(e),level2:e.level2||"",customObject:e.customObject}),t.setParam("click",a(e.type)||"",{hitType:["click"]})},t.click.onDispatch=function(e,a){var r=["click"],o=t.getContext("click")||{},s=t.getContext("page")||{};t.setParam("pclick",i(s),{hitType:r}),t.setParam("s2click",s.level2||"",{hitType:r}),t.setParam("p",o.name,{hitType:r}),void 0!==o.level2&&t.setParam("s2",o.level2,{hitType:r}),(o=o.customObject)?t.processContextObjectAndSendHit("stc",{hitType:r,encode:!0,separator:",",truncate:!0,requestMethod:n.requestMethod,elementType:a},o,e):t.manageSend((function(){t.sendHit(null,[["hitType",r]],e,n.requestMethod,a)})),t.delContext("click")}},ATInternet.Tracker.addPlugin("Clicks")}).call(window)};var Dn={name:Mn,load:jn};const Vn=e=>{const t=a(document.location.href).fa||"0",n=a(document.location.href).da||"0";let i=It.getItem("broadcast_da");return"1"!==t&&(!!("post-article"===e&&$("week-in-review",H("tags").name_slug||[])||B("brand_content")&&$(e,["post-article","yt-related"]))||("0"!==n&&i!==n&&(It.setItem("broadcast_da",n,999999999,"/",((e,t)=>{const n=window.location.host.split(".").reverse();return"."+n[1]+"."+n[0]})()),i="1"),"1"===i))};var Fn={adBlacklisted:Vn,check:B};const Nn="FovClicks";let Hn,Bn,qn;window.didomiEventListeners=window.didomiEventListeners||[];const zn=(e,t,n={})=>{G(`tms.tags.stats.atInternet.fovClicks.${e}`,`Analytics - AT Internet - FOV Clicks - ${t}`,n)},Qn=(e,...t)=>{const n=e,a=t,i={level2:Bn(),type:n.indexOf("exit")>-1?"exit":"action",name:n};a.forEach(((e,t)=>{i[`chapter${t+1}`]=e.replace("%ctype%",H("content_type"))})),i.callback=()=>zn("triggerCmpEvent","Hit - CMP Event",i),Hn().click.send(i)},Kn=e=>{const t=e,n=t.split(".");window.didomiEventListeners.push({event:t,listener(){Qn(n[1],"cmp",n[0])}}),zn("setupCmpEvent","CMP Event setup",{cmpEventName:e})},Yn=(e,t,n,a,...i)=>{if("all"===e[0]||$(H("content_type"),e)){let e="body",r=t;Array.isArray(t)&&([e,r]=t);ne(e).forEach(((e,t)=>{const o=ne(`${r}:not([data-tms-tr])`,e);if(o.length>0){const r=a,s=i,l={level2:Bn(),type:n,name:r};s.forEach(((n,a)=>{l[`chapter${a+1}`]=n.replace("%wrapper%",t+1).replace("%rep1%","homepage"===H("content_type")?"homepage":qn(H("cat1"))).replace("%org-type%",qn(e.getAttribute("data-org-type")||"")).replace("%org-name%",qn(e.getAttribute("data-org-name")||""))})),o.forEach(((e,t)=>{const n={...l};n.name=r.replace("%nb%",t+1).replace("%liveType%",1===t?"-afrique":"").replace("%title%",qn(e.getAttribute("title")||"")).replace("%label%",qn(e.getAttribute("aria-label")||"")).replace("%text%",qn(e.innerText||"")).replace("%page%",e.classList.contains("m-pagination__item__link--svg")?""+(0===t?"previous":"next"):`page-${e.innerText}`),n.elem=e,e.hasAttribute("download")&&(n.type="download");const a=()=>{const t={...n};if(Object.keys(t).filter((e=>e.includes("chapter"))).forEach((e=>{t[e]=t[e].replace("%ctype%",H("content_type"))})),t.name=n.name.replace("%expanded%","true"===e.getAttribute("aria-expanded")?"open":"close").replace("%playpause%",e.classList.contains("a-picto-play-pause--pause")?"pause":"play"),"%plExpanded%"===t.name){let e=ne(".o-playlist")[0].classList.contains("o-playlist--show")||!1;"audio-player"===t.chapter1&&(e=!e),t.name=t.name.replace("%plExpanded%",e?"close":"open")}if("%addRemove%"===t.name){const n=ne(".a-playlist-btn > span > svg",e);t.name=t.name.replace("%addRemove%",18===n[0].width?"remove":"add")}return t.callback=()=>zn("hit","Hit - Click",t),Hn().click.send(t),"true"===e.getAttribute("aria-haspopup")&&Wn(e),!0};"reorder"===n.name?["mousedown","touchstart"].forEach((t=>e.addEventListener(t,(()=>a())))):e.addEventListener("click",(()=>a())),e.setAttribute("data-tms-tr",""),zn("setup","Click setup",n)}))}}))}},Gn=(e,t,n,a,i,...r)=>{Yn(t,n,a,i,...r),e||Le((()=>{Yn(t,n,a,i,...r)}))},Wn=e=>{const t=e.parentElement;let n=!1;t.hasAttribute("data-root-share")&&!("share"in navigator)?(n="share",Gn(!0,["all"],".o-share-popin__share-buttons button","action","shorty","%ctype%","share","modal")):t.hasAttribute("data-root-podcast")&&(n="podcast"),n&&(Gn(!0,["all"],".o-share-popin__share-buttons a","action","podcast"===n?"%text%":"%label%","%ctype%",n,"modal"),Gn(!0,["all"],"button[data-modal-close]","action","close","%ctype%",n,"modal"))},Jn=()=>{Gn(!0,["all"],".m-playlist-item__drag-btn","action","reorder","audio-player","playlist","item"),Gn(!0,["all"],".m-playlist-item__play-btn","action","%playpause%","audio-player","playlist","item"),Gn(!0,["all"],".m-playlist-item__remove-btn","action","remove","audio-player","playlist","item")},Xn=e=>{Hn=e.getPageTracker,Bn=e.getLevel2,qn=e.toAtString;const t=["article","depeche","edition","video","urgent"];Ae((()=>{["notice.clickagree","notice.clickclose","notice.clickdisagree","notice.clickmoreinfo","notice.clickviewvendors","preferences.clickagreetoall","preferences.clickcategoryagree","preferences.clickcategorydisagree","preferences.clickclose","preferences.clickdisagreetoall","preferences.clickpurposeagree","preferences.clickpurposedisagree","preferences.clicksavechoices","preferences.clickvendoragree","preferences.clickvendordisagree","preferences.clickvendorsavechoices","preferences.clickviewvendors"].forEach((e=>Kn(e))),Oe((()=>{$t()||Qn("exitwithoutanswering","cmp","notice")})),window.didomiEventListeners.push({event:"notice.shown",listener(){Gn(!0,["all"],".didomi-notice-popup .didomi-notice-view-partners-link","action","clickviewvendors","cmp","notice")}}),window.didomiEventListeners.push({event:"notice.clickdisagree",listener(){setTimeout((()=>{Gn(!0,["all"],".refusal-bar_hide","action","close","refusal-bar"),Gn(!0,["all"],".refusal-bar_change","action","change-answer","refusal-bar"),Gn(!0,["all"],".refusal-bar_play-video","action","play-video","refusal-bar"),Gn(!0,["all"],".refusal-bar_hide-video","action","close-video","refusal-bar")}),150)}}),Gn(!0,["all"],"a.o-header__home-link","navigation","logo","header"),Gn(!0,["all"],".o-header__player-links a, .o-header__player-links button",B("f24")?"navigation":"action","direct%liveType%","header"),Gn(!0,["all"],".o-header__site-nav-link > button","action","%expanded%","header","burger"),Gn(!0,["all"],".o-nav-bar__item--home > a","navigation","home","subnavigation"),Gn(!0,["all"],".o-nav-bar__item--hot-tag > a","navigation","link-%nb%","subnavigation","hottags"),Gn(!0,["all"],".o-nav-bar__item--thematic-tag > a","navigation","link-%nb%","subnavigation","sections"),Gn(!0,["all"],[".o-site-nav__wrapper--openable","a.a-nav-link"],"navigation","link-%nb%","burgermenu","grey","section-%wrapper%"),Gn(!0,["all"],[".o-site-nav__wrapper:not(.o-site-nav__wrapper--openable) .m-nav-list","a.a-nav-link"],"navigation","link-%nb%","burgermenu","white","section-%wrapper%"),Gn(!0,["all"],".o-special-bar a","exit","link-%nb%","special-bar"),Gn(!0,["all"],".m-back-to-top","action","back-to-top","%ctype%"),Gn(!0,["all"],".o-playlist__btn-toggle","action","%plExpanded%","audio-player","playlist"),Jn(),He((()=>Jn())),Ne((()=>Jn())),De((()=>Jn())),Ve((()=>Jn())),Fe((()=>Jn())),Gn(!1,["homepage","section"],["aside[data-org-name]","a:not(.o-aside-content__see-more)"],"navigation","link-%nb%","%ctype%","%rep1%","%org-type%_%org-name%"),Gn(!1,["homepage","section"],["aside[data-org-name]","a.o-aside-content__see-more"],"navigation","seemore","%ctype%","%rep1%","%org-type%_%org-name%"),Gn(!1,["all"],".m-breadcrumb__list__item > a","navigation","link-%nb%","%ctype%","breadcrumb"),Gn(!1,[...t,"emission"],"a.m-from-author__name, a.m-program-author","navigation","authorlink-%nb%","%ctype%","author"),Gn(!1,[...t,"tag"],"a.a-twitter-follow-button","exit","twitterlink-%nb%","%ctype%","author"),Gn(!1,[...t,"emission"],"a.m-share-bar__link","action","%label%","%ctype%","share"),Gn(!1,[...t,"emission"],"span[data-root-share] > button","action","share"in navigator?"web_share_api":"modal","%ctype%","share"),Gn(!1,[...t],"span[data-root-embed] > button","action","embed","%ctype%","share"),Gn(!1,["edition","emission"],"span[data-root-podcast] > button","action","podcast","%ctype%"),Gn(!1,["section"],"a.m-item-timeline__infos__dl-link","download","downloadlink-%nb%","journal"),Gn(!1,[...t],"a.m-tags-list__tag__link","navigation","%title%","%ctype%","tags"),Gn(!1,[...t],"button[data-readmore-unlocker]","action","readmore","%ctype%"),Gn(!1,[...t],".t-content__related a","navigation","link-%nb%","%ctype%","related","manual"),Gn(!1,[...t],".t-content__list-content .o-aside-content--related a","navigation","link-%nb%","%ctype%","related","auto"),Gn(!1,["emission","tag"],"#pager a.m-pagination__item__link","navigation","%page%","%ctype%","paging","top"),Gn(!1,["emission","tag"],".m-pagination-wrapper:not(#pager) a.m-pagination__item__link","navigation","%page%","%ctype%","paging","bottom"),Gn(!1,["edition"],"span[data-playlist-show]","action","%plExpanded%","%ctype%","playlist"),Gn(!1,["edition"],"span[data-playlist-add]","action","%addRemove%","%ctype%","playlist")}))};var Zn={name:Nn,load:Xn,detectLinks:Yn,setup:Gn,triggerCmpEvent:Qn,setupCmpEvent:Kn,setupModal:Wn,setupPlaylistItems:Jn};const ea="FovAv";let ta;const na={},aa={ready:"play",playing:"start",buffering:"buffer.start",paused:"pause",before_seeking:"seek.start",seeking:"seek",stopped:"stop",ad_playing:"ad.start",ad_ending:"ad.end",error:"error",close:"close",volume:"volume",subtitles_on:"subtitle.on",subtitles_off:"subtitle.off",fullscreen_on:"fullscreen.on",fullscreen_off:"fullscreen.off",quality:"quality",speed:"speed"},ia=(e,t,n={})=>{G(`tms.tags.stats.atInternet.fovAv.${e}`,`Analytics - AT Internet - Hit - AV Insights - ${t}`,n)},ra=e=>/youtube/i.test(e.videoType)?e.player.getIframe().id:"videojs"===e.videoType?e.player.id_:e.options.selector,oa=e=>{let t;return t=/youtube/i.test(e.videoType)?e.player.getCurrentTime():"videojs"===e.videoType?e.player.tech_.el_.currentTime:"time"in e?e.time:0,parseInt(1e3*t,10)},sa=e=>{let t;return t=/youtube/i.test(e.videoType)?e.player.getDuration():"videojs"===e.videoType?e.player.tech_.el_.duration:"duration"in e?e.duration:0,parseInt(-1!==t?1e3*t:t,10)},la=(e,t)=>{const n=t.split(".");let a=e;for(let e=0;e<n.length;e+=1){const t=n[e];if(void 0===a||!(t in a))return!1;a=a[t]}return a},ca=(e,t=[],n="")=>la(e,t)||n,da=e=>{const t=parseInt(e/6e4,10);let n="60+";return t<5?n="0-5":t<10?n="5-10":t<15?n="10-15":t<30?n="15-30":t<45?n="30-45":t<60&&(n="45-60"),n},ua=(e,t)=>{if("main-audio-player"===e)return"main_audio";if("videoType"in t&&/smartembed$/i.test(t.videoType))return"post_article_recommendation";const n=document.getElementById(e);return n.closest(".t-content__main-media")?"main_video":n.closest(".m-em-video__video-wrapper")?"em_video":""},pa=(e,t,n)=>{"media"in t||(t.media={});const{media:a}=t;let i,r,o,s,l=!1,c="click";const d="audio"===n?"AOD":"VOD";if("videoType"in t&&/youtube/i.test(t.videoType)){const e=t.player,n=e.getVideoData();r=ca(n,"video_id"),i=ca(n,"title",r),s=e.getDuration()<=e.getMediaReferenceTime(),l=/smartembed$/i.test(t.videoType),c=l?"scroll":"click"}else"videoType"in t&&"videojs"===t.videoType?(r=ca(a,"mediaId"),i=ca(a,"diffusion.title",r),o=ca(t.player,"options_.sources.0.src"),s=!/\.mp[3–4]$/g.test(o)):(r=ca(a,"mediaId"),i=ca(a,"diffusion.title",r),s="live"===a.type,o=ca(a,"sources.0.url"));const u=s?-1:sa(t);return{title:i,episodeTitle:ca(a,"diffusion.title"),episodeId:ca(a,"diffusion.id"),showTitle:ca(a,"emission.title"),showId:ca(a,"emission.id"),showGenre:ca(a,"emission.genre"),mediaId:r,sourceUrl:o,duration:u,durationRange:s?"Live":da(u),broadcastingType:s?"Live":d,position:ua(e,t),autoMode:l,launchReason:c}},ga=(e,t=null,n=null)=>{const a=pa(e,t,n);return{av_player:e,av_player_version:H("site_version"),av_player_position:a.position,av_content:a.title,av_content_id:a.mediaId,av_content_type:n,av_content_duration:a.duration,av_content_genre:a.showGenre,av_content_linked:H("content_id"),av_content_duration_range:a.durationRange,av_broadcasting_type:a.broadcastingType,av_show:a.showTitle,av_show_id:a.showId,av_episode:a.episodeTitle,av_episode_id:a.episodeId,av_auto_mode:a.autoMode,av_language:H("site_locale"),av_launch_reason:a.launchReason}},fa=(e,t,n=null,a=null)=>{const i={},r=ga(t,n,a);if(e in aa){let o=`av.${aa[e]}`;const s=oa(n);if(i.av_position=s,"playing"===e)na[t].status.started>0&&(o="av.resume"),na[t].status.started+=1;else if("before_seeking"===e)na[t].status.isSeeking=!0,na[t].status.lastPosition=s;else if("seek"===e){const e=na[t].status.lastPosition;o="av."+(s>e?"forward":"backward"),i.av_previous_position=e}else"buffering"===e&&(na[t].status.isBuffering=!0,na[t].status.hasBuffered&&(o="av.rebuffer.start"),na[t].status.hasBuffered=!0);"buffering"!==e&&(na[t].status.isBuffering=!1),"before_seeking"!==e&&(na[t].status.isSeeking=!1),na[t].track(o,i,(()=>{ia(`sendAtAvEvent.${o}`,`AT AV Event - ${o}`,{mediaTracker:na,curTracker:na[t],action:e,atAction:o,options:i,extraProps:r,player:n,playerId:t,type:a})}),r)}},ma=(e,t=null,n=null,a=null)=>{const i=e.replace(/(video_)?player\.state\./i,"").replace(/cued|canplay(through)?/i,"metadata").replace("ended","stopped");if("resetAll"===i||"resetPage"===i){let t=Object.keys(na);"resetPage"===i&&(t=t.filter((e=>!/^main/.test(e)))),t.forEach((t=>{na[t].close((()=>{ia("hitAv.close","Close",{mediaTracker:na,curTracker:na[t],playerId:t,event:e}),delete na[t]}))}))}else{const r=t,o=ra(n);o in na||(na[o]=new r.avInsights.Media(5,5),na[o].status={started:0,lastPosition:0,isSeeking:!1,isBuffering:!1,hasBuffered:!1,isAdPlaying:!1},ia("mediaTrackerSetup","Setup",{tracker:r,mediaTracker:na,event:e,player:n,playerId:o,type:a})),ia(`hitAv.${i}`,P(i),{tracker:r,mediaTracker:na,curTracker:na[o],event:e,action:i,player:n,playerId:o,type:a}),fa(i,o,n,a)}},va=e=>{const t=()=>e.getAvTracker();ta=()=>e.updateTrackerPrivacy("av"),G("tms.tags.stats.atInternet.fovAv.init","Analytics - AT Internet - Init",{baseFunctions:e,avTracker:t,avTrackerPrivacy:ta}),Ge((()=>{ta()})),je(((e,n)=>{ma(e,t(),n,"audio")})),Be(((e,n)=>{ma(e,t(),n,"video")})),Le((()=>{ma("resetPage")})),Oe((()=>{ma("resetAll")}))};var ha={name:ea,load:va};let ba="";window._sf_async_config=window._sf_async_config||{},window._cbv=window._cbv||[],window._cbq=window._cbq||[];const ya=()=>{const e=H("site_brand"),t=H("site_locale");let n=!1;return"obs"===e?n=`${t}.observers.france24.com`:"f24"===e?n=`${t}.france24.com`:"rfi"===e?(n=`${t}.rfi.fr`,"ro"===t&&(n="rfi.ro")):"rfi-savoirs"===e?n=`${t}.savoirs.rfi.fr`:"rfi-musique"===e?n="musique.rfi.fr":"mcd"===e?n="mc-doualiya.com":"infomigrants"===e&&(n=`${t}.infomigrants.net`),n&&B("ppr")&&(n=`rec.${n}`),n},_a=(e="tags")=>{let t=[];if(!rn(e)){const n=H(e);"object"==typeof n&&void 0!==H(e).name?t=H(e).name:"string"==typeof n&&(t=H(e).split(/[\s_]*,[\s_]*/))}if("tags"===e&&($(H("content_type"),["article","edition","depeche"])||B("graphics"))){const e=H("cat1"),n=H("cat2");""!==e&&t.unshift(e),""!==n&&t.unshift(n)}return t.join(",")},wa=()=>{const e=!Et("cookies","c:chartbeat");_sf_async_config.noCookies=e,G("tms.tags.stats.chartbeat.fire","Analytics - Chartbeat - Updated consent",{noCookieMode:e})},Ta=()=>{wa();const e={path:H("canonical").replace(/https?:\/\/(.*)(\?(.*))?(#(.*))?$/,"$1"),virtualReferrer:ba,title:document.title,type:H("content_type"),sections:_a("tags"),authors:_a("authors")};return G("tms.tags.stats.chartbeat.fire","Analytics - Chartbeat - Hit - Page",{domain:ya(),eventData:e}),window.pSUPERFLY.virtualPage(e),ba=e.path,e},ka=()=>{const e=ya(),t=H("site_brand");if(e){G("tms.tags.stats.chartbeat.init","Analytics - Chartbeat - Init"),_sf_async_config.uid=65811,_sf_async_config.domain=e,"f24"===t&&(_sf_async_config.playerdomain=(B("ppr")?"rec.":"")+"embed.france24.com"),_sf_async_config.path=(B("ia")&&"undefined"!=typeof ia_document?ia_document.shareURL:H("canonical")).replace(/https?:\/\/(.*)(\?(.*))?(#(.*))?$/,"$1"),_sf_async_config.virtualReferrer=B("ia")?"http://facebook.com/instantarticles":document.referrer,_sf_async_config.title=document.title,_sf_async_config.type=H("content_type"),_sf_async_config.sections=_a("tags"),_sf_async_config.authors=_a("authors"),_cbq.push(["_acct","anon"]),ba=_sf_async_config.path,wa();let n="chartbeat";B("ia")?n+="_fia":-1!==["f24","rfi","mcd","obs"].indexOf(t)&&(_cbv.push(["autoDetectYouTubeIframes"]),Be(((e,t)=>{"video_player.state.ready"===e&&/youtube/i.test(t.videoType)&&(_cbv.push(t.player),G("tms.tags.stats.chartbeat.init","Analytics - Chartbeat - Referenced YouTube Player",{_cbv:_cbv,state:e,player:t}))})),n+="_video"),ue(`https://static.chartbeat.com/js/${n}.js`,{id:"chartbeat-script",async:""},(()=>{Le(Ta),G("tms.tags.stats.chartbeat.init","Analytics - Chartbeat - SDK loaded",{chartbeatFile:n,_sf_async_config:_sf_async_config})}))}},Aa=()=>{Ge(wa),Ae((()=>{Ze((()=>{$t()?ka():Ye((()=>ka()),"chartbeat")}))}))};var Pa={load:Aa,domain:ya,currentPath:ba,updateTrackerPrivacy:wa,fire:Ta,init:ka};const xa=window.contextlayer.translations["ads.label"]||"Advertising",Ca=window.contextlayer.translations["ads.report"]||"Report this ad",Ia=(e,t,n)=>{ue(t,{id:`inread-${e}-script`,async:""},(()=>{window.tms.tags.inread[e].initialized=!0,n(),G("tms.tags.inread.callSdk",`Ads - Inread - Loaded "${e}" SDK`)}))},Sa=e=>{try{if(e.hasAttribute("data-empty-p"))return"true"===e.getAttribute("data-empty-p");const t=ne("p:not(:empty)");let n=!1;for(let e=0;e<t.length;e+=1)" "!==t[e].innerText&&"&nbsp;"!==t[e].innerHTML||(t[e].classList.add("empty"),n=!0);return e.setAttribute("data-empty-p",n),n}catch(e){return!1}},Oa=()=>{Sa(ne("article .t-content__body")[0]);const e=".t-content__body > ",t=ne("article")[0],n=ne(`${e}p:not(:empty):not(.empty),${e}h1,${e}h2,${e}h3,${e}h4,${e}h5,${e}h6`,t);let a;const i=B("mobile")?3:4;if(n.length===i||n.length>i&&/<(h[1-6]|p>([\s]*)<strong)>([^<>]|(<\/?(strong|span|br?|i|em)>))*<\/(strong>([\s]*)<\/p|h[1-6])>/gim.test(n[i-1].outerHTML))a=n[i-2];else{if(!(n.length>i))return!1;a=n[i-1]}const r=de("div",`<div class="m-inread-ad__report m-inread-ad__report--report-enabled"><button title="${Ca}" class="m-inread-ad__label__report-link" rel="noopener" data-tms-ad-report><svg xmlns="http://www.w3.org/2000/svg" width="26.077" height="16.107" viewBox="0 0 26.077 16.107"><g transform="translate(1.325 0.5)"><path d="M6.669,15.107a1.5,1.5,0,0,1-1.5-1.5V10.184H0L5.169,5.637V1.5A1.5,1.5,0,0,1,6.669,0H22.752a1.5,1.5,0,0,1,1.5,1.5V13.607a1.5,1.5,0,0,1-1.5,1.5Z" fill="none" stroke="currentColor" stroke-width="1"></path><g transform="translate(29.422 15.107) rotate(-180)"><path d="M-2119.5-2724.245v7.84" transform="translate(2134.21 2729.348)" fill="none" stroke="currentColor" stroke-width="2"></path><path d="M-2119.5-2732v1.732" transform="translate(2134.21 2734.165)" fill="none" stroke="currentColor" stroke-width="2"></path></g></g></svg></button></div>\n<div class="m-inread-ad__label m-inread-ad__label--report-enabled"><span class="m-inread-ad__label__text">${xa}</span></div>\n<div class="m-inread-ad__content"></div>`,{class:"tms-ad m-inread-ad","data-tms-ad-type":"inread","data-tms-ad-provider":"gam","data-tms-ad-owner":"fmm","data-tms-ad-pos":"1","data-tms-ad-status":"idle",style:"line-height:0;font-size:0;border:none;overflow:hidden;"});return le(r,a)},Ea=()=>{if(!Vn("inread")&&(B("article")||B("depeche")||B("edition"))){const e=Oa();e&&G("tms.tags.inread.beforeAdsFilled","Ads - InRead - Ad injection zone created",e)}},$a=()=>{Ae((()=>{fe(`\n.m-inread-ad, .m-inread-ad[data-tms-ad-inread-provider] .m-inread-ad__label{\ndisplay:none;\n}\n.m-inread-ad[data-tms-ad-status=resized] {\ndisplay:block;\nposition:relative;\nmargin-top: 2px;\nmargin-bottom: 30px;\n}\n.m-inread-ad .m-inread-ad__label {\nheight: 25px;\nline-height: 25px;\nbackground-color: #f0f0f0;\nbox-sizing: content-box;\ntext-transform: uppercase;\ndisplay: flex;  \nflex-flow: row nowrap;\njustify-content: space-between;\nalign-items: center;\nfont-size: 1.1rem;\ncolor: #505050;\n}\n.m-inread-ad .m-inread-ad__label span{\npadding: 0 6px;\ntext-align: start;\n}\n.m-inread-ad .m-inread-ad__report.m-inread-ad__report--report-enabled {\ndisplay:none;\n}\n.m-inread-ad[data-tms-ad-status=resized] .m-inread-ad__report.m-inread-ad__report--report-enabled {\ncolor: #777;\ndisplay: flex;\nposition: absolute;\n${B("rtl")?"left":"right"}: 0;\nheight: 25px;\nz-index: 100;\nalign-items: center;\npadding: 0 6px;\n${B("rtl")?"transform: scaleX(-1);":""}\n}\n`)}))};var Ua={load:$a,adTranslation:xa,callSdk:Ia,injectWrapper:Oa,checkEmptyParagraphs:Sa,beforeAdsFilled:Ea};const Ra="data-tms-ad-",La=e=>{const t=e.id||ne(".m-block-ad__content, .m-inread-ad__content",e)[0].id,n=e.getAttribute(`${Ra}type`)||!1,a=window.tms.tags.ads.gam.blocks[n][t],i=a.getServices()[0],r=a.getResponseInformation(),o={adUnit:a.getAdUnitPath(),contentUrl:a.getContentUrl(),queryId:a.getEscapedQemQueryId(),responseInfo:r,targetingMap:{page:(e=>{const t={};return e.forEach((e=>{t[e]=i.getTargeting(e)})),t})(i.getTargetingKeys()),slot:a.getTargetingMap()},slotAttributes:(t=>{const n={};return["owner","provider","type","status","pos","inread-provider","inread-provider-exclusions"].forEach((t=>{const a=e.getAttribute(`${Ra}${t}`)||!1;a&&(n[t]=a)})),n})(),html:{},size:{width:0,height:0}},s=ne("iframe",e)[0];try{const t=e.getAttribute(`${Ra}inread-provider`)||"gam";if("inread"===n&&"gam"!==t){const n=ne(".m-inread-ad__content",e)[0];let a=n.innerHTML;if("teads"===t){const e='iframe:not([id^="google_ads_iframe"])',t=/(<iframe(?! id="google_ads_iframe)([^>]*))>(<\/iframe>)/gi,i=' src="data:text/html;charset=utf-8,',r=ne(e,n),o=[...a.matchAll(t)];if(o.length===r.length&&r.length>0)for(let n=0;n<r.length;n+=1){const s=r[n].contentDocument.body;let l=s.parentElement.outerHTML;const c=ne(e,s);if(c.length>0){const e=[...l.matchAll(t)];if(e.length===c.length&&c.length>0)for(let t=0;t<c.length;t+=1){const n=c[t].contentDocument.body.parentElement.outerHTML;l=l.replace(e[t][0],`${e[t][1]}${i}${encodeURIComponent(n)}">${e[t][3]}`)}}a=a.replace(o[n][0],`${o[n][1]}${i}${encodeURIComponent(l)}">${o[n][3]}`)}}o.html.code=btoa(a),o.size.width=e.offsetWidth,o.size.height=e.offsetHeight}else o.html.code=btoa(s.contentWindow.document.body.parentElement.outerHTML);o.html.rendered="1"}catch(e){o.html.code=btoa(r.isBackfill?"Non disponible (Backfill ADEX)":a.getHtml()),o.html.rendered="0"}return o.size.width=o.size.width||s.width.replace("px",""),o.size.height=o.size.height||s.height.replace("px",""),G("tms.ads.report.getAdCode","Ads - Report - Campaign details",o),o},Ma=(e,t)=>{const n={b:H("site_brand"),l:H("site_locale"),s:H("site_version"),t:H("tms_version"),u:window.location.href+(t?"":"?xmlhttprequest=1"),r:document.referrer},a=La(e);try{const e=`https://www.francemediasmonde.com/report/ad.html?i=${encodeURIComponent(btoa(JSON.stringify(n)))}#i=${encodeURIComponent(btoa(encodeURIComponent(JSON.stringify(a))))}`;window.open(e,"_blank")?G("tms.tags.ads.report.openAdReport","Ads - Report - Opened ad report",{url:e,reportInfo:n,hashInfo:a}):alert("Please allow popups / Merci d'autoriser les popups")}catch(e){G("error.tms.ads.report.openAdReport","Ads - Report - Unable to create ad report URL",e)}},ja=e=>{G("tms.tags.ads.report","Ads - Report - Init");ne(`[${Ra}report]:not([${Ra}report=ready])`).forEach((t=>{let n=t.parentNode.parentNode;n&&!n.hasAttribute(`${Ra}type`)&&([n]=ne(`[${Ra}type]`,n)),t.setAttribute(`${Ra}report`,"ready"),t.addEventListener("click",(()=>{Ma(n,e)}))}))},Da=()=>{Ae((()=>{ja(!0)})),Ke((()=>{ja(!1)}))};var Va={load:Da,init:ja,getAdSlotDetails:La,openAdReport:Ma};const Fa=(e,t=null,n=null,a=[],i=null,r=200)=>{const o=e;o.style.backgroundImage=`url(${t})`,o.classList.contains("middle_link")?r<200&&(o.style.height=`${r}px`):B("rtl")&&(o.style.backgroundPosition="top "+(o.classList.contains("start_link")?"right":"left")),null!==n?(o.setAttribute("href",n),o.setAttribute("target","_blank"),o.onClick=()=>!0):(o.setAttribute("href","#"),o.onClick=()=>!1),a.length>0&&a.map((e=>o.setAttribute(e.name,e.value))),null!==i&&(o.style.backgroundColor=i)},Na=()=>{const e=ne('div[data-tms-ad-type="banner"][data-tms-ad-pos="1"]')[0],t=e.closest("[data-tms-ad-container]"),n=ne('div[data-tms-ad-type="sponsoring"]')[0];e.setAttribute("data-tms-ad-status","empty"),t&&t.setAttribute("data-tms-ad-status","empty"),n.setAttribute("data-tms-ad-status","disabled");n.querySelectorAll("a").forEach((e=>{e.removeAttribute("style")}))},Ha=(e=null,t=null,n=[],a=null,i=200)=>{if(!Vn("sponsoring")){const r=ne('div[data-tms-ad-type="banner"][data-tms-ad-pos="1"]')[0],o=r.closest("[data-tms-ad-container]"),s=ne('div[data-tms-ad-type="sponsoring"]')[0];r.setAttribute("data-tms-ad-status","disabled"),o&&o.setAttribute("data-tms-ad-status","disabled"),s.setAttribute("data-tms-ad-status","enabled"),me(s);s.querySelectorAll("a").forEach((r=>{Fa(r,e,t,n,a,parseInt(i,10))}))}},Ba=()=>{const e=a(document.location.href),{test_hab:t}=e;-1!==["1","2"].indexOf(t)?Ha(`https://static.france24.com/infographies/habillage/fov/habillage_${"1"===t?"test":"spec"}.png`,"https://www.francemediasmonde.com",[],null):"3"===t&&Ha(e.hab_img,e.hab_url,[],null)},qa=()=>{Ae(Ba),Le(Ba)};var za={load:qa,init:Ha,inject:Fa,check:Ba,clean:Na};const Qa="01DBFDB3G8049RQWPA1JZ2HSH5",Ka=()=>Et("cookies",1112);window.Hubvisor=window.Hubvisor||function(...e){window.Hubvisor.cmd.push((()=>{window.Hubvisor.apply(null,e)}))},window.Hubvisor.cmd=window.Hubvisor.cmd||[];const Ya=e=>{G("error.tms.tags.ads.hubvisor.fail","Ads - Hubvisor - Initial call failed",{err:e});const t=t=>{try{t(e)}catch(e){G("error.tms.tags.ads.hubvisor.tryCall","Ads - Hubvisor - Subsequent call failed",{_err:e})}},{cmd:n}=window.Hubvisor;window.Hubvisor=(e,n,a)=>{t(a)},window.Hubvisor.cmd=n;for(let e=0;e<window.Hubvisor.cmd.length;e+=1)t(window.Hubvisor.cmd[e]);window.Hubvisor.cmd={push:t}},Ga=(e,t,n=null)=>{Ka()?window.Hubvisor(e,n,(()=>{t(),G("tms.tags.ads.hubvisor.call","Ads - Hubvisor - Call",{action:e,blocks:n,cb:t})})):(t(),Ut("ads.hubvisor","hubsvisor","firing"))};let Wa=0;const Ja=()=>{Wa&&(clearTimeout(Wa),Wa=0)},Xa=()=>{Ka()?(Wa=setTimeout(Ya.bind(null,new Error("Hubvisor loading timeout!")),3e3),ue(`https://cdn.hubvisor.io/wrapper/${Qa}/hubvisor.js`,{id:"hubvisor-script",async:""},(()=>{window.Hubvisor.cmd.push((()=>{Ja()})),G("tms.tags.ads.hubvisor.init","Ads - Hubvisor - SDK loaded")}),(e=>{Ja(),Ya(new Error(`Hubvisor loading failed! - ${e}`))}))):Ut("ads.hubvisor","hubsvisor","loading")},Za=()=>{Ae((()=>{Ze((()=>{$t()?Xa():Ye((()=>Xa()),"hubvisor")}))}))};var ei={load:Za,init:Xa,checkConsent:Ka,call:Ga,fail:Ya,stopTimeout:Ja};let ti=!1;const ni=!1,ai={banner:[],box:[],bigbox:[],int:[],inread:[]},ii={},ri="data-tms-ad-",oi=(e,t,n={},a="")=>{G(`${""!==a?`${a}.`:""}tms.tags.ads.gam.${e}`,`Ads - GAM - ${t}`,n)},si=()=>{const e=H("site_brand"),t=H("site_locale");return"f24"===e&&"es"!==t||"obs"===e&&"fa"!==t||"mcd"===e};window.googletag=window.googletag||{cmd:[]};const li=()=>{ti||googletag.cmd.push((()=>{const{tms:e,googletag:t}=window,{gam:n}=e.tags.ads;n.sizeMappings.banner=t.sizeMapping().addSize([1280,800],[[1e3,250],[970,250],[1e3,90],[970,90],[728,90],[1,1]]).addSize([1e3,800],[[970,250],[970,90],[728,90],[1,1]]).addSize([1e3,350],[[1e3,90],[970,90],[728,90],[1,1]]).addSize([970,350],[[970,90],[728,90],[1,1]]).addSize([728,350],[[728,90],[1,1]]).addSize([0,0],[]).build(),n.sizeMappings.box=t.sizeMapping().addSize([0,400],[[300,250],[300,300],[1,1]]).addSize([0,0],[[300,250],[1,1]]).build(),n.sizeMappings.bigbox=t.sizeMapping().addSize([972,600],[[300,600],[300,300],[300,250],[1,1]]).addSize([0,400],[[300,250],[300,300],[1,1]]).addSize([0,0],[[300,250],[1,1]]).build(),n.sizeMappings.int=t.sizeMapping().addSize([0,0],[1,1]).build(),n.sizeMappings.video=t.sizeMapping().addSize([0,0],[[480,70],[480,360],[480,361]]).build(),n.sizeMappings.inread=t.sizeMapping().addSize([530,400],[[530,300],[300,1]]).addSize([320,280],[[320,180],[300,1]]).addSize([0,0],[300,1]).build(),t.pubads().enableSingleRequest(),t.pubads().disableInitialLoad(),t.pubads().setCentering(!0),t.pubads().enableLazyLoad({fetchMarginPercent:200,renderMarginPercent:125,mobileScaling:1.5}),t.pubads().addEventListener("slotRenderEnded",(t=>{const a=e.dom.select(`#${t.slot.getSlotElementId()}`)[0];if(a){const i=a.hasAttribute(`${ri}type`)?a:a.parentElement,r=i.getAttribute(`${ri}owner`),o=a.getElementsByTagName("iframe")[0],s=i.getAttribute(`${ri}type`);if(void 0!==o&&o.setAttribute("tabindex","-1"),"disabled"!==i.getAttribute(`${ri}status`)){let e="rendered";if(t.isEmpty?e="empty":(t.size[0]>3||"inread"===s)&&(e="resized"),i.setAttribute(`${ri}status`,e),"banner"===s){const t=i.closest(`[${ri}container]`);t&&t.setAttribute(`${ri}status`,e)}}oi("slotRenderEnded",`Rendered 1 ${s} ad`,t),e.event.onPubSubReady((()=>{Ce("ad.rendered",t),oi("slotRenderEnded",'Triggered event "ad.rendered"',{event:t,adWrapper:i})})),n.isFtpPerimeter&&t.isEmpty&&"ftp"===r&&n.changeSlotOwner(i,a,"fmm")}})),t.pubads().addEventListener("impressionViewable",(t=>{const n=e.dom.select(`#${t.slot.getSlotElementId()}`)[0];if(n){const a=n.hasAttribute(`${ri}type`)?n:n.parentElement;oi("impressionViewable",`1 ${a.getAttribute(`${ri}type`)} ad seen by user`,t);try{e.event.onPubSubReady((()=>{Ce("ad.seen",a),oi("impressionViewable",'Triggered event "ad.seen"',{event:t,adWrapper:a})}))}catch(e){oi("impressionViewable",'Unable to trigger "ad.seen"',e,"error")}}})),t.pubads().set("page_url",e.var("canonical")),t.pubads().setTargeting("facebook_webview",/FBAV/i.test(window.navigator.userAgent)?"true":"false").setTargeting("twitter_webview",/twitter/i.test(window.navigator.userAgent)?"true":"false").setTargeting("ppr",e.is("ppr")?"true":"false").setTargeting("mirror",e.is("mirror")?"1":"0");const a=e.data.getUrlVars(document.location.href).preview||(e.is("ppr")?"debug_fmm":"0");if("0"!==a&&t.pubads().setTargeting("preview",a),""!==top.document.referrer){const e=new URL(top.document.referrer).hostname.replace(/[^a-zA-Z0-9+]/g,"").replace("www","")||"";""!==e&&t.pubads().setTargeting("referrer",e)}ti=!0}));try{googletag.cmd.push((()=>{const{tms:e,googletag:t}=window,n=!e.gdpr.canUse("cookies","google"),a=!e.gdpr.canUse("create_ads_profile","google")||!e.gdpr.canUse("select_personalized_ads","google"),i={childDirectedTreatment:!1};n&&(i.limitedAds=n),a&&(i.nonPersonalizedAds=a),t.pubads().setPrivacySettings(i),oi("setBasicTargeting",`Switched to ${a?"non ":""}personalized ads because of user consent`,{limitedAds:n,nonPersonalizedAds:a},"consent")})),googletag.cmd.push((()=>{const{tms:e,googletag:t}=window;t.pubads().setTargeting("hl",document.documentElement.lang?document.documentElement.lang:e.var("site_locale")).setTargeting("langue",e.var("site_locale")?e.var("site_locale"):"en").setTargeting("libelle_contenu_page",e.var("content_title")).setTargeting("id_contenu",e.var("content_id")).setTargeting("thema","name_clean"in e.var("tags")?e.var("tags").name_clean:[]).setTargeting("auteur","name_clean"in e.var("authors")?e.var("authors").name_clean:[]).setTargeting("rep1",e.var("cat1")).setTargeting("rep2",e.var("cat2")).setTargeting("rep_global",e.var("cat1")).setTargeting("type_page1",e.var("content_type")).setTargeting("bc",e.is("brand_content")?"1":"0").setTargeting("url_pathname",new URL(e.var("canonical")).pathname.substring(1).split("/"))})),si()&&googletag.cmd.push((()=>{const{tms:e,googletag:t}=window;t.pubads().setTargeting("site",e.var("site_brand").replace("mcd","mc-doualiya").replace(/(f24|obs)/,`france24${e.str.replaceAll(e.var("site_locale"),{fr:"francais",en:"anglais",ar:"arabe"})}`)).setTargeting("support","webresponsive").setTargeting("webresponsiveversion",e.var("device_type")).setTargeting("page","default").setTargeting("type",e.is("homepage")?"accueil":"default")}))}catch(e){}},ci=e=>{const t=[],n=ii[e],a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r="video"===e?"v":"";if(void 0!==n)for(let o=0;o<n.length;o+=1){const s=n[o];if(s[0][0]<=a&&s[0][1]<=i){if("number"==typeof s[1][0])t.push(`${s[1][0]}x${s[1][1]}${r}`);else if("string"==typeof s[1][0])t.push(`${s[1][0]}`);else for(let n=0;n<s[1].length;n+=1)if("string"==typeof s[1][n])t.push(`${s[1][n]}`);else{const a=`${s[1][n][0]}x${s[1][n][1]}${r}`;"banner"===e&&"1x1"===a||t.push(a)}return t}}return t},di=(e,t)=>{let n;const a=H("site_brand"),i=H("site_locale"),r=B("brand_content");return n="ftp"===t?`/21643048729,33480810/${a.replace("mcd","mc-doualiya").replace(/(f24|obs)/,`france24${E(i,{fr:"francais",en:"anglais",ar:"arabe"})}`)}/webresponsive/${r?"contenus-partenaires":"default"}/${B("homepage")?"accueil":"default"}/${e}`:`/33480810/web/${a.replace("-","_")}/${i}/${r?"brand-content":H("content_type")}/${e}`,n},ui=(e,t,n={})=>{function a(e,t,n,a,i,r,o){return()=>{const{tms:s,googletag:l}=window,{gam:c}=s.tags.ads;if("int"===e)c.blocks[e][n]=l.defineOutOfPageSlot(a,n).setTargeting("position",""!==o?o:r).setTargeting("location",s.str.isFoundInArray(s.var("content_type"),["homepage","section","tag","emission","dossier"])?"list":"content").setTargeting("allowed_sizes",ci(e)).addService(l.pubads()),""!==o&&c.blocks[e][n].setTargeting("block_order",r);else{const d=window.innerWidth>1279;let u=""!==o?o:r;if("top"===o&&d&&(u=["top","arche"]),c.blocks[e][n]=l.defineSlot(a,[i],n).setTargeting("position",u).setTargeting("location",s.str.isFoundInArray(s.var("content_type"),["homepage","section","tag","emission","dossier"])?"list":"content").setTargeting("allowed_sizes",ci(e)).defineSizeMapping(ii[e]).addService(l.pubads()),""!==o&&c.blocks[e][n].setTargeting("block_order",r),"banner"===e)c.blocks[e][n].setTargeting("habillage",d?1:0);else if("inread"===e){c.blocks[e][n].setTargeting("ad_translation",window.contextlayer.translations["ads.label"]||"Advertising");const a=t.getAttribute(`${ri}inread-provider-exclusions`)||!1;a&&c.blocks[e][n].setTargeting("provider_exclusions",a.split(","))}}if(t.setAttribute(`${ri}status`,"ready"),"banner"===e){const e=t.closest(`[${ri}container]`);e&&e.setAttribute(`${ri}status`,"ready")}}}if(e){window.PubSub.publish("tms.event.onBeforeAdsFilled"),Object.keys(n).forEach((e=>"function"==typeof n[e].beforeAdsFilled?n[e].beforeAdsFilled():""));const e=ne(`[${ri}type]`)[0];e&&!e.hasAttribute(`${ri}int`)&&(le(de("div","",{class:"tms-ad","data-tms-ad-pos":1,"data-tms-ad-type":"int","data-tms-ad-status":"idle","data-tms-ad-owner":si()?"ftp":"fmm",style:"line-height:0;font-size:0;height:0;border:none;overflow:hidden;"}),e),e.setAttribute(`${ri}int`,"loaded"),G("tms.tags.ads.gam.fillBlocks","Injected interstitial injection zone"))}let i=ne(`[${ri}status="idle"]:not([${ri}container])`);i=ie(i,`[${ri}type="banner"],[${ri}type="box"],[${ri}type="bigbox"],[${ri}type="int"],[${ri}type="inread"]`);for(let e=0;e<i.length;e+=1){const t=i[e];let n=t.getAttribute(`${ri}type`);if(t.parentNode.classList.contains("m-interstitial__ad")){if(ne(".t-content__body > p:not(:empty):not(.empty)").length<4&&ne(".t-content__body")[0].innerText.length<450){t.setAttribute(`${ri}status`,"disabled");continue}B("brand_content")&&"box"===n&&(t.setAttribute(`${ri}type`,"bigbox"),n="bigbox")}const r=/(box|inread)/gi.test(n)&&ne(".m-block-ad__content, .m-inread-ad__content",t)[0]||t;let o,s=[300,250];const l=parseInt(t.getAttribute(`${ri}pos`),10);let c;if(t.setAttribute(`${ri}status`,"started"),t.setAttribute(`${ri}provider`,"gam"),"banner"===n){const e=t.closest(`[${ri}container]`);e&&e.setAttribute(`${ri}status`,"started")}me(r);const d=r.id;if("banner"===n?(o=di(`bann${l<3?l:2}`,"fmm"),s=[728,90],c="top"):"int"===n?(o=di("int","fmm"),c="interstitiel"):"inread"===n?o=di("inread","fmm"):(o=di(`pave${l<6?l:5}`,"fmm"),c=`middle${l>1&&l<6?l:""}`),null===t.getAttribute(`${ri}owner`)&&t.setAttribute(`${ri}owner`,si()?"ftp":"fmm"),"ftp"===t.getAttribute(`${ri}owner`)?o=di(c,"ftp"):c="",Vn("gam")){if(t.setAttribute(`${ri}status`,"disabled"),"banner"===n){const e=t.closest(`[${ri}container]`);e&&e.setAttribute(`${ri}status`,"disabled")}}else googletag.cmd.push(a(n,t,d,o,s,l,c))}G("tms.tags.ads.gam.fillBlocks",`Detected ${i.length} new idle ad blocks`,i),googletag.cmd.push((()=>{const{tms:e,googletag:t}=window,{gam:n}=e.tags.ads;t.enableServices(),n.servicesEnabled=!0,oi("fillBlocks","Enabled GAM services")})),googletag.cmd.push((()=>{const{tms:e,googletag:a}=window,{gam:i}=e.tags.ads,r=e.dom.select(`[${ri}status="ready"]:not([${ri}container])`),o=[];for(let t=0;t<r.length;t+=1){const n=r[t],s=n.getAttribute(`${ri}type`),l=(/(box|inread)/gi.test(s)&&e.dom.select(".m-block-ad__content, .m-inread-ad__content",n)[0]||n).id;if(o.push(i.blocks[s][l]),a.display(l),n.setAttribute(`${ri}status`,"loaded"),"banner"===s){const e=n.closest(`[${ri}container]`);e&&e.setAttribute(`${ri}status`,"loaded")}}if(r.length>0&&oi("fillBlocks",`Queued ${r.length} ad blocks to render`,r),o.length>0){const e=()=>a.pubads().refresh(o,{changeCorrelator:t});si()&&"hubvisor"in n?n.hubvisor.call("f24:new-page",e,o.map((e=>e.getSlotElementId()))):e(),oi("fillBlocks",`Rendered ${r.length} ad blocks`,o)}Object.keys(n).forEach((e=>"function"==typeof n[e].afterAdsFilled?n[e].afterAdsFilled():"")),window.PubSub.publish("tms.event.onAfterAdsFilled")}))},pi=(e,t,n,a="owner")=>{const i=e.getAttribute(`${ri}${a}`)||"";if(i!==n){const r=e.getAttribute(`${ri}type`);googletag.destroySlots([ai[r][t.id]]);const o=e.getAttribute(`${ri}${a}-exclusions`)||!1;let s=i;if(o&&(s=`${o},${s}`),e.setAttribute(`${ri}${a}-exclusions`,s),""!==n?e.setAttribute(`${ri}${a}`,n):e.removeAttribute(`${ri}${a}`),e.setAttribute(`${ri}status`,"idle"),"banner"===r){const t=e.closest(`[${ri}container]`);t&&t.setAttribute(`${ri}status`,"idle")}t.removeAttribute("id"),"int"!==r&&t.removeAttribute("style"),t.removeAttribute("data-google-query-id"),delete ai[e.getAttribute(`${ri}type`)][t.id],ui(!1,!0),G("tms.tags.ads.gam.changeSlotProperty",`No ad campaign available, changed ad ${a} to ${n}`,{adWrapper:e,newValue:n})}},gi=(e,t,n)=>pi(e,t,n,"owner"),fi=(e,t,n)=>pi(e,t,n,"inread-provider"),mi=()=>{googletag.cmd.push((()=>{const{tms:e,googletag:t}=window,{gam:n}=e.tags.ads,a=t.destroySlots();n.blocks={banner:[],box:[],bigbox:[],int:[],inread:[]},oi("destroyBlocks","Destroyed all existing ad blocks",a)}))},vi=(e={})=>{if(200===H("http_code")&&!ti)if(G("tms.tags.ads.gam","Init"),Et("select_basic_ads","google")){const t=Et("cookies","google")?"securepubads.g.doubleclick.net":"pagead2.googlesyndication.com";ue(`https://${t}/tag/js/gpt.js`,{id:"gam-script",async:""},(()=>{G("tms.tags.ads.gam","SDK loaded",{sdkDomain:t}),li(),ui(!0,!0,e),"1"===It.getItem("broadcast_da")&&(window.scrollBy(0,1),setTimeout((()=>{window.scrollTo(0,0)}),25)),Le((()=>{mi(),li(),ui(!0,!1,e)}))}))}else Ge((()=>vi())),Ut("ads.gam.init","GAM","executing")},hi=(e={})=>{Ae((()=>{Ze((()=>{$t()?vi(e):Ye((()=>vi(e)),"gam")}))}))};var bi={load:hi,initialized:ti,servicesEnabled:ni,blocks:ai,sizeMappings:ii,isFtpPerimeter:si,setBasicTargeting:li,getAllowedSizes:ci,changeSlotProperty:pi,changeSlotOwner:gi,changeSlotInreadProvider:fi,getSlotId:di,fillBlocks:ui,destroyBlocks:mi,init:vi};const yi=e=>encodeURIComponent(Object.keys(e).map((t=>Array.isArray(e[t])?`${encodeURIComponent(t)}=${e[t].map((e=>encodeURIComponent(e))).join(",")}`:`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")),_i=()=>di("video","fmm"),wi=e=>{let t=2;"main"===e?t=1:"smart-embed"===e&&(t=3);const n={facebook_webview:/FBAV/i.test(window.navigator.userAgent)?"true":"false",twitter_webview:/twitter/i.test(window.navigator.userAgent)?"true":"false",ppr:B("ppr")?"true":"false",langue:H("site_locale")?H("site_locale"):"ar",libelle_contenu_page:H("content_title"),rep1:H("cat1"),rep2:H("cat2"),rep_global:H("cat1"),type_page1:H("content_type"),url_pathname:new URL(H("canonical")).pathname.substring(1).split("/"),mirror:B("mirror")?"1":"0",position:t,location:`video_${e}`,allowed_sizes:ci("video"),block_order:t},i=a(document.location.href).preview||(B("ppr")?"debug_fmm":"0");if("0"!==i&&(n.preview=i),(B("article")||B("depeche"))&&(n.id_contenu=H("content_id"),n.thema=H("tags").name_clean,n.auteur=H("authors").name_clean),""!==top.document.referrer){const e=new URL(top.document.referrer).hostname.replace(/[^a-zA-Z0-9+]/g,"").replace("www","")||"";""!==e&&(n.referrer=e)}return yi(n)};var Ti={getIu:_i,getCustParams:wi,toQueryString:yi};const ki="rfi"===H("site_brand")?"AR_5":"AR_1",Ai=e=>{void 0===window.OBR?ue("https://widgets.outbrain.com/outbrain.js",{id:"outbrain-script",async:""},(()=>{G("tms.tags.ads.outbrain.callSdk","Ads - Post-article - Outbrain - Loaded Outbrain SDK"),e.setAttribute("data-tms-ad-status","loaded"),G("tms.tags.ads.outbrain.callSdk","Ads - Post-article - Outbrain - Initial ad request",{wid:ki,wrapper:e})})):(OBR.extern.researchWidget(),e.setAttribute("data-tms-ad-status","loaded"),G("tms.tags.ads.outbrain.callSdk","Ads - Post-article - Outbrain - New ad request after Ajax page changed",{wid:ki,wrapper:e}))},Pi=e=>{const t=e,n=de("div","",{class:"OUTBRAIN",id:`tms-ad-outbrain-${Math.random().toString().substring(2)}`,"data-widget-id":ki,"data-src":H("canonical"),style:`overflow: hidden;text-align:${B("rtl")?"right":"left"};position:relative;`});return G("tms.tags.ads.outbrain.inject","Ads - Post-article - Outbrain - Injected new Outbrain ad injection zone",{wid:ki,outbrainWrapper:n,parentContent:t}),re(n,t)},xi=()=>{if(G("tms.tags.ads.outbrain","Ads - Post-article - Outbrain - Init"),B("article")||B("depeche")||B("edition")){const e=ne('[data-tms-ad-status="idle"][data-tms-ad-type="post-article"]')[0],t=Vn("post-article");e&&(e.setAttribute("data-tms-ad-status",t?"disabled":"started"),t||(e.setAttribute("data-tms-ad-provider","outbrain"),Pi(e),Ai(e)))}},Ci=()=>{Ae((()=>{Ze((()=>{$t()?xi():Ye((()=>xi()),"outbrain")}))})),Le(xi)};var Ii={load:Ci,wid:ki,init:xi,inject:Pi,callSdk:Ai};const Si=()=>{if($(H("content_type"),["article","depeche"])&&!B("brand_content"))try{Sa(ne("article .t-content__body")[0]);const e=ne("article .t-content__body > p:not(:empty):not(.empty)");let t=!1;if(e.length>8&&(t=e.length-(B("mobile")?3:4)),!t||$(`${H("site_brand")}_${H("site_locale")}`,["f24_fr","f24_en","rfi_fr","rfi_cn","rfi_fa","rfi_ru"])||B("mobile")||(t=!1),t){const n=B("mobile")?"app":"newsletter",a=ne(`div[data-selfpromo-${n}]`)[0];let i="newsletter";if(B("mobile")){const e=B("iOS")?["apple","android",0]:["android","apple",1],t=["https://apps.apple.com/app/id","https://play.google.com/store/apps/details?id="],n={f24:["364379394","com.france24.androidapp"],rfi:["551782765","com.rfi.androidapp"],mcd:["731882365","com.mcd.androidapp"]},a=ne(`a[data-selfpromo-app-link='${e[1]}']`)[0];ce(a);ne(`a[data-selfpromo-app-link='${e[0]}']`)[0].href=t[e[2]]+n[H("site_brand")][e[2]],i=`app-${e[0]}`}const r=oe(a,e[t-1]),o=me(r);r.classList.remove("o-self-promo--hidden"),Gn(!0,["all"],`#${o} a`,"exit",i,H("content_type"),"selfpromotion"),G("tms.tags.ads.selfPromotion.init",`Ads - Self-Promotion - Placed ${n} promo before ${t}th paragraph`,r)}else G("tms.tags.ads.selfPromotion.init","Ads - Self-Promotion - No placement possible")}catch(e){}},Oi=()=>{Ae(Si),Le(Si)};var Ei={load:Oi,init:Si};const $i=a(document.location.href).dnrYT||"0";let Ui={},Ri={};const Li=()=>Ui,Mi=()=>Ri,ji={ready:"ready",playing:"playing",paused:"paused",ended:"stopped",cued:"cued",unstarted:"canplay",ad_playing:"ad_playing",ad_ended:"ad_ending"},Di={fr:"Plus d'actualités en vidéo",en:"More news videos",ar:"مزيد من الأخبار عبر الفيديو",es:"Más noticias en video",cn:"更多时事视频",tw:"更多時事視頻",ru:"Смотрите также",vi:"Theo dõi thêm thời sự qua vidéo"},Vi={f24:{fr:"UCCCPCZNChQdGa9EkATeye4g",en:"UCQfwfsi5VrQ8yKZ-UWmAEFg",ar:"UCdTyuXgmJkG_O8_75eqej-w",es:"UCUdOoVWuWmgo1wByzcsyKDQ"},rfi:{fr:"UCm4fSpMpPIZ9z6KHoezLUAg",en:"UC94pBdaUbepV5n3_F_isSWg",es:"UC4O4jH5PBsZagQ6aPWPibRQ",cn:"UCg0NEYEic019u0gp5UwRFmQ",tw:"UCg0NEYEic019u0gp5UwRFmQ",ru:"UCJmklJ8Q-Q4yWIRsqMrGbjQ",vi:"UCrcNctCerJODXX4XfVTbv5g"},mcd:{ar:"UCzyAonkXMAIi8bp7_05PV-Q"}},Fi=()=>B("f24")?"00a7e3":"e2001a",Ni=()=>Et("cookies","google")&&Et("create_ads_profile","google")&&Et("measure_ad_performance","google"),Hi=(e,t)=>{t.forEach((t=>{if(t.target.id===e){const n="function"==typeof Ui[e].getPlayerState?Ui[e].getPlayerState():-1;void 0===Ui[e].hasPlayed&&(Ui[e].hasPlayed=!1,Ui[e].hasAutoPaused=!1),!0===t.isIntersecting&&"function"==typeof Ui[e].playVideo?(-1===n||5===n||2===n&&Ui[e].hasAutoPaused||0===n&&!Ui[e].hasPlayed)&&(Ui[e].playVideo(),Ui[e].hasPlayed=!0,Ui[e].hasAutoPaused=!1,G("tms.tags.ads.youtubeRelated.setAutoplayInView","Ads - Post-article - YouTube Related - Autoplaying video because player is in viewport",{player:Ui[e]})):(1===n||-1===n&&Ui[e].hasPlayed)&&"function"==typeof Ui[e].pauseVideo&&(Ui[e].pauseVideo(),Ui[e].hasAutoPaused=!0,G("tms.tags.ads.youtubeRelated.setAutoplayInView","Ads - Post-article - YouTube Related - Paused video because player is out of viewport",{player:Ui[e]}))}}))},Bi=e=>{const t={event:e,player:e.target,playerId:e.target.getIframe().id,state:ji.unstarted,videoType:"youtube-smartembed"};switch(e.data){case ji.ready:case ji.ad_playing:case ji.ad_ended:t.state=e.data;break;case YT.PlayerState.PLAYING:t.state=ji.playing;break;case YT.PlayerState.PAUSED:t.state=ji.paused;break;case YT.PlayerState.ENDED:t.state=ji.ended;break;case YT.PlayerState.CUED:t.state=ji.cued;break;case YT.PlayerState.UNSTARTED:default:t.state=ji.unstarted}Pe((()=>Ce(`video_player.state.${t.state}`,t)))},qi=e=>{const t=ne(`#${e}`)[0];t&&(Ui[e]=new YT.Player(`${e}`,{events:{onReady:e=>{const t=e;t.data=ji.ready,Bi(t)},onStateChange:Bi,onAdPlay:e=>{const t=e;t.data=ji.ad_playing,Bi(t)},onAdEnd:e=>{const t=e;t.data=ji.ad_ended,Bi(t)}}}),Ri[e]=new IntersectionObserver((t=>{Hi(e,t)}),{root:null,threshold:[1]}),Ri[e].observe(t),G("tms.tags.ads.youtubeRelated.setAutoplayInView","Ads - Post-article - YouTube Related - Added YT API + autoplay to 1 player",{player:Ui[e]}))},zi=()=>{const e=tms.dom.select("[video-type=youtube]");if(e.length>0){const t=[];return e.forEach((e=>{const n=e.getAttribute("video-id")||!1;n&&t.push(n)})),G("tms.tags.ads.youtubeRelated.getExcludedVideos",`Ads - Post-article - YouTube Related - Found ${t.length} video${1===t.length?"":"s"} to exclude from recommendations`,{videoIds:t,videoNodes:e}),t.length>0?`&block_videos=${t.join(",")}`:""}return""},Qi=e=>{ue("https://www.youtube.com/iframe_api",{id:"youtube-script",async:""},(()=>{window.YT.ready(e),G("tms.tags.ads.youtubeRelated.loadSdk","Ads - Post-article - YouTube Related - Loaded YT SDK + attached callback",{callback:e})}),(e=>{G("error.tms.tags.ads.youtubeRelated.loadSdk","Ads - Post-article - YouTube Related - Could not load YT SDK",{error:e})}))},Ki=e=>{const t=e,n=H("site_brand"),a=H("site_locale"),i=a.replace("cn","zh-Hans").replace("tw","zh-Hant").replace("br","pt-BR"),r=Di[a]||Di.en,o=n in Vi&&a in Vi[n]?Vi[n][a]:Vi.f24.en,s=Math.random().toString().substring(2),l=Rt(),c={primaryThemeColor:`#${Fi()}`,relatedChannels:[o],autonavRelatedVideos:!0,hideInfoBar:!1,adsConfig:{adTagParameters:{iu:_i(),cust_params:wi("smart-embed")}}};"gdprApplies"in l&&(c.adsConfig.adTagParameters.cmpGdpr=l.gdprApplies?1:0,c.adsConfig.adTagParameters.cmpVcd=l.tcString,c.adsConfig.adTagParameters.cmpGvcd=l.addtlConsent);const d=de("div",`<aside class="o-aside-content  o-aside-content--no-background o-aside-content--related">\n<div class="o-aside-content__row o-aside-content__row--center">\n<div class="o-aside-content__title a-aside-title">${r}</div>\n</div>  \n<div class="o-aside-content__row o-aside-content__row--center" style="padding: 0 16px;">     \n<div class="m-em-video" style="width: 100%;max-width: 720px;">\n<div class="m-em-video__video-wrapper video-type-youtube">\n<iframe id="youtube-smartembed-${s}" class="youtube-smart-embed" width="560" height="315"\nsrc="https://www.youtube.com/smart_embed?channels=${o}${zi()}&hl=${i}&showinfo=1&color=white&rel=1&enablejsapi=1&origin=https%3A%2F%2F${window.location.hostname}&widget_referrer=https%3A%2F%2F${window.location.hostname.replace(/(rec|www)/,"yt-smartembeds")}&embed_config=${encodeURIComponent(JSON.stringify(c))}"\nframeborder="0" allow="accelerometer; autoplay;encrypted-media; gyroscope; picture-in-picture"\nreferrerpolicy="no-referrer-when-downgrade" title="YouTube videos" allowfullscreen></iframe>\n</div>\n</div>\n</div>\n</aside>`,{class:"o-ad-container t-content__related",id:`tms-ad-ytrelated-${s}`,"data-tms-ad-type":"yt-related","data-tms-ad-provider":"youtube","data-tms-ad-status":"loaded"});return G("tms.tags.ads.youtubeRelated.inject","Ads - Post-article - YouTube Related - Injected new YouTube Related player",{siblingContent:t,ytRelatedWrapper:d}),le(d,t),window.YT?window.YT.ready((()=>qi(`youtube-smartembed-${s}`))):Qi((()=>qi(`youtube-smartembed-${s}`))),d},Yi=e=>{if(G("tms.tags.ads.youtubeRelated","Ads - Post-article - YouTube Related - Init"),e||(Ui={},Ri={}),B("article")||B("depeche")){const e=ne('[data-tms-ad-type="post-article"]:not([data-tms-ad-ytrelated])')[0],t=Vn("yt-related");e&&(e.setAttribute("data-tms-ad-ytrelated",t?"disabled":"loaded"),Ni()&&!t?Ki(e):t||Ut("ads.youtubeRelated","ytrelated","loading"))}e&&window.addEventListener("message",(e=>{try{if("https://www.youtube.com"===e.origin){const t=e.data;if("object"==typeof t&&"message_id"in t&&"youtube-smart-embed-close"===t.message_id){ne(".youtube-smart-embed").forEach((n=>{if(n.contentWindow===e.source){const e=n.closest('[data-tms-ad-type="yt-related"]');G("tms.tags.ads.youtubeRelated","Ads - Post-article - YouTube Related - Removed player because no recommendations were available"+("1"===$i?" (Did not because of dnrYT in URL)":""),{node:n,parentNode:e,message:t}),"1"!==$i&&ce(e)}}))}}}catch(e){}}),!1)},Gi=()=>{Ae((()=>{Ze((()=>{$t()?Yi(!0):Ye((()=>Yi(!0)),"youtube-related")}))})),Le((()=>Yi(!1)))};var Wi={load:Gi,init:Yi,inject:Ki,players:Li,observers:Mi,loadSdk:Qi,autoplayVideo:Hi,trackerStateChanged:Bi,setAutoplayInView:qi,getExcludedVideos:zi,checkConsent:Ni,brandColor:Fi};let Ji=0;const Xi=(()=>{let e;return B("obs")?e="pa-55b5f8c8abe53d9c317560cb":"f24"===H("site_brand")?e="pa-55b5e9f3abe53dac307560cb":"rfi"===H("site_brand")?e="pa-55b5f893abe53d910d7560cb":"mcd"===H("site_brand")&&(e="pa-5b7195b854acd300160000f4"),e})(),Zi=e=>{ue(`https://rum-static.pingdom.net/${e}.js`,{id:"pingdom-script",async:""},(()=>{G("tms.tags.monitoring.pingdom.inject","Monitoring - Pingdom - RUM loaded",{prumId:e})}))},er=()=>{const e=a(document.location.href).force_prum||"0";Ji=Math.floor(100*Math.random()),"1"===e?(G("tms.tags.monitoring.pingdom.init","Monitoring - Pingdom - Forced injection"),Zi(Xi)):Ji<=("mcd"===H("site_brand")?5:2)?(G("tms.tags.monitoring.pingdom.init","Monitoring - Pingdom - User eligible",{drawRandom:Ji}),Zi(Xi)):G("tms.tags.monitoring.pingdom.init","Monitoring - Pingdom - User not eligible",{drawRandom:Ji})},tr=()=>{Ae((()=>{Ze((()=>{er()}))}))};var nr={load:tr,drawRandom:Ji,id:Xi,inject:Zi,init:er};const ar=()=>{nr.load()};var ir={load:ar,pingdom:nr};const rr=()=>{const e=It.getItem("_tms_journey");return JSON.parse(e&&"{"===e.substring(0,1)?e:"{}")},or=(e="pagesRead",t="")=>{let n=!0;const a=rr();a.evt=a.evt||{},"pagesRead"===e?a.pagesRead=parseInt(a.pagesRead+1||1,10):(a.evt[e]=""!==t?t:0,n=!1),a.end=a.end||new Date(6048e5+Date.now()).toUTCString();const i=window.location.host.replace(/([a-zA-Z0-9-]+\.)*([a-zA-Z0-9-]+\.)/,"$2");It.setItem("_tms_journey",JSON.stringify(a),a.end,"/",i),G("tms.tags.marketing.crm.updateJourney","Marketing - CRM - Updated user journey",a),n&&Ce("tms.event.userJourneyRefreshed",[a])},sr=()=>{Ae((()=>or("pagesRead"))),Le((()=>or("pagesRead")))};var lr={load:sr,getJourneyStatus:rr,updateJourney:or};const cr=[[2,"push_subscription"],[3,"pwa_banner"],[4,"app_banner"]],dr=e=>{const{pagesRead:t}=e;cr.forEach((n=>{const a=n[1]in(e.evt||{});t===n[0]?(G(`tms.tags.marketing.crm.fovEvents.${n[1]}`,`Marketing - CRM - FOV Events - Triggering PubSub event for ${n[1]}`,{el:n,journey:e}),Ce(`tms.event.marketing.${n[1]}`),or(n[1],1)):a||or(n[1],0)}))},ur=()=>{Me(((...e)=>dr(e[1][0])))};var pr={load:ur,init:dr};const gr=e=>{e.pagesRead%25==2&&1!==e.evt.popinSurvey&&(G("tms.tags.marketing.crm.popinSurvey","Marketing - CRM - Popin Survey - Sending popin.survey.show event in 3s",e),setTimeout((()=>{Ce("popin.survey.show"),setTimeout((()=>{Gn(!1,["all"],"[data-root-survey] .a-close-button","action","close","popin","survey"),Gn(!1,["all"],"[data-root-survey] .o-popin__btn > a","exit","open-survey","popin","survey")}),300),or("popinSurvey",1)}),3e3))},fr=()=>{Me(((...e)=>gr(e[1][0])))};var mr={load:fr,init:gr};const vr=(e={})=>{lr.load(),pr.load(),mr.load(),Object.keys(e).forEach((t=>e[t].load()))};var hr={load:vr,common:lr,fovEvents:pr,popinSurvey:mr};const br=()=>Et("cookies","c:batch")&&Et("create_content_profile","c:batch")&&Et("measure_content_performance","c:batch"),yr=()=>{if(br()){const e=H("content_type"),t=H("site_locale"),n=H("cat1"),a=H("cat2");try{window.batchSDK((i=>{const r="article"===e?"read_article":`visited_${e}`,o=`${n+(["edition","emission"].includes(e)?`|${a}`:"")}|${t}`;i.trackEvent(r,{label:o}),G("tms.tags.marketing.crm.batch.fire","Marketing - CRM - Batch - Hit - Page",{event:r,label:o})}))}catch(e){G("error.tms.tags.marketing.crm.batch.fire","Marketing - CRM - Batch - Hit - Page",e)}}else Ut("marketing.crm.batch.fire","batch","firing")},_r=()=>{br()?(G("tms.tags.marketing.crm.batch","Marketing - CRM - Batch - Init"),yr(),Le((()=>yr()))):Ut("marketing.crm.batch","batch","loading")},wr=()=>{Ae((()=>{Ze((()=>{$t()?_r():Ye((()=>_r()),"batch")}))}))};var Tr={load:wr,checkConsent:br,fire:yr,init:_r};const kr="1547077195584530",Ar=!0,Pr=()=>Et("cookies","facebook")&&Et("create_ads_profile","facebook")&&Et("measure_ad_performance","facebook"),xr=()=>{if(Pr())if(fbq("track","PageView"),G("tms.tags.marketing.pixels.fbPixel","Marketing - Pixels - Facebook Pixel - Hit - PageView",{fbq:fbq}),$(H("content_type"),["homepage","section","tag","emission","dossier"])){if("recherche"===H("content_type")){const e=H("page_name").replace("recherche.","");fbq("track","Search",{search_string:e}),G("tms.tags.marketing.pixels.fbPixel","Marketing - Pixels - Facebook Pixel - Hit - Search",{fbq:fbq,searchString:e})}}else{const e={content_ids:[H("content_id")],content_portal:`${H("site_brand")}_${H("site_locale")}${B("ppr")?"_rec":""}`,content_category:H("cat1"),content_title:H("page_name"),content_type:"product"};fbq("track","ViewContent",e),G("tms.tags.marketing.pixels.fbPixel","Marketing - Pixels - Facebook Pixel - Hit - ViewContent",{fbq:fbq,metaData:e})}else Ut("marketing.pixels.fbPixel.fire","fbPixel","firing")},Cr=()=>{if("1"!==(a(document.location.href).dfbp||"0"))if(Pr()){if(window.fbq)return;const e=function e(){return e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)};window.fbq=e,window._fbq||(window._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],ue("https://connect.facebook.net/en_US/fbevents.js",{id:"fbPixel-script",async:""},(()=>{fbq.agent=`fov-${H("site_brand")}`,fbq("set","autoConfig",Ar,kr),fbq("init",kr),G("tms.tags.marketing.pixels.fbPixel","Marketing - Pixels - Facebook Pixel - Init"),xr(),Le(xr)}))}else Ut("marketing.pixels.fbPixel","fbPixel","loading");else G("tms.tags.marketing.pixels.fbPixel","Marketing - Pixels - Facebook Pixel - Disabled because of QS")},Ir=()=>{Ae((()=>{Ze((()=>{$t()?Cr():Ye((()=>Cr()),"fbPixel")}))}))};var Sr={load:Ir,id:kr,autoConfig:Ar,checkConsent:Pr,init:Cr,fire:xr};const Or="p-UA2LVRcV0GQAR",Er=()=>`${H("site_brand")}_${H("site_locale")}`,$r=()=>Et("cookies",11)&&Et("create_ads_profile",11)&&Et("measure_ad_performance",11),Ur=e=>{if($r()){const t={qacct:Or,labels:Er()};e||(t.event="refresh"),window._qevents.push(t),G("tms.tags.marketing.pixels.quantcast","Marketing - Pixels - Quantcast Pixel - Hit - Page",t)}else Ut("marketing.pixels.quantcast.fire","quantcast","firing")},Rr=()=>{$r()?(window._qevents=window._qevents||[],ue("https://secure.quantserve.com/quant.js",{id:"quantcast-script",async:""},(()=>{G("tms.tags.marketing.pixels.quantcast","Marketing - Pixels - Quantcast Pixel - Init"),Ur(!0),Le((()=>Ur(!1)))}))):Ut("marketing.pixels.quantcast","quantcast","loading")},Lr=()=>{Ae((()=>{Ze((()=>{$t()?Rr():Ye((()=>Rr()),"quantcast")}))}))};var Mr={load:Lr,id:Or,checkConsent:$r,label:Er,fire:Ur,init:Rr};const jr=(e={})=>{Sr.load(),Mr.load(),Object.keys(e).forEach((t=>e[t].load()))};var Dr={load:jr,fbPixel:Sr,quantcast:Mr};const Vr="00518f0950dd1d41ab61ec38c907920b17",Fr=()=>Et("cookies",164)&&Et("create_ads_profile",164)&&Et("measure_ad_performance",164),Nr=()=>{Fr()?(window.obApi("track","PAGE_VIEW"),G("tms.tags.marketing.pixels.obPixel.fire","Marketing - Pixels - Outbrain Pixel - Hit - Page")):Ut("marketing.pixels.obPixel.fire","obPixel","firing")},Hr=()=>{if(Fr()){if(window.obApi){const e=e=>"[object Array]"===Object.prototype.toString.call(e)?e:[e];return void(window.obApi.marketerId=e(window.obApi.marketerId).concat(e(Vr)))}const e=()=>"dispatch"in window.obApi?window.obApi.dispatch(...arguments):window.obApi.queue.push(arguments);e.version="1.1",e.loaded=!0,e.marketerId=Vr,e.queue=[],window.obApi=e,ue("https://amplify.outbrain.com/cp/obtp.js",{id:"outbrain-pixel-script",async:""},(()=>{G("tms.tags.marketing.pixels.obPixel","Marketing - Pixels - Outbrain Pixel - Init"),Nr(),Le((()=>Nr()))}))}else Ut("marketing.pixels.obPixel","obPixel","loading")},Br=()=>{Ae((()=>{Ze((()=>{$t()?Hr():Ye((()=>Hr()),"obPixel")}))}))};var qr={load:Br,id:Vr,checkConsent:Fr,fire:Nr,init:Hr};const zr=()=>{const e={rfi:["BNLI-1351","rfi.fr"],f24:["BNLI-1352","france24.com"],mcd:["BNLI-1353","mc-doualiya.com"]};return e[H("site_brand")]||e.f24},Qr=()=>{if(/(article|edition|depeche|urgent)/gi.test(tms.var("content_type"))){if(window._nli)return;const e=zr(),t=[];t.loaded=!0,t.push(["brand",e[0]]),window._nli=t,ue(`https://go.${e[1]}/sdk.js`,{id:"nonli-pixel-script",async:""},(()=>{G("tms.tags.marketing.pixels.nonliPixel","Marketing - Pixels - Nonli Pixel - Init")}))}},Kr=()=>{Ae((()=>{Ze((()=>{$t()?(Qr(),Le((()=>Qr()))):Ye((()=>{Qr(),Le((()=>Qr()))}),"nonliPixel")}))}))};var Yr={load:Kr,getBrandSettings:zr,init:Qr};const Gr=B("rfi")?"b6184e74d5e8498ea2c5032d44798b10":"45920476d75a41b49d2f5b2db6ceb9b0",Wr=()=>Et("cookies","c:ownpage")&&Et("create_content_profile","c:ownpage")&&Et("measure_content_performance","c:ownpage"),Jr=()=>{Wr()?(window.Ownpage.trackPage(Gr),G("tms.tags.marketing.pixels.ownpage.fire","Marketing - Pixels - Ownpage Pixel - Hit - Page")):Ut("marketing.pixels.ownpage.fire","ownpage","firing")},Xr=()=>{Wr()?ue("https://script.ownpage.fr/v1/ownpage.js",{id:"ownpage-pixel-script",async:""},(()=>{G("tms.tags.marketing.pixels.ownpage","Marketing - Pixels - Ownpage Pixel - Init"),Jr(),Le((()=>Jr()))})):Ut("marketing.pixels.ownpage","ownpage","loading")},Zr=()=>{Ae((()=>{Ze((()=>{$t()?Xr():Ye((()=>Xr()),"ownpage")}))}))};var eo={load:Zr,id:Gr,checkConsent:Wr,fire:Jr,init:Xr};let to=!1;const no=()=>B("f24")?"PUB_9432":"PUB_7718";window.teads_analytics=window.teads_analytics||{},window.teads_analytics.analytics_tag_id=no(),window.teads_analytics.share=window.teads_analytics.share||(()=>{(window.teads_analytics.shared_data=window.teads_analytics.shared_data||[]).push(arguments)});const ao=()=>Et("cookies",132)&&Et("create_ads_profile",132)&&Et("measure_ad_performance",132)&&Et("cookies","c:krux-digital")&&Et("create_ads_profile","c:krux-digital"),io=()=>{ao()?to||ue("https://a.teads.tv/analytics/tag.js",{id:"teads-analytics-script",async:""},(()=>{G("tms.tags.inread.teadsAnalytics.init","Ads - Inread - Teads Analytics - Initial load",{id:no()}),to=!0})):Ut("ads.inread.teadsAnalytics","teads-analytics","loading")},ro=()=>{Ae((()=>{Ze((()=>{$t()?io():Ye((()=>io()),"teads-analytics")}))}))};var oo={load:ro,initialized:to,id:no,init:io,checkConsent:ao};const so=()=>{if("1"===(a(document.location.href).dp||"0")){const e=H("deeplink");alert(e),G("tms.tags.special.deeplink.init","Special - Deeplink - Shouted deeplink",e)}},lo=()=>{Ae(so)};var co={load:lo,init:so};window.didomiEventListeners=window.didomiEventListeners||[];const uo=e=>{const t={main:"757575",tpHover:"999",bg:"fff",bgRgba:"255,255,255,.9",font:"222",end:B("rtl")?"left":"right"};$(H("site_brand"),["f24","obs"])&&"fa"!==H("site_locale")?(t.main="00a7e3",t.tpHover="03c4ff"):(H("site_brand").indexOf("rfi")>-1||$(H("site_brand"),["mcd","obs"]))&&(t.main="e20000",t.tpHover="cc0000");const n=`.refusal-bar{font-family: ${"km"===H("site_locale")?"'NotoSansKhmer','Noto Sans Khmer',":""}Roboto, Helvetica, Arial, Verdana, sans-serif;font-style:normal;font-weight:400;font-size:15px;line-height:1.25;width:100%;position:fixed;bottom:0;background:#${t.bg};background:rgba(${t.bgRgba});backdrop-filter:blur(4px);z-index:999;text-align:center;box-shadow: 0 0 10px rgba(0,0,0,0.25);transition: all ease .4s;}\n.refusal-bar.ready,.refusal-bar.done{bottom:-240px;box-shadow: none;}\n.refusal-bar.video-displayed { top: 0; z-index:999999999999; }\n.refusal-bar  a,.refusal-bar a:active,.refusal-bar a:link,.refusal-bar a:visited{-moz-transition:color .3s ease;transition:color .3s ease;text-decoration:none;color:#${t.main}}\n.refusal-bar a:hover{color:#${t.font};}\n.refusal-bar .refusal-bar_btn{display:inline-block;padding:6px 8px;margin-inline-start:5px;line-height:20px;text-indent:0;color:#fff;text-decoration:none;text-align:center;cursor:pointer;-moz-transition:all .3s ease;transition:all .3s ease;background-color:#${t.main};-moz-box-sizing:border-box;box-sizing:border-box;${"infomigrants"===H("site_brand")?`border:1px solid #${t.main};`:""}}\n.refusal-bar .refusal-bar_btn:hover{background-color:#${t.tpHover};}\n.refusal-bar .refusal-bar_inner {position: relative; display:block; padding: 12px 0; max-width: 980px; margin: 0 auto;}\n.refusal-bar .refusal-bar_hide, .refusal-bar .refusal-bar_hide-video{ position:absolute; top:3px; ${t.end}:6px; font-size:24px; font-weight:normal; color:#BFBFBF; cursor:pointer;}\n.refusal-bar .refusal-bar_hide-video{ position:absolute; top:0; ${t.end}:8px;color: #FFF;text-shadow: 0px 1px 3px rgba(0, 0, 0, .75);}\n.refusal-bar p {margin:0; padding: 0; font-size: 15px; line-height: 1.25; color:#${t.font};}\n.refusal-bar ul {margin:4px 0 10px; padding-inline-start:24px;list-style-type: disc;}\n.refusal-bar li {margin-bottom:3px;} .refusal-bar svg{color:#fff;width: 20px;height: 20px;margin-inline-end: 5px;vertical-align: -5px;line-height: 20px;}\n.refusal-bar .refusal-bar_video { display:none; justify-content:center; align-items: center; position: fixed; width:100%; height:100%;}\n.refusal-bar .refusal-bar_video-player { position:relative; max-width: 980px; }.refusal-bar .refusal-bar_video-player video{ width:100% }\n.refusal-bar.video-displayed .refusal-bar_video { display:flex; }.refusal-bar.video-displayed .refusal-bar_inner { display:none; }\n.refusal-bar .refusal-bar_first {width:100%; text-align:start; padding-inline-end:24px; }\n.refusal-bar .refusal-bar_last {width:100%; display:flex; flex-direction:row; justify-content:flex-end; align-items: center; margin-top: 8px;}\nhtml[dir=rtl] .refusal-bar svg {direction:rtl;} html[dir=rtl] .refusal-bar, html[dir=rtl] .refusal-bar p, html[dir=rtl] .refusal-bar span{font-family: Arial, Verdana, sans-serif;font-size: 18px;line-height: 21px;}\n@media screen and (max-width: 1024px) {.refusal-bar .refusal-bar_inner {padding: 12px 10px;}.refusal-bar .refusal-bar_first {padding-inline-end:14px; }}`;fe(n);const a=H("site_brand").replace("obs","f24"),i=de("div",`<div class="refusal-bar ready"><div class="refusal-bar_inner"><div class="refusal-bar_first">\n<p><span><strong>${e[0]}</strong><ul><li>${e[1]}</li><li>${e[2]}</li><li>${e[3]}</li></ul></span></p></div><div class="refusal-bar_last"><span class="refusal-bar_btn refusal-bar_play-video"><svg xmlns="http://www.w3.org/2000/svg" viewBox="-372.5 -3464 28 28"><g transform="translate(-372.5 -3464)" stroke="currentColor" stroke-width="1" fill="none"><circle cx="14" cy="14" r="13"></circle></g><path d="M-361.587-3456v12.356l9.268-6.178z"></path></svg>${e[4]}</span>\n<span class="refusal-bar_btn refusal-bar_change">${e[5]}</span><span class="refusal-bar_hide">&times;</span></div></div><div class="refusal-bar_video"><div class="refusal-bar_video-player"><video controls controlslist="nodownload noremoteplayback disablePictureInPicture" playsinline="1" preload="none" poster="https://static.france24.com/rgpd/poster.png"><source src="https://vod-france24.akamaized.net/rgpd/${a}/${"mcd"===a?"ar":e[6]}.mp4" type="video/mp4"></video><span class="refusal-bar_hide-video">&times;</span></div></div></div>`);re(i,document.body),G("tms.tags.special.refusalBar.inject","Special - Refusal bar - Injected refusal bar at the end of page");const r=i.children[0];setTimeout((()=>r.classList.remove("ready")),350),ne(".refusal-bar_play-video")[0].addEventListener("click",(()=>{r.classList.add("video-displayed"),ne("video",r)[0].play(),G("tms.tags.special.refusalBar.inject","Special - Refusal bar - Clicked play video")})),ne(".refusal-bar_hide-video")[0].addEventListener("click",(()=>{r.classList.remove("video-displayed"),ne("video",r)[0].pause(),G("tms.tags.special.refusalBar.inject","Special - Refusal bar - Clicked close video")})),ne(".refusal-bar_change")[0].addEventListener("click",(()=>{r.classList.add("done"),setTimeout((()=>ce(r)),500),window.Didomi.notice.show(),G("tms.tags.special.refusalBar.inject","Special - Refusal bar - Clicked change")})),ne(".refusal-bar_hide")[0].addEventListener("click",(()=>{r.classList.add("done"),setTimeout((()=>ce(r)),500),G("tms.tags.special.refusalBar.inject","Special - Refusal bar - Closed bar")}))},po=e=>{window.didomiEventListeners.push({event:"notice.clickdisagree",listener(){uo(e)}})},go=e=>{Ae((()=>po(e)))};var fo={load:go,init:po,inject:uo};const mo=["Suite à votre choix :","Les articles ne peuvent plus afficher les contenus externes comme les vidéos YouTube, citations Twitter ou photos Instagram.","Des cookies non liés à vos données personnelles seront créés pour permettre au site de fonctionner.","Des publicités de moindre qualité risquent d’apparaître.","Comprendre pourquoi","Modifier mon choix","fr"];ot(dt),W(!0),Le((()=>W(!1)));const vo={atCampaign:hn,atClientSideUserId:_n,atContextVariables:kn,atPage:xn,atAvInsights:Sn,atPrivacy:$n,atOffline:Ln,atClicks:Dn,atFovClicks:Zn,atFovAv:ha},ho={batch:Tr},bo={obPixel:qr,nonli:Yr,ownpage:eo,teadsAnalytics:oo};fn.load(vo),Pa.load(),Va.load(),za.load(),ei.load(),bi.load({inread:Ua,hubvisor:ei}),Ua.load(),Ii.load(),Ei.load(),Wi.load(),ir.load(),hr.load(ho),Dr.load(bo),co.load(),fo.load(mo);const yo={stats:{atInternet:fn,chartbeat:Pa},special:{deeplink:co,refusalBar:fo},ads:{report:Va,sponsoring:za,hubvisor:ei,gam:bi,youtube:Ti,outbrain:Ii,selfPromotion:Ei,youtubeRelated:Wi},inread:Ua,monitoring:ir,marketing:{crm:{...hr,...ho},pixels:{...Dr,...bo}}};return e.context=Fn,e.cookies=It,e.data=st,e.dom=ve,e.event=at,e.gdpr=jt,e.is=B,e.log=G,e.str=L,e.tags=yo,e.var=H,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
